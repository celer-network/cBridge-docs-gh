<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Celer cBridge</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        <link rel="icon" href="favicon-dark.png" media="(prefers-color-scheme: light)">
        <link rel="icon" href="favicon-light.png" media="(prefers-color-scheme: dark)">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="shortcut icon" href="favicon-c2ed56b7.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-cc69e1fb.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-56612340.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/custom-fc75f45e.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-ed515dfc.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-1a2d8963.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>‚Üê</kbd> or <kbd>‚Üí</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">Celer cBridge</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="-welcome-to-cbridge"><a class="header" href="#-welcome-to-cbridge">üëã Welcome to cBridge</a></h1>
<p><img src=".gitbook/assets/image (52).png" alt=""></p>
<p>cBridge introduces the best-in-class cross-chain token bridging experience with deep liquidity for users, highly efficient and easy-to-use liquidity management for both cBridge node operators and Liquidity Providers who do not want to operate cBridge nodes, and new exciting developer-oriented features such as general message bridging for cases like cross-chain DEX and NFTs. All of the above is made possible by extending the existing functionality and services provided by the Celer State Guardian Network (SGN) powered by validators and stakers in the system with value capture.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="architectural-benefits"><a class="header" href="#architectural-benefits">Architectural Benefits</a></h1>
<p>A quick summary of improvements and additions brought by 2.0 architecture.</p>
<p>For users</p>
<ul>
<li><strong>Deep liquidity</strong>: supports much larger transfer sizes. </li>
<li><strong>Simpler to use</strong>: offer an option to reduce two-step operations to a single click.</li>
<li><strong>Native gas token unwrapping</strong>: e.g. transfer WETH from BSC to unwrapped ETH on Arbitrum. </li>
<li><strong>Extend to even more tokens and chains</strong></li>
<li><strong>Insured bridge node Service Level</strong>: did you initiate a transfer but the bridge node was not available? Slash cBridge node‚Äôs bond to cover your opportunity cost! </li>
</ul>
<p>For LPs and cBridge node operators</p>
<ul>
<li><strong>LPs don‚Äôt have to run a cBridge node</strong>: in cBridge 1.0, the only way to provide liquidity is to run a cBridge node. In 2.0, we added a second mode where the SGN itself acts as a ‚ÄúcBridge node.‚Äù For LPs satisfied with PoS-consensus-level security based on CELR token economics in the SGN, they can directly delegate liquidity to the network without operating a node themselves. </li>
<li><strong>Simple Liquidity Provider (LP) experience</strong>: No minting synthetic tokens, no volatile token pair AMM pool, no high impermanent loss, no complicated rebalancing. Simply add liquidity to the chain of your choice and start to earn fees! </li>
<li><strong>High liquidity efficiency:</strong> No double liquidity locking, fully utilize liquidity with the highest yield.</li>
<li><strong>Incentivized liquidity rebalance</strong>: lopsided liquidity movement? No worries! An AMM-style bonding curve and a flexible liquidity mining mechanism are in place to incentivize LPs and arbitrageurs to rebalance liquidity cross-chain. </li>
<li><strong>High Quality-of-Service node scheduling:</strong> For LPs operating self-custodial cBridge nodes, the SGN becomes the decentralized layer to allocate user transfer requests to different LPs through policies that incentivize high-quality service and competitive pricing.</li>
</ul>
<p>Fo staker and validators participating in State Guardian Network</p>
<ul>
<li><strong>Value capture:</strong> In return for their active services and roles in supporting cBridge 2.0, PoS stakers and validators in the SGN directly capture the value of cBridge via fees paid to the block producer facilitating user‚Äôs bridging request. This is very much like fee being paid for any PoS blockchain validators.</li>
<li><strong>Governance:</strong> Various system parameters including pricing curve, fee percentage, and more are governed through a decentralized governance process built in the active service SGN.</li>
</ul>
<p>For developers:</p>
<ul>
<li><strong>White-label frontend SDK</strong>: Allows multi-chain dApp to have a built-in cross-chain experience.</li>
<li><strong>Cross-chain messaging for NFT and more</strong>: Allows developers to build applications beyond simple cross-chain asset transfers, including cross-chain DEX and NFT cross-chain minting. </li>
</ul>
<p>So, how do we achieve all of these cool improvements and innovations? What bridging design tradeoff space do we cover in the 2.0 architecture? At a high level, how exactly do all of these things work? </p>
<p>Answer: <strong>The State Guardian Network (SGN).</strong></p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="state-guardian-network"><a class="header" href="#state-guardian-network">State Guardian Network</a></h1>
<p><img src=".gitbook/assets/image (87).png" alt=""></p>
<p>The Celer State Guardian Network (SGN) has been an essential part of Celer Network‚Äôs architecture. In Celer‚Äôs layer-2 scaling architecture, the SGN is a <strong>specialized</strong> Proof-of-Stake (PoS) chain that serves the purposes of monitoring L1 transactions related to L2 state and faithfully passing layer-2 information back to layer-1 when needed. </p>
<p>In the <a href="https://www.celer.network/celercore/sgn/guardian.html">Celer State Channel</a>, the SGN helps store channel states and respond to malicious settlements on L1 when needed. In the Celer <a href="https://blog.celer.network/2021/02/18/layer2-finance-get-defi-mass-adoption-today-scaling-layer-1-defi-in-place-with-zero-migration/">layer2.finance rollup chain</a>, the SGN extends as a decentralized block producer network to pass call data and state roots back to the L1 blockchain and submit fraud-proof from any SGN node even when the entire PoS consensus fails. </p>
<p>CELR holders can stake their tokens into the SGN by becoming a validator or through delegation and actively provide the above-mentioned services. SGN participants receive staking rewards as well as fees in exchange for the services they help provide. </p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="sgn-and-cbridge"><a class="header" href="#sgn-and-cbridge">SGN and cBridge</a></h1>
<p>The SGN serves multiple roles in the cBridge 2.0 architecture:</p>
<ul>
<li>The SGN as a cBridge node gateway and Service Level Agreement (SLA) arbitrator</li>
<li>The SGN as a Shared Liquidity Pool Manager</li>
</ul>
<p>In the next two sections, we introduce the detailed utility of SGN in cBridge 2.0.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="the-sgn-as-a-cbridge-node-gateway-and-service-level-agreement-sla-arbitrator"><a class="header" href="#the-sgn-as-a-cbridge-node-gateway-and-service-level-agreement-sla-arbitrator">The SGN as a cBridge node gateway and Service Level Agreement (SLA) arbitrator</a></h1>
<p><img src=".gitbook/assets/image (72).png" alt=""></p>
<h3 id="design-choices-and-limitations-of-10"><a class="header" href="#design-choices-and-limitations-of-10"><strong>Design Choices and Limitations of 1.0</strong></a></h3>
<p>In cBridge 1.0, when a cBridge node joins the network, it registers to a gateway service with various information such as fee schedule and liquidity status. This gateway will continuously monitor the status and performance of the cBridge node. When a user request is made, it is directed to the gateway. The gateway evaluates the registered nodes based on liquidity availability, historical bridging success rate, fee, and more. Then it suggests the most suitable bridge node for the request. In 1.0, we chose to use a centralized gateway to quickly learn operation experiences on various scheduling policies. </p>
<p>Basically, what the 1.0 gateway provides to the user is really an ‚ÄúFYI‚Äù <em>suggestion</em> to use certain cBridge nodes. Although cBridge 1.0 is built with non-custodial architecture and users NEVER need to put trust in nodes for their fund‚Äôs security, there is indeed a user experience issue related to node availability. As an example, if after a user sends a conditional transfer to a node but the node goes offline before the two-step HTLC transfer is complete, they will have to wait until the conditional transfer times out, without any penalty to or compensation from this offline cBridge node.</p>
<p>We solve both of these limitations in 2.0 via the SGN. </p>
<h3 id="decentralized-bridge-node-scheduling-via-the-sgn"><a class="header" href="#decentralized-bridge-node-scheduling-via-the-sgn"><strong>Decentralized bridge node scheduling via the SGN</strong></a></h3>
<p>In 2.0, we first decentralized all of the gateway logic by migrating it as a service on top of the SGN. Instead of registering with a centralized gateway service, cBridge nodes will register with the SGN with their fee preference, availability of liquidity, and more. </p>
<p>When a user request is made, this is the ‚Äúhappy‚Äù system flow:</p>
<ul>
<li>The user queries the current state of the SGN to get an estimated transaction fee and liquidity availability. </li>
<li>If the estimation is acceptable, the user sends the first half of the HTLC transfer with max fee tolerance specified.</li>
<li>The SGN monitors and picks up the transaction. It assigns one or more registered cBridge nodes to the transaction based on node selection rules. This transaction assignment is written on the SGN chain and also marked on the user‚Äôs HTLC transfer. </li>
<li>The assigned node picks up the assignment and responds by completing the rest of the conditional transfer.</li>
<li>The SGN continues to monitor and track the transaction and once the transaction is successfully completed, the state related to this transaction is purged from the SGN chain.</li>
</ul>
<p>This allows for a much more scalable cBridge node onboarding process with a consensus-based and unbiased node selection process. But we didn‚Äôt stop there.</p>
<h3 id="bridge-node-sla-bond-and-slashing-mechanism"><a class="header" href="#bridge-node-sla-bond-and-slashing-mechanism"><strong>Bridge node SLA bond and slashing mechanism</strong> </a></h3>
<p>As opposed to 1.0‚Äôs gateway, the SGN-as-a-gateway architecture monitors the whole process of the cross-chain transaction. As a decentralized PoS chain, the SGN can now offer more than just a ‚Äúfriendly suggestion.‚Äù It can also enforce penalties to registered cBridge nodes that cannot complete transactions assigned to them ‚Äúas promised.‚Äù </p>
<p>When a cBridge node registers with the SGN, it can put down an ‚ÄúSLA bond‚Äù (i.e. a bunch of tokens with value) associated with some SLA promises (e.g. availability, fee level, and liquidity reserve) in a pool contract. If the SGN determines that this node violates the SLA, such as being offline with an assigned transfer, the SGN can slash the bond as compensation to the user for the degraded user experience and liquidity opportunity cost. (remember, <strong>no fund loss for users is</strong> possible, this is just for ‚Äúfund getting stuck‚Äù cost.) </p>
<p>During node selection, the value available in the SLA bond is a key factor in how the node is prioritized in the transfer assignment process. Honest and reliable cBridge nodes are heavily incentivized to invest in a reasonable SLA bond to increase their chances of getting selected in the bridging process. On the other hand, less reliable nodes will be driven out of the system or will only be called upon as a last option. Finally, cBridge nodes can only be de-registered with the SGN once there are no pending cross-chain transactions. </p>
<p>With the SLA bond slashing capability powered by the decentralized ‚ÄúSGN gateway,‚Äù the node availability challenge, and more generally, the SLA assurance concerns, are solved. This is aimed to facilitate a healthy, fast-growing, and decentralized cBridge node operator network for liquidity providers who want to maintain their self-custodial liquidity.</p>
<p>Some may argue that the SLA bond is not a 100% self-custodial setting due to the possibility of having the SLA bond wrongly slashed because of the possibility of a PoS consensus failure.  </p>
<p>While this is true, we want to highlight that the SLA bond only needs to be a very tiny portion of the total liquidity in order to become highly efficient in ensuring a smooth user experience and a self-healing cBridge node operator ecosystem. This is a very worthwhile tradeoff to make and most importantly, the entire transfer process stays 100% non-custodial. </p>
<h3 id="node-selection-rule"><a class="header" href="#node-selection-rule"><strong>Node selection rule</strong> </a></h3>
<p>The principle of the node selection rule design is to optimize for user experience. We build an empirical Node Quality Score formula to incorporate multiple factors such as the parameters in a node‚Äôs SLA (fee, response time) as well as historical performance. (e.g. success rate, average response time) When selecting nodes for user requests, we prioritize the nodes according to this score. We expect this formula to iterate and optimize over time with empirical operation experiences through protocol governance.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="the-sgn-as-a-shared-liquidity-pool-manager"><a class="header" href="#the-sgn-as-a-shared-liquidity-pool-manager">The SGN as a Shared Liquidity Pool Manager</a></h1>
<p>\</p>
<p><img src="https://lh5.googleusercontent.com/JF9gj9sNjs_BHYAX6npV9K3OJo-R4xu1LWAymN9fzYcY7Xx5Y-tnVMU34CSP1s4a2xS2jw7DQRD_8uYSVTj142fSKGlezzk3uKpscd4cYNVoP8_TDMXTJd_RybVtyS0VrnCAAg_j=s0" alt=""></p>
<h3 id="provide-liquidity-without-running-a-cbridge-node"><a class="header" href="#provide-liquidity-without-running-a-cbridge-node"><strong>Provide liquidity without running a cBridge node</strong></a></h3>
<p>The above improvements are designed more for self-custodial LPs who are capable of running their own cBridge nodes. However, we recognize that there are a large number of LPs and users who want to provide liquidity without running a cBridge node themselves and are satisfied with the security level provided by the SGN‚Äôs PoS consensus with CELR staking. In addition, through a shared liquidity pool model, the entire network liquidity can be easily bootstrapped to facilitate a much better user experience much faster.  </p>
<p>So in cBridge 2.0, we are introducing an entirely new model of operation where the SGN manages shared liquidity pool contracts on multiple chains. This effectively treats the SGN and its managed liquidity pool as a single ‚Äúnode‚Äù along with all the other non-custodial LP-managed nodes and gives an option to the LPs to delegate liquidity easily without the hassle of running a node. </p>
<p>So, without any ambiguity, what security level does this model offer?</p>
<h3 id="pos-level-security-and-decentralized-governance"><a class="header" href="#pos-level-security-and-decentralized-governance"><strong>PoS-level security and decentralized governance</strong></a></h3>
<p>In cBridge 2.0, shared liquidity pool contracts are managed through the SGN‚Äôs PoS consensus. CELR staking weighted multi-signatures are needed to move funds in the pool contracts and malicious or faulty nodes will be slashed out of their staking token. It is only when nodes with more than ‚Öî of the total stake are malicious, that the fund pool will be at risk. We want to stress that as the number of cBridge transactions grows and the total value captured by the network grows, it will be a naturally increasing economic deterrent for any node to try to behave maliciously. </p>
<p>The validator governance model in the SGN is open and decentralized: the SGN allows new validators to be elected and join the validator set through the staking governance process without any special coordination processes. </p>
<h3 id="simple-liquidity-provider-lp-experience-and-high-liquidity-efficiency"><a class="header" href="#simple-liquidity-provider-lp-experience-and-high-liquidity-efficiency"><strong>Simple Liquidity Provider (LP) experience and high liquidity efficiency</strong></a></h3>
<p>So how do LPs manage their liquidity in this model? Existing solutions require LPs to put canonical token liquidity along with another protocol-controlled settlement token in on-chain AMM pools. But this model has a few drawbacks:</p>
<ul>
<li>Some models require LPs to use a highly volatile settlement token and therefore inherently expose LPs to a significant impermanent loss. </li>
<li>Even in the case of minting synthetic tokens through canonical liquidity tokens, LPs still suffer from complicated operational overhead when adding, removing, and rebalancing liquidity across multiple chains. </li>
<li>In the case where ‚Äúbonder‚Äù liquidity is required, the liquidity efficiency is lower because the liquidity requirement for any transfer is double what‚Äôs necessary. </li>
</ul>
<p>cBridge 2.0 provides a simple LP experience and high liquidity efficiency through a new design to solve the ‚Äúliquidity attribution problem.‚Äù To understand our system design, we will first explain what ‚Äúliquidity attribution‚Äù means. In any multi-chain bridging system, when a user sends funds from a source chain to a destination chain, LP(s) (or aggregated pools) essentially pay funds to the user on the destination chain while receiving funds from the user on the source chain. Now, let‚Äôs say there is an LP providing liquidity to the system on chain A. When a user sends funds from chain B to chain A,  the LP‚Äôs liquidity essentially is ‚Äúredistributed‚Äù: their liquidity on chain A is reduced and their liquidity on chain B is increased. The liquidity attribution problem is defined as ‚Äúhow does the system allow every LP to know where all of their liquidity is?‚Äù and hence how to effectively manage the liquidity to optimize for transaction fee yield. </p>
<p>An AMM pool-based solution tracks LPs liquidity implicitly via the distribution of settlement tokens and canonical tokens in the AMM pool. The bridging fabric (e.g. TSS validators or L2-to-L1 messaging protocols) only manages the minting and burning of the settlement tokens cross-chain. The user will always need to pay for an AMM swap from the settlement token to the canonical token on the destination chain; sometimes even on the source chain as well. When a lopsided liquidity movement happens in the network, it makes sense to move liquidity from the liquidity-abundant chain to the liquidity-scarce chain to arbitrage the slippage. Arbitragers will have an incentive to rebalance the liquidity by sending funds from the liquidity-scarce chain to the liquidity-abundant chain. </p>
<p>Active LPs have stronger incentives due to that they don‚Äôt need to pay additional bridging fees to harvest the arbitrage gain. However, the rebalancing process for LP is quite complicated. As an example, if we denote the liquidity-scarce chain as S and liquidity-abundant chain as A, an LP would need to take the following steps:</p>
<ul>
<li>Remove liquidity from the AMM pool in S. </li>
<li>Move the settlement token from S to A. </li>
<li>Sell the settlement token to the canonical token on A at a premium </li>
<li>Move the canonical token back to S. </li>
<li>Purchase the settlement token on S. </li>
<li>Add liquidity back into the AMM pool on S. </li>
</ul>
<p>The above steps not only cause operational overhead but can also incur significant transaction and time costs. (e.g. in the case of the bonder model) </p>
<p>In cBridge 2.0, we argue that the bridging fabric (in our case the SGN) is specialized and can be highly optimized to have fundamentally lower costs when compared to on-chain smart contract operations. Therefore, in the cBridge 2.0, every LP‚Äôs liquidity in the system is explicitly tracked. Adding liquidity is super simple: just one transaction to add the canonical token into the liquidity pool contract and the SGN will record each LP‚Äôs liquidity amount in the SGN‚Äôs chain state. In essence, the SGN maintains a table of (chain_id, LP_address, token_type, balance) in its chain states.</p>
<p>When processing cross-chain transfer requests, the SGN will use the entire pool‚Äôs liquidity to calculate the slippage and pricing. (more on this in the next section) The SGN then treats LPs as ‚Äúvirtual cBridge nodes‚Äù and allocates the transfer request against the LP‚Äôs liquidity. A simplified conceptual understanding is that, for every transfer request, every destination chain‚Äôs LP‚Äôs balance is reduced proportionally to their available liquidity while their liquidity balance is increased on the source chain. Of course, various methods including random sampling and approximation algorithms are used to minimize state changes and hence costs, all while maintaining statistical fairness among LPs. More details are in our technical documentation. </p>
<p>The same arbitrager-based rebalance incentives applies, but this design additionally gives LPs the utmost flexibility when managing their liquidity. Every LP can clearly see exactly how their liquidity is distributed at any given time. This allows them to be fully informed when choosing to remove or add liquidity to any chains. This significantly simplifies the liquidity rebalancing process from 6 steps to 3 steps with no AMM swap costs:</p>
<ul>
<li>The LP removes liquidity from A directly in canonical tokens. Due to system-wide pricing difference, with this first step, the LP locks in the arbitrage gain.</li>
<li>The LP moves the canonical tokens from A to S.</li>
<li>The LP adds the canonical tokens on pools in S. </li>
</ul>
<p>It is still possible for LPs to remove all liquidity from a single chain or any combination of specific chains. In cBridge 2.0, the way to do this is to trigger an internal cross-chain transfer and treat the LP as a user and transfer their liquidity to the desired chains and then remove the liquidity. Note that in this case, the LP will shoulder the system slippage for the cross-chain transfer. However, this is no different than directly swapping settlement tokens for the on-chain AMM-based solutions and in fact, has a lower cost. </p>
<p>What‚Äôs more, as described in this model, LPs use canonical token liquidity directly and therefore do not suffer from high impermanent loss. Plus, it provides the highest level of liquidity efficiency without any additional bonder liquidity lockup requirement.</p>
<h3 id="cross-chain-bridge-pricing-to-incentive-balanced-liquidity"><a class="header" href="#cross-chain-bridge-pricing-to-incentive-balanced-liquidity"><strong>Cross-chain bridge pricing to incentive balanced liquidity</strong> </a></h3>
<p>In a cross-chain bridging system, liquidity for the same canonical token exists on multiple chains. As the demand for the same canonical token shifts for different chains, the inherent pricing between the same token on different chains also dynamically changes. This is based on the underlying costs to use those native bridges to move across different chains and the supply-demand balance of liquidity on those different chains. </p>
<p>It is very important for any bridging solution to be able to capture this inherent pricing shift with a properly designed bonding curve. This creates important incentives for LPs to leverage the ‚Äúeconomies of scale‚Äù and rebalance liquidity across multiple chains to maintain a network with sufficient and balanced liquidity to process all of the user requests. </p>
<p>Continuing with our design principle of having an ‚Äúintelligent fabric,‚Äù we build a Curve-inspired bonding curve pricing mechanism inside the SGN. When a user transfers tokens from one chain to another, the SGN will calculate the received token based on the available liquidity on the source and destination chains. In addition to the slippage and pricing, a flat fee is deducted from the transaction as payment to LPs. </p>
<p>Specifically, for any pair of chains, <em>i</em> and <em>j</em>, let xiand xjbe the balance on-chain <em>i</em> and chain <em>j</em> for a given token, respectively. Then the following invariant should always hold true when we calculate the pricing and slippage of token transfers between chain <em>i</em> and chain <em>j</em>:</p>
<p><img src="https://lh6.googleusercontent.com/PZSvsIZNgCbONPVyJqWciygUrrO91Izd6vkumejI8W_4YWD0EKANPepv5CzdY5tWASsIuKzW6PwY7d94ArCTsiOV1vewv9YvOnIpcNY5oW69sCVqYhEJIFa8HisGAhJ7fCS9srs5=s0" alt=""></p>
<ul>
<li><em>A</em> is a per-chain-pair constant. For the same chain pair, <em>A</em> is the same for all tokens.</li>
<li><em>D</em> is a variable. The initial <em>D</em> can be obtained by solving a cubic equation against <em>D</em> given the initial liquidity on the two chains. After that, <em>D</em> should be iteratively updated based on liquidity status. </li>
<li>wi and wj are the relative weights for the two chains, which is used to control the pricing asymmetry for the transfers. Note that the configuration of weights is per-chain-pair and should satisfy wi+wj=2. </li>
</ul>
<p>The reason we have these weight parameters in the bonding curve is to capture the inherent asymmetry of certain chains. For example, transferring into optimistic rollups, such as Arbitrum and Optimism, is much simpler and lower cost than the 7-day delay of transferring out. Therefore, we can control the weight in the bonding curve to reflect this inherent difference created by each and every chain. </p>
<p><img src="https://lh3.googleusercontent.com/ehrMx9687FkLS5vDsy5ysi0t7R3PoDJw3BgerGnDXkznZP84DZdkzOlwcHVQEVp_9zFlDBB10zj3MJYHOu3xS4M6l6FQmWIAfWrABx4EcfFCkMGroc5lI4Myq1enxyOFquuCKnBR=s0" alt=""></p>
<p>In the above red asymmetric curve with the blue symmetric reference line, we can see the curve creates more slippage for transfers from chain <em>i</em> to chain <em>j</em> when the imbalance happens. If wi=1, wj=1, it reduces to the Curve invariant.</p>
<p>It is also possible to treat an entire network of similar canonical liquidity as a single multi-variable bonding surface. More analysis is needed on the effects of these two different potential designs in terms of slippage effectiveness and cost of operation. </p>
<h3 id="general-cross-chain-messaging"><a class="header" href="#general-cross-chain-messaging"><strong>General cross-chain messaging</strong> </a></h3>
<p>cBridge 2.0 creates an intelligent cross-chain fabric based on the SGN. This fabric can do more than just cross-chain asset transfers. Under the asset bridging functionality is actually a general cross-chain messaging framework where the SGN monitors certain events on the source chain and posts a PoS consensus secured notarization on the destination chain. </p>
<p>We will be gradually opening up this underlying functionality to developers as an SDK to build use cases for not only on-chain bridging, but for other use cases like cross-chain NFT, cross-chain DeFi aggregation, and more. </p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="fungible-token-bridging-models"><a class="header" href="#fungible-token-bridging-models">Fungible Token Bridging Models</a></h1>
<p>Celer cBridge supports two fungible token bridging models:</p>
<ul>
<li>
<p><strong>xAsset, the canonical mapping bridge:</strong> This model is intended for a token that needs to be bridged from its original source chain, chain A, to a new chain, chain B, when it has not yet been deployed on chain B. Celer cBridge will create a mapped version of the token on chain B via a lock-and-mint model.<br><br>When a user transfers the token from chain A to chain B, the original tokens will be locked on chain A and an equal number of tokens will be minted in a 1:1 pegged ratio and sent to the user on chain B. Reversely, when a user transfers tokens from chain B to chain A, the pegged tokens will be burned on chain B and an equal number of tokens will be sent back to the user on chain A.<br><br><strong>Please Note:</strong> In <a href="https://blog.celer.network/2022/06/02/celer-cbridge-launches-xasset-v2-to-support-omni-directional-cross-chain-transfers-for-bridged-tokens/">xAsset v2,</a> in addition to bridging between the original source chain and the specific canonically mapped destination chain, tokens can also be bridged between different canonical mapping chains in a mint-and-burn method without routing back to the original chain. This way there is only one copy of the canonically mapped token on all of the supported canonical mapping chains.\</p>
</li>
<li>
<p><strong>xLiquidity, the pool-based bridge.</strong> This model is intended for a token that has been deployed on different chains and does not conform to the <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/contracts/pegged-bridge/tokens/MintSwapCanonicalToken.sol">cBridge standard</a>. Liquidity pools will be created on the various chains to support bridging. When users transfer between these chains they will be depositing their tokens into the pool on the source chain and withdrawing a matching number of tokens from the pool on the destination chain based on a bridge rate generated by the <a href="https://classic.curve.fi/files/stableswap-paper.pdf">StableSwap pricing curve</a>.</p>
</li>
</ul>
<h2 id="xasset-architecture"><a class="header" href="#xasset-architecture">xAsset Architecture</a></h2>
<p>Suppose token T has been deployed on chain A but not yet on chain B. If bridging is needed for the token T between chain A and chain B, then two contracts need to be deployed: </p>
<ul>
<li><strong>TokenVault</strong> contract. This contract is deployed on chain A. The user can deposit token T into this vault and receive pegged tokens on chain B, or withdraw token T from the vault if pegged tokens are burned on chain B.</li>
<li><strong>PeggedToken</strong> contract which mints or burns the pegged tokens on chain B.</li>
</ul>
<p><strong>Transfer from chain A to chain B (Lock-and-Mint Flow)</strong></p>
<p>The below figure illustrates the steps for bridging token T from chain A to chain B.</p>
<ol>
<li>User deposits X number of token T to the TokenVault contract on chain A.</li>
<li>The Celer State Guardian Network (SGN) monitors the deposit event. Upon receiving the deposit event, the SGN generates a multisig that grants minting X pegged tokens on chain B.</li>
<li>The relayer fetches the SGN‚Äôs multisig.</li>
<li>On chain B, the relayer calls the PeggedToken contract with the multisig.</li>
<li>The PeggedToken contract mints X tokens to the user on chain B.</li>
</ol>
<p><img src=".gitbook/assets/mint-flow.png" alt=""></p>
<p><strong>Transfer from chain B to chain A (Burn-and-Release Flow)</strong></p>
<p>The below figure illustrates the steps for bridging the pegged tokens from chain B back to chain A.</p>
<ol>
<li>User calls PeggedToken contract to burn X pegged tokens on chain B.</li>
<li>The Celer SGN monitors the burn event. Upon receiving the burn event, the SGN generates a multisig that grants the withdrawal from the TokenVault contract on chain A.</li>
<li>The relayer fetches the SGN‚Äôs multisig.</li>
<li>On chain A, the relayer calls the TokenVault contract with the multisig.</li>
<li>The TokenVault contract sends back X number of token T to the user.</li>
</ol>
<p><img src=".gitbook/assets/burn-flow.png" alt=""></p>
<h3 id="xasset-fee-structure"><a class="header" href="#xasset-fee-structure">xAsset Fee Structure</a></h3>
<p>The fee for a token bridged in the xAsset model is calculated as such: <br>Fee = Base Fee + Protocol Fee</p>
<p>The <strong>Base Fee</strong> is paid in the form of the tokens being transferred, and covers the destination-chain gas cost for sending the tokens to the user.</p>
<p>The <strong>Protocol Fee</strong> is proportional to the transfer amount, and is paid to State Guardian Network (SGN) validators and stakers in return for their services. The <strong>Protocol Fee</strong> ranges from 0% to 0.5% of the total transfer amount.</p>
<h3 id="xliquidity-fee-structure"><a class="header" href="#xliquidity-fee-structure">xLiquidity Fee Structure</a></h3>
<p>The fee for a token bridged in the xLiquidity model is calculated as: <br>Fee = Base Fee + Protocol Fee</p>
<p>The <strong>Base Fee</strong> is paid in the form of the tokens being transferred, and covers the destination-chain gas cost for sending the tokens to the user.</p>
<p>The <strong>Protocol Fee</strong> is proportional to the transfer amount (after a bridge rate conversion), and is paid to cBridge liquidity providers and State Guardian Network (SGN) validators and stakers in return for their services. The <strong>Protocol Fee</strong> ranges from 0% to 0.5% of the total transfer amount.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="cbridge-security"><a class="header" href="#cbridge-security">cBridge Security</a></h1>
<p>We‚Äôve seen time and again news headlines about how different cross-chain bridges have been compromised and hacked, so it is important for our community, users, and developers to have a clear understanding of the security models of the Celer Inter-chain Message Framework (Celer IM). Different from existing interoperability solutions, Celer has <strong>two</strong> different security models, an <strong>optimistic-rollup</strong> inspired model and a <strong>L1-PoS-blockchain security model</strong>. Each of these comes with different delay and security assumptions tradeoffs that developers and users can freely choose from or set. The security model is highly flexible and even for a single application, developers can choose to build a hybrid model based on the ‚Äúvalue‚Äù or ‚Äúsignificance‚Äù of every cross-chain message.</p>
<p>In fact, Celer cBridge, an asset bridge built on top of Celer IM, supports a hybrid model so that the various tradeoffs can be dynamically chosen by the connecting chain based on the cross-chain transfer amount, token and source/destination chain. </p>
<h3 id="quick-recap-of-how-celer-inter-chain-message-works"><a class="header" href="#quick-recap-of-how-celer-inter-chain-message-works">Quick Recap of How Celer Inter-chain Message Works</a></h3>
<p><img src="https://lh5.googleusercontent.com/UsGqbTHTevWwdIAl0wEhJoH4cCbj-5AXQLXj2SfA4MfH54j4si5F80x91ltZ23eDJl0SF9vCRMVa5RH0Vv05dGk8IAJlJdlOvzkzB1zWnbua7xp9b5Kh_me5HO-APUJ_2zrVx_s" alt=""></p>
<p>Celer Network consists of smart contracts that are deployed on each chain. These contracts are all monitored and operated by the State Guardian Network (SGN), which serves as the ‚Äúcross-chain message router‚Äù. The SGN is implemented as a <strong>Cosmos-based blockchain with $CELR PoS staking from a set of distributed validators</strong>. To send a message, bridge an asset, or invoke smart contract calls cross-chain, a user or a dApp will first send their intention as a message with a structured header and binary payload to a Message Bus smart contract on the source chain. Then the validators in the State Guardian Network blockchain, will monitor these events containing messages and first reach a consensus on the existence of such a message through the <strong>Cosmos consensus protocol</strong> and concurrently generate a stake-weighed multi-signature attestation. This attestation is then relayed to the destination via an Executor subscribing to the message. On the destination chain, the same Message Bus contract exists to check the validity of the message and triggers the corresponding logic associated with the message <strong>either immediately or after an Optimistic-rollup-style timeout</strong>. For a more detailed explanation with a step-by-step example walkthrough, please refer to this <a href="https://im-docs.celer.network/developer/end-to-end-flow">Celer IM documentation</a> and the <a href="https://blog.celer.network/2022/01/12/celer-inter-chain-message-framework-the-paradigm-shift-for-building-and-using-multi-blockchain-dapps/">Celer IM introduction blog</a>. </p>
<h3 id="blockchain-level-security-powered-by-cosmos-consensus"><a class="header" href="#blockchain-level-security-powered-by-cosmos-consensus">Blockchain-level Security Powered by Cosmos Consensus</a></h3>
<p><img src="https://lh4.googleusercontent.com/o0IU2x-rEb43FmkUQe-KIczbb14Aag2YkKM9t8xz2PQTR_ivJ6ILpOJFdLhrkTQNHaNb-fgyY1FbfKKW13oqaVb3dyfSwyjksRa1fi10_wnD1G-ZGafj3VGlfyPjkqdTaFCXau0" alt=""></p>
<p>By default, inter-chain dApps rely on the security of the State Guardian Network (<strong>a Cosmos Chain</strong>) to process messages routed from another chain without delay. The SGN offers L1-blockchain level security just like Cosmos or Polygon with it being a Proof-of-Stake (PoS) blockchain built on Tendermint with CELR as the staking asset. If one minority guardian acts maliciously, its staked CELR will be slashed by the consensus protocol and the offending guardian will be evicted from the validator group. There are also block rewards, to act as economic incentives, when the participating guardians follow the protocol.</p>
<p>This level of economic security grows with the staked CELR‚Äôs value and is simply not available in simple Multi-signature or MPC/PoA-based solutions. In MPC/PoA-based solutions, there is really no economic recourse or punishment built into the protocol for validators that act maliciously.</p>
<p>This security model is the most ‚Äúlightweight‚Äù option, because it offers the best user experience with the lowest level of latency and cost to the users. There are numerous PoS blockchains using the exact same consensus protocol that the Celer SGN uses and are securing hundreds of billions in assets. Therefore, in most cases, this default security model is recommended. </p>
<h3 id="optimistic-rollup-style-security-model"><a class="header" href="#optimistic-rollup-style-security-model">Optimistic-rollup-style Security Model</a></h3>
<p><img src="https://lh3.googleusercontent.com/nK0IMUwuzl-LqrzAe0eaW1bVSm68TzX-i1HkkSTwYrp3GGPFz867vG0DbIL_IsXwtdrgWKtUc3beAXfSgykR-v6Z_h-mghrnVmJdHVHykgYAJtfddjsac8cRxC-755aOQYYFoYQ" alt=""></p>
<p>So, what happens if more than two thirds (in staked value) of the validators behave maliciously in the State Guardian Network? Although this is highly unlikely given the economical security and distributed nature of the validators in Celer Network, Celer does have a second security model, inspired by the <strong>Optimistic Rollup design,</strong> that works securely even under this worst-case scenario. </p>
<p>Instead of instantly processing a message routed by the SGN, a two-phase commit-confirm pattern is used to process any inter-chain message. Before any application consumes the message, the message has to be ‚Äúcommitted‚Äù to the blockchain by SGN into a ‚Äúquarantine zone‚Äù for a period of time. Only after the delay has passed, can this message be ‚Äúconfirmed‚Äù and pushed to the final destination application. </p>
<p>During this delay buffer, a dApp can run an App Guardian service to double-validate the message on the source chain and check the authenticity of the message committed in the quarantine zone. If the App Guardian detects any inconsistency, it can prevent the message from being processed before the time buffer expires. For application developers who cannot run an App Guardian themselves, they can commission the SGN nodes to undertake the task of an App Guardian. In that case, the security model is strengthened to a <strong>trust-any</strong> model for the SGN. Therefore, even under the worst-case scenario of the SGN consensus failure, inter-chain dApps built on top of Celer‚Äôs construct will still maintain safety property without any concern.</p>
<h3 id="hybrid-model-is-available"><a class="header" href="#hybrid-model-is-available">Hybrid Model is Available </a></h3>
<p>dApp developers and blockchains can choose to mix-match the above two models based on the ‚Äúvalue‚Äù or ‚Äúsignificance‚Äù of certain transactions. In fact, Celer <a href="http://cbridge.celer.network/">cBridge</a>, built on top of Celer IM, already has this hybrid model built-in <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/contracts/safeguard/DelayedTransfer.sol">based on the amount of transfer</a>. We will also release sample applications where developers can trigger Celer IM in the optimistic-rollup-style security model based on different message types. </p>
<h3 id="other-considerations-on-implementation"><a class="header" href="#other-considerations-on-implementation">Other Considerations on Implementation</a></h3>
<p>Except for the above architecture design to fundamentally enhance security, it is also very important to have implementation and operational best practices to ensure a safe operation of the asset bridge. These considerations includes 24*7 automated system invariant monitoring, rate limiting on bridging volume and more. </p>
<h3 id="smart-contract-audits"><a class="header" href="#smart-contract-audits">Smart contract audits</a></h3>
<p>Celer cBridge has been extensively audited. </p>
<p>Open-source code: <a href="https://github.com/celer-network/sgn-v2-contracts/">https://github.com/celer-network/sgn-v2-contracts/</a></p>
<p>CertiK reports: <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/audit/CertiK_general.pdf">liquidity bridge</a></p>
<p>PeckShield Report: <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/audit/PeckShield_general.pdf">liquidity bridge</a>, <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/audit/PeckShield_pegged.pdf">canonical bridge</a></p>
<p>SlowMist Report: <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/audit/SlowMist_general.pdf">liquidity bridge</a>, <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/audit/SlowMist_pegged.pdf">canonical bridge</a></p>
<h3 id="2m-bug-bounty"><a class="header" href="#2m-bug-bounty">$2M Bug Bounty</a></h3>
<p>In addition to the security audits, Celer cBridge has a standing <a href="https://immunefi.com/bounty/celer/">$2M bug bounty in ImmuneF</a>i</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="cross-chain-transfer"><a class="header" href="#cross-chain-transfer">Cross-chain Transfer</a></h1>
<p>In this tutorial, we will guide you through the process for making a cross-chain transfer.</p>
<h2 id="connect-your-wallet"><a class="header" href="#connect-your-wallet">Connect Your Wallet</a></h2>
<p>Before you explore the different features offered by cBridge, you will need to connect your wallet.</p>
<p>Click ‚ÄúConnect Wallet‚Äù, and you will be prompted to select a wallet. (This tutorial will take MetaMask as an example).</p>
<p><img src=".gitbook/assets/connect wallet01.png" alt=""></p>
<p><img src=".gitbook/assets/image (90).png" alt=""></p>
<p>Select MetaMask, and you should now see your wallet address and your current chain in the top right corner of the page.</p>
<div align="left"><img src=".gitbook/assets/image (13) (1).png" alt=""></div>

<p><img src=".gitbook/assets/ËøûÊé•Èí±ÂåÖ04.png" alt=""></p>
<h2 id="transfer-tokens-across-chains"><a class="header" href="#transfer-tokens-across-chains">Transfer Tokens Across Chains</a></h2>
<p>Let‚Äôs say, you want to transfer 100 USDT from the BNB Chain to Arbitrum. The steps are made simple in cBridge:</p>
<ol>
<li>Select ‚ÄúBNB Chain‚Äù in the dropbox next to ‚ÄúFrom‚Äù and ‚ÄúArbitrum‚Äù in the dropbox next to ‚ÄúTo‚Äù. </li>
</ol>
<p><img src=".gitbook/assets/Ë∑®ÈìæËΩ¨Ë¥¶01.png" alt=""></p>
<p>You will be prompted to switch your wallet to BNB Chain if it‚Äôs not already connected.</p>
<div align="left"><img src=".gitbook/assets/Â±èÂπïÂø´ÁÖß 2022-05-06 ‰∏ãÂçà12.42.10.png" alt=""></div>

<p>2. Enter the amount you want to send under ‚ÄúSend‚Äù. You should see the estimated amount you will receive under ‚ÄúReceiveÔºàestimated)‚Äù.</p>
<p><img src=".gitbook/assets/Ë∑®ÈìæËΩ¨Ë¥¶02.png" alt=""></p>
<p>3. You can adjust the Slippage Tolerance of the transfer. Your transfer may fail with a very low Slippage Tolerance. It‚Äôs usually between 0.1% and 0.5%.</p>
<p><img src=".gitbook/assets/ÊªëÁÇπ01.png" alt=""></p>
<p>Note that there will be a difference between the amount you send and the amount you receive, which is determined by the Bridge Rate and fees. For the exact definition of each item in the transaction, check the tooltips next to each of the terms.</p>
<p><img src=".gitbook/assets/Ë¥πÁî®ÊòéÁªÜ01.png" alt=""></p>
<p>4. Review your transfer details and click ‚ÄúTransfer‚Äù You will receive a popup for USDT approval.</p>
<p><img src=".gitbook/assets/Transfer01.png" alt=""></p>
<p><img src=".gitbook/assets/cBridge 2_0 Êìç‰ΩúÊñáÊ°£1031.png" alt=""></p>
<p>Click ‚ÄúApprove‚Äù and you will be prompted with a USDT spend confirmation on MetaMask. Click ‚ÄúConfirm‚Äù, and your ‚ÄúApprove‚Äù transaction will be finalized in a few minutes.</p>
<p><img src=".gitbook/assets/image (53).png" alt=""></p>
<p>5. After USDT is approved, you will be prompted on cBridge to confirm the cross-chain transfer. Review the transfer details and click ‚ÄúConfirm Transfer‚Äù. You will be prompted to confirm the transaction on MetaMask. Click ‚ÄúConfirm‚Äù.</p>
<p><img src=".gitbook/assets/confirm transfer01.png" alt=""></p>
<p><img src=".gitbook/assets/confirm transfer02 (1).png" alt=""></p>
<p>6. After confirming on MetaMask, you will receive a Transfer Submitted popup. </p>
<p><img src=".gitbook/assets/transfer submit01.png" alt=""></p>
<p>You can also check the transaction status in ‚ÄúPending‚Äù in the top right corner of the page.</p>
<div align="left"><img src=".gitbook/assets/pending01.png" alt=""></div>

<p>7. It takes some extra time for the funds to arrive at your wallet on the destination chain. On MetaMask, you can switch to the destination chain, which in our case is Arbitrum, to check if you have received the funds.</p>
<p>Alternatively, you can also view your transaction status via the BNB Smart Chain Explorer, which can be accessed via a link in your transaction history.</p>
<p><img src=".gitbook/assets/BNB chain 01.png" alt=""></p>
<p><img src=".gitbook/assets/Bscscan.png" alt=""></p>
<p>8. In cases where your transfer fails due to insufficient liquidity on the destination chain or an unfavorable slippage tolerance, you will receive a popup explaining the reason for the failure. You can click ‚ÄúRequest Refund‚Äù in the transfer history.</p>
<p>And voila! Congratulations on completing your first cross-chain transfer on cBridge !</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="lp-guide"><a class="header" href="#lp-guide">LP Guide</a></h1>
<p>In this LP Guide part, we will walk you through 2 main features: Provide Liquidity and remove Liquidity.</p>
<p><mark style="color:red;"><strong>Note: In the current version, using a smart contract to remove liquidity is not supported on the frontend UI. Unless you are an expert, PLEASE DON‚ÄôT USE smart contract wallet to provide liquidity. For expert, please refer to</strong></mark> <a href="#smart-contract-as-lp"><mark style="color:red;"><strong>this section</strong></mark></a><mark style="color:red;"><strong>.</strong></mark></p>
<h2 id="provide-liquidity"><a class="header" href="#provide-liquidity">Provide Liquidity</a></h2>
<p>Let‚Äôs say, you want to supply liquidity for USDT on BNB Chain to earn transaction fees and farming rewards. The steps are simple.</p>
<p>1. First, click the ‚Äú+‚Äù button on the liquidity pool of your interest. Switch your wallet to the network you want to provide liquidity for.</p>
<p><img src=".gitbook/assets/add liquidity 01.png" alt=""></p>
<p>2. On the popup prompted, enter the amount you want to supply to the pool. Click ‚ÄúAdd Liquidity‚Äù.</p>
<p>Note that your liquidity may be moved to other chains as users make cross-chain transfers with your supplied liquidity. There might also be Impermanent Loss if there is a significant liquidity imbalance between chains. We always recommend adding liquidity to balance out multiple pools while you earn fees and rewards.</p>
<p><img src=".gitbook/assets/add liquidity 02.png" alt=""></p>
<p>3. You will then be prompted to confirm the transaction on MetaMask. Click ‚ÄúConfirm‚Äù.</p>
<div align="left"><img src=".gitbook/assets/add liquidity 03.png" alt=""></div>

<p>4. After confirming on MetaMask, the transaction status will update on cBridge and show you the progress of the transaction. The transaction will first be validated on the blockchain, and then by the Celer SGN (State Guardian Network).</p>
<p><img src=".gitbook/assets/add liquidity 04.png" alt=""></p>
<p>5. While the transaction is being confirmed, you can close the popup. You can check the transaction status in ‚ÄúPending‚Äù on the top right corner of the page.</p>
<p><img src=".gitbook/assets/add liquidity 05.png" alt=""></p>
<p>6. When the transaction is complete, you can check your liquidity summary, positions, earnings and rewards in ‚ÄúYour Liquidity Overview‚Äù.</p>
<p><img src=".gitbook/assets/liquidity overview 01.png" alt=""></p>
<h3 id="earn-transaction-fees--farming-rewards"><a class="header" href="#earn-transaction-fees--farming-rewards">Earn Transaction Fees &amp; Farming Rewards</a></h3>
<blockquote>
<p><strong>Note:</strong>
Screenshots used in this tutorial are from cBridge testnet.</p>
</blockquote>
<p>Supplying liquidity in cBridge comes with the benefits of liquidity fee earnings and farming rewards.</p>
<p>When you supply liquidity, you earn a percentage of the transaction fees from people who use your liquidity to bridge funds across chains, and your liquidity fee earnings are automatically added to your total liquidity.</p>
<p><img src=".gitbook/assets/cBridge 2_0 Êìç‰ΩúÊñáÊ°£2316.png" alt=""></p>
<p>Some liquidity pools may have active farming sessions, where you gain additional farming rewards in CELR along with your liquidity fee earnings. Farming rewards need to be claimed manually.</p>
<p>1. To claim farming rewards, click ‚ÄúView‚Äù, and then ‚ÄúUnlock to claim‚Äù.</p>
<p><img src=".gitbook/assets/cBridge 2_0 Êìç‰ΩúÊñáÊ°£2443.png" alt=""></p>
<p><img src=".gitbook/assets/cBridge 2_0 Êìç‰ΩúÊñáÊ°£2445.png" alt=""></p>
<p>2. You will then see a popup showing the unlocking progress.</p>
<p><img src=".gitbook/assets/cBridge 2_0 Êìç‰ΩúÊñáÊ°£2469.png" alt=""></p>
<p>3. Once rewards are unlocked, you will see a popup update asking if you want to claim farming rewards at the moment. Clicking ‚ÄúClaim Farming Rewards‚Äù will prompt you to confirm the transaction on MetaMask.</p>
<p><img src=".gitbook/assets/cBridge 2_0 Êìç‰ΩúÊñáÊ°£2566.png" alt=""></p>
<p><img src=".gitbook/assets/cBridge 2_0 Êìç‰ΩúÊñáÊ°£2569.png" alt=""></p>
<p>4. When the transaction is complete, a ‚ÄúSuccess‚Äù popup update will show up on cBridge.</p>
<p><img src=".gitbook/assets/cBridge 2_0 Êìç‰ΩúÊñáÊ°£2598.png" alt=""></p>
<p>5. Alternatively, you can choose to wait for your farming rewards to accumulate and claim them later. You can always go to ‚ÄúYour Total Farming Rewards‚Äù to check your reward positions and claim rewards.</p>
<p>6. All your farming rewards are accumulated in one single pool, so there is no need to switch between multiple chains to claim your rewards.</p>
<h2 id="remove-liquidity"><a class="header" href="#remove-liquidity">Remove Liquidity</a></h2>
<p>You can easily remove your liquidity from the SGN at any time.</p>
<ol>
<li>To remove your liquidity, click the ‚Äú-‚Äù button on the Liquidity interface.</li>
</ol>
<p><img src=".gitbook/assets/remove 01.png" alt=""></p>
<p>2. Choose the percentage of liquidity you wish to remove with the slider bar, or enter a specific percentage.</p>
<div align="left"><img src=".gitbook/assets/remove 02.png" alt=""></div>

<p>3. Review your liquidity removal details, such as ‚ÄúAmount to Remove‚Äù. Click ‚ÄúRemove Liquidity‚Äù, and you will be prompted with a confirmation popup. Click ‚ÄúContinue‚Äù. </p>
<p><img src=".gitbook/assets/remove 03.png" alt=""></p>
<p>4. You will be prompted to sign the transaction on MetaMask. Click ‚ÄúSign‚Äù.</p>
<p><img src=".gitbook/assets/remove 04.png" alt=""></p>
<p>5. You will then receive a popup update on cBridge, showing you the status of the removal.</p>
<div align="left"><img src=".gitbook/assets/remove 05.png" alt=""></div>

<p>6. Once the removal is confirmed by the Celer SGN, you will be prompted to confirm the removal. Click ‚ÄúConfirm Remove Liquidity‚Äù.</p>
<div align="left"><img src=".gitbook/assets/remove 06.png" alt=""></div>

<p>7. You will be prompted to confirm the transaction on MetaMask. Click ‚ÄúConfirm‚Äù.</p>
<p><img src=".gitbook/assets/remove 07.png" alt=""></p>
<p>8. You will receive a ‚ÄúSuccess‚Äù popup on cBridge.</p>
<div align="left"><img src=".gitbook/assets/remove 08.png" alt=""></div>

<p>9. Note that it may take a few minutes for the transaction to complete. You can go to ‚ÄúHistory‚Äù -&gt; ‚ÄúLiquidity History‚Äù to check the status of the transaction.</p>
<p><img src=".gitbook/assets/remove 09.png" alt=""></p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="sgn-v2-staking-guide"><a class="header" href="#sgn-v2-staking-guide">SGN V2 Staking Guide</a></h1>
<p>Staking your CELR with the Celer SGN allows you to gain transaction fee earnings and staking rewards. In this part, we will guide you through the process of delegating stakes to validators, withdrawing your stakes from the SGN, and managing your SGN rewards. </p>
<h2 id="delegate-stakes-to-validators"><a class="header" href="#delegate-stakes-to-validators">Delegate Stakes to Validators</a></h2>
<ol>
<li>First, connect your wallet to the Celer SGN and then switch to Ethereum Mainnet.</li>
</ol>
<p><img src=".gitbook/assets/1 (2).png" alt=""></p>
<p>2. Click the ‚ÄúDelegate‚Äù button to choose a validator of your interest to delegate your CELR stakes to.</p>
<p><img src=".gitbook/assets/2 (3).png" alt=""></p>
<p>3. Enter the amount of CELR you want to stake and click ‚ÄúGive permission to stake your CELR‚Äù. You will be prompted to confirm the transaction on MetaMask and click ‚ÄúConfirm‚Äù.</p>
<p><img src=".gitbook/assets/3.png" alt=""></p>
<p>4. After granting permission, click ‚ÄúDelegate‚Äù to approve.</p>
<p><img src=".gitbook/assets/6 (2).png" alt=""></p>
<p>5. You will then receive a ‚ÄúDelegation Completed‚Äù popup. Congratulations, you have completed the staking. Note that it may take some time for your staking rewards to show in ‚ÄúMy Rewards‚Äù.</p>
<p><img src=".gitbook/assets/8.png" alt=""></p>
<p>6.You can check the delegation details by clicking the expand button next to ‚ÄúDetails‚Äù.</p>
<p><img src=".gitbook/assets/9 (1).png" alt=""></p>
<h2 id="manage-sgn-rewards"><a class="header" href="#manage-sgn-rewards">Manage SGN Rewards</a></h2>
<p>On the ‚ÄúMy Rewards‚Äù page, you will see two benefits that come with staking: Staking Rewards and cBridge Transaction Fee Earnings.</p>
<h3 id="claim-staking-rewards"><a class="header" href="#claim-staking-rewards">Claim Staking Rewards</a></h3>
<ol>
<li>You need to first unlock your staking rewards to claim them. Click ‚ÄúUnlock to claim.‚Äù</li>
</ol>
<p><img src=".gitbook/assets/SGN 2.0 11-1 (1).png" alt=""></p>
<p>2. You will see a popup showing the unlocking progress.</p>
<p><img src=".gitbook/assets/cBridge 2_0 Êìç‰ΩúÊñáÊ°£4671.png" alt=""></p>
<p>3. Once rewards are unlocked, you will see a popup update asking if you want to claim rewards at the moment. Click ‚ÄúClaim‚Äù will prompt you to confirm the transaction on MetaMask.</p>
<p><img src=".gitbook/assets/cBridge 2_0 Êìç‰ΩúÊñáÊ°£4756.png" alt=""></p>
<p>4. Or you can click ‚Äúclaim‚Äù in ‚ÄúMy Rewards‚Äù later and claim your rewards after confirmation by MetaMask.</p>
<p><img src=".gitbook/assets/cBridge 2_0 Êìç‰ΩúÊñáÊ°£4823.png" alt=""></p>
<p>5. Click the ‚ÄúClaim‚Äù button, and a confirmation popup will show up. Click ‚ÄúClaim‚Äù on the popup. You will be prompted to confirm the transaction on MetaMask. Confirm in Metamask.</p>
<p><img src=".gitbook/assets/cBridge 2_0 Êìç‰ΩúÊñáÊ°£4826.png" alt=""></p>
<p>6. You can view status updates on SGN. It takes a few minutes for the transaction to complete on Ethereum, and you can always go to Etherscan to check the status of the transaction.</p>
<p><img src=".gitbook/assets/cBridge 2_0 Êìç‰ΩúÊñáÊ°£4905.png" alt=""></p>
<h3 id="claim-transaction-fees-from-cbridge"><a class="header" href="#claim-transaction-fees-from-cbridge">Claim Transaction Fees from cBridge</a></h3>
<p>When you stake CELR on SGN, in addition to staking rewards, you can also get cross-chain transaction fee earnings from cBridge.</p>
<p>Celer cBridge cross-chain transaction fee earnings come from three sources, the Celer Inter-chain Messaging framework, the open canonical token bridge standard and the pool-based bridge model.</p>
<p><img src=".gitbook/assets/image (42).png" alt=""></p>
<p>1. To claim your transaction fee earnings, go to the ‚ÄúMy Rewards‚Äù page, click ‚ÄúClaim Fee Rewards pool-based bridge‚Äù next to ‚ÄúcBridge Transaction Fee‚Äù, and a popup will appear to show you the rewards you can claim on different chains.</p>
<p>2.To claim fee rewards on a single chain, click ‚ÄúClaim‚Äù next to a single chain.</p>
<h2 id="withdraw-your-stakes-from-sgn"><a class="header" href="#withdraw-your-stakes-from-sgn">Withdraw Your Stakes From SGN</a></h2>
<p>To withdraw your stakes, you need to first unbond your stakes from the delegator, and wait for a 7-day unbonding process. Once stakes are unbonded, they can be withdrawn.</p>
<h3 id="unbond-your-stakes"><a class="header" href="#unbond-your-stakes">Unbond Your Stakes</a></h3>
<ol>
<li>To unbond your stakes from a validator, go to ‚ÄúMy Rewards‚Äù -&gt; ‚ÄúMy Delegations‚Äù, and click the ‚Äúunbond‚Äù button.</li>
</ol>
<p><img src=".gitbook/assets/12 (1).png" alt=""></p>
<p>Alternatively, you can go to ‚ÄúAll Validators‚Äù, and expand on the validator to find the ‚Äúunbond‚Äù button.</p>
<p><img src=".gitbook/assets/13 (1).png" alt=""></p>
<p>2. On the popup that shows up, enter the amount you want to withdraw. You will be prompted to confirm the transaction on MetaMask. Click ‚ÄúConfirm‚Äù.</p>
<p><img src=".gitbook/assets/14 (3).png" alt=""></p>
<p>3. After confirming, you will then receive an ‚ÄúUnbond in Progress‚Äù popup, which tells you when your stakes will become withdrawable.</p>
<p><img src=".gitbook/assets/16 (1).png" alt=""></p>
<p>4. Now you can see the amount of the stake being released in My Delegations.</p>
<p><img src=".gitbook/assets/SGN 2.0 18.png" alt=""></p>
<p>5. The unbonding process takes 7 days, after which your stakes will be moved to ‚ÄúYour Withdrawable Stakes‚Äù.</p>
<h3 id="withdraw-your-stakes"><a class="header" href="#withdraw-your-stakes">Withdraw Your Stakes</a></h3>
<ol>
<li>Click ‚ÄúWithdraw‚Äù.  </li>
</ol>
<p><img src=".gitbook/assets/ÊèêÂèñË¥®Êäº01.png" alt=""></p>
<p>2. You will be prompted to confirm the transaction on MetaMask. Click ‚ÄúConfirm‚Äù.</p>
<p><img src=".gitbook/assets/ÊèêÂèñË¥®Êäº02.png" alt=""></p>
<p><img src=".gitbook/assets/ÊèêÂèñË¥®Êäº03.png" alt=""></p>
<p>3. It may take a few minutes for the transaction to complete. Once completed, you can check in Metamask if you have received the fund.</p>
<p><img src=".gitbook/assets/ÊèêÂèñË¥®Êäº04.png" alt=""></p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="sgn-v1-unbonding-guide"><a class="header" href="#sgn-v1-unbonding-guide">SGN V1 Unbonding Guide</a></h1>
<h2 id="withdraw-your-stakes-from-sgn-v1"><a class="header" href="#withdraw-your-stakes-from-sgn-v1">Withdraw Your Stakes From SGN V1</a></h2>
<p>To withdraw your stakes, you need to first unbond your stakes from the delegator. The unbonding confirmation takes no time. Once stakes are unbonded, they can be withdrawn.</p>
<h3 id="unbond-your-stakes-1"><a class="header" href="#unbond-your-stakes-1">Unbond Your Stakes</a></h3>
<ol>
<li>To unbond your stakes from a validator, go to ‚ÄúValidators‚Äù, find the address you delegated to and click on it.</li>
</ol>
<p><img src="https://lh4.googleusercontent.com/CwUpAqZQPmLzMmUDlyMkvlDwBzrdMQ4rLWDRmMg7x_1df9wI-jb3pmjO_JIjp-1yEkDHA9h1kYnH6KV64n2d1IgVbGfZYX_5MPtG0KKdjcNJxOnjkRtKH3wPFH3Uo-jR4ASQyq8" alt=""></p>
<p>2. On the delegator page, click on the top right ‚ÄúInitialize Withdraw‚Äù button.\</p>
<p><img src="https://lh3.googleusercontent.com/DWdkJ0xaSSO_1270h6UChnEToPZwGyHVfPvaH4ST7ZYTcP-sZDKiUv_tgueZYJKN_sbrbSqxnYm2DObA4L4ycBOXh307uBoUrVPzM25NsvtFz_LG0v_kFWXoWVTyCO2yvyb1lQI" alt=""></p>
<p>3. On the pop-up, enter the amount you want to withdraw. For v1-&gt;v2 migration, make sure you enter the full amount you staked into this delegator. Review the amount and click OK.\</p>
<p><img src="https://lh4.googleusercontent.com/gplrIijgRHTTiH3vw82THHDKREA9HndK0KDrcX9E6yEgh2ZG41YexQB3c_povlahGzbT-_cK8_0VW-6YIKNwLZAvqik7-T1Da06DhU7noH_ig_POHTCBTG7JqnyJLJSDJ7QxdOo" alt=""></p>
<p>4. On the MetaMask popup, click ‚ÄúConfirm‚Äù.<br><img src="https://lh4.googleusercontent.com/eQFpwm1tvRCooSP8psSX8kdxtXTBa03oNtUPsFk0Y-pzwNT_I6y0fGHQmEuHFlqagPDHZJ2U3jyPVpfiwjch20I0sb225jWCXTtl3vwBcWoAmzS_WQzDTGiQqDzX6Xt_n-B8sQI" alt=""></p>
<h3 id="withdraw-your-stakes-1"><a class="header" href="#withdraw-your-stakes-1">Withdraw Your Stakes</a></h3>
<ol>
<li>Once the transaction is confirmed on MetaMask, go back to the validator page and click the top-right ‚ÄúConfirm Withdraw‚Äù button.\</li>
</ol>
<p><img src="https://lh3.googleusercontent.com/mUNbzugqj8ca0CEoPCSv32N8PnUdjFnQLrrXsoQPw5v16asbT2HBdFGNU9EdyBs9sjTkwDFtj9v-9kQY51W-2OZ9ZIRvlLh12HSdFnlDYd9bSrIKpbqUyiJwaP237d4Zs5OWvM8" alt=""></p>
<p>2. On the MetaMask popup, click ‚ÄúConfirm‚Äù. It may take a few minutes for the transaction to complete. Once completed, you can check in Metamask if you have received the fund.<br><img src="https://lh5.googleusercontent.com/lJsQbB77hpF6BmInD0zV3Ta_HgO5XgxnmyfPyn_oMrzPsufdAc930_B2jbTXaoab2eUtkbufKqsbCZMf6GhFZ70xpY4uWp7QykwWCRpCK6RgCjtthpNPzk_Hq-w18jjj2kl4Qsw" alt=""></p>
<h2 id="withdraw-your-rewards-from-sgn-v1"><a class="header" href="#withdraw-your-rewards-from-sgn-v1">Withdraw Your Rewards From SGN V1</a></h2>
<h3 id="claim-staking-rewards-1"><a class="header" href="#claim-staking-rewards-1">Claim Staking Rewards</a></h3>
<p>To claim your staking rewards, go to ‚ÄúReward‚Äù, and click the ‚ÄúInitialize Redeem‚Äù button.\</p>
<p><img src="https://lh6.googleusercontent.com/5S8MZP8PHg66vpzz8Y3-V2B52ZssfFJp2SJo8apQe9mXNZO6HsaMeWEBTmbygSyAqN5863skguqNvAhEjjT4QlqvBBaF2b8ngo43W7nzwXtIY6Aptxv3qfl7dT1VzQPz0YSSLDU" alt=""></p>
<h3 id="redeem-staking-rewards"><a class="header" href="#redeem-staking-rewards">Redeem Staking Rewards</a></h3>
<ol>
<li>After SGN completes collecting signature, click ‚ÄúRedeem Reward‚Äù.\</li>
</ol>
<p><img src="https://lh4.googleusercontent.com/6g3j3ZCzp_6AsvD_JDKevbCbc63GIJKn4bBiEH1FL2LMfoqcUky6cwlRh9WaTZIM6F9Tc7QnAfnjBwXZG9-fL5IT8_Z5zdhyxH65ZfPwMiwbmbxMKaUXrshO7r8KtCUgyYKk1uo" alt=""></p>
<p>2. On the Metamask popup, click on ‚ÄúConfirm‚Äù, and your rewards should be sent to your address in a few minutes.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="smart-contract-as-lp"><a class="header" href="#smart-contract-as-lp">Smart Contract as LP</a></h1>
<p>The liquidity pool mode of cBridge supports using a smart contract (eg. a multi-sig wallet) to provide liquidity, with the caveat of having to follow a special process to withdraw liquidity. This tutorial describes the process of adding and withdrawing liquidity using smart contracts.</p>
<blockquote>
<p><strong>Note:</strong>
<strong>This feature has only been released on a limited number of chains.</strong> </p>
</blockquote>
<p><mark style="color:red;"><strong>Note: Before adding any liquidity to cBridge from a smart contract, make sure you have read this tutorial and are comfortable with following the technical instructions.</strong></mark></p>
<h3 id="prerequisite-check-lp-address"><a class="header" href="#prerequisite-check-lp-address"><strong>Prerequisite: Check LP address</strong> </a></h3>
<p>Currently, we have only released support for contract LPs on a limited number of chains on which we have deployed <a href="https://github.com/celer-network/sgn-v2-contracts/blob/243d1e3924527c463650af9809b24d24cffe7242/contracts/liquidity-bridge/WithdrawInbox.sol">WithdrawInbox</a> contracts to facilitate withdrawing liquidity:</p>
<ul>
<li><strong>Ethereum:</strong> <a href="https://etherscan.io/address/0x5427FEFA711Eff984124bFBB1AB6fbf5E3DA1820"> </a><a href="https://etherscan.io/address/0xD20fc42E293734f58316E2106933B8D9FB14F5b2">0xD20fc42E293734f58316E2106933B8D9FB14F5b2</a></li>
<li><strong>BSC:</strong> <a href="https://bscscan.com/address/0xf0FF9888A70f44eb12223A6a55C65976BA7bf854">0xf0FF9888A70f44eb12223A6a55C65976BA7bf854</a></li>
<li><strong>Optimism:</strong> <a href="https://optimistic.etherscan.io/address/0x1b6a49B01176020b153d0cD5Bc90Ef2b75676F00">0x1b6a49B01176020b153d0cD5Bc90Ef2b75676F00</a></li>
<li><strong>Polygon:</strong> <a href="https://polygonscan.com/address/0x0E6847e732c0dfE40cc15216AC95E558960e522e">0x0E6847e732c0dfE40cc15216AC95E558960e522e</a></li>
<li><strong>Avalanche:</strong> <a href="https://snowtrace.io/address/0x03ab38cF52173CC71be33B0D2779568f412Be828">0x03ab38cF52173CC71be33B0D2779568f412Be828</a></li>
<li><strong>Arbitrum:</strong> <a href="https://arbiscan.io/address/0xfe0401bFFBeECE5d9FaE7f1b9a8f1e03FA1c3184">0xfe0401bFFBeECE5d9FaE7f1b9a8f1e03FA1c3184</a></li>
<li><strong>Conflux:</strong> <a href="https://evm.confluxscan.net/address/0x78a21c1d3ed53a82d4247b9ee5bf001f4620ceec">0x78a21c1d3ed53a82d4247b9ee5bf001f4620ceec</a></li>
<li><strong>Kava:</strong> <a href="https://explorer.kava.io/address/0x0D90AC8466C3aEF6821f9116B96aa2255Ca2DA20">0x0D90AC8466C3aEF6821f9116B96aa2255Ca2DA20</a></li>
<li><strong>zkSync Era:</strong> <a href="https://explorer.zksync.io/address/0x80Bd61013F1ca7908b75d88AD08f8dBdEab4e779#contract">0x80Bd61013F1ca7908b75d88AD08f8dBdEab4e779</a></li>
<li><strong>Moonbeam:</strong> <a href="https://moonbeam.moonscan.io/address/0x9B36f165baB9ebe611d491180418d8De4b8f3a1f">0x9B36f165baB9ebe611d491180418d8De4b8f3a1f</a></li>
<li><strong>Manta Pacific:</strong> <a href="https://pacific-explorer.manta.network/address/0xF9eBA2FE3F8d03d098a439fab2038c737D3DBB94?tab=write_contract">0xF9eBA2FE3F8d03d098a439fab2038c737D3DBB94</a></li>
<li><strong>Base</strong>: <a href="https://basescan.org/address/0xAeC3b47eda9040b9C12F2Ac8d6980d2D2Bcc99F5#code">0xAeC3b47eda9040b9C12F2Ac8d6980d2D2Bcc99F5</a></li>
</ul>
<p>Make sure the chain you are going to interact with is supported. Take a note of the WithdrawInbox address and <a href="#bridge-contract-pool-based-bridge">cBridge address</a>.</p>
<p>In cBridge, all LPs are identified by their address regardless of the chain they use. Technically, it is possible for two different entities to occupy the same address but on different chains. For security purposes, <strong>a contract LP is only allowed to submit withdraw requests to the WithdrawInbox on the first chain on which they added liquidity</strong>. Note that this only restricts on which chain you can submit the withdraw request and it does not affect where the withdrawn liquidity comes from. For example, if you first added liquidity on Ethereum, then you need to submit the withdraw request to the WithdrawInbox on Ethereum. Within the request, you are still free to withdraw liquidity from BSC to Optimism.</p>
<p>To make sure your intended LP address is not occupied by someone else and to check which chain you can submit the withdraw request on, execute the following command:</p>
<pre><code>curl -X GET 'https://cbridge-prod2.celer.app/v1/getLPOrigin?usr_addr=&lt;your contract address&gt;'
</code></pre>
<p>A response with a <code>chain_id</code>of <code>0</code> means that no LP with the given address has added liquidity. Since the address is not registered with the system, there is also no chain where you can submit a withdraw request yet, and you can proceed to <a href="#add-liquidity">Add Liquidity</a> with confidence. A non-zero <code>chain-id</code> requires you to <strong>confirm that you have control of the address on the returned <code>chain_id</code></strong>. If not, it means the address has been occupied by someone else and you need to use a different address.</p>
<p>NOTE: If you added liquidity via a smart contract / multi-sig wallet <strong>before</strong> we added support for withdrawal on a particular chain and receive a <code>0</code> response from the command above, <strong>please</strong> <a href="#add-liquidity"><strong>add liquidity</strong></a> <strong>again with a small value from the same contract to register it with the system</strong>. Only then will you be able to withdraw your previously added liquidity.</p>
<h3 id="contract-preparation"><a class="header" href="#contract-preparation"><strong>Contract Preparation</strong></a></h3>
<p>Skip this step if you are using generic multi-sig wallets such as Gnosis Safe.</p>
<p>For custom contracts, you need to make sure they can interact with the liquidity <a href="https://github.com/celer-network/sgn-v2-contracts/blob/243d1e3924527c463650af9809b24d24cffe7242/contracts/liquidity-bridge/Pool.sol">Pool </a>and the <a href="https://github.com/celer-network/sgn-v2-contracts/blob/243d1e3924527c463650af9809b24d24cffe7242/contracts/liquidity-bridge/WithdrawInbox.sol">WithdrawInbox</a> contracts. Specifically, it needs to interact with the required <a href="https://github.com/celer-network/sgn-v2-contracts/blob/243d1e3924527c463650af9809b24d24cffe7242/contracts/interfaces/IPool.sol">Pool</a> and <a href="https://github.com/celer-network/sgn-v2-contracts/blob/243d1e3924527c463650af9809b24d24cffe7242/contracts/interfaces/IWithdrawInbox.sol">WithdrawInbox</a> interfaces.</p>
<p>Here is an <a href="https://github.com/celer-network/sgn-v2-contracts/blob/243d1e3924527c463650af9809b24d24cffe7242/contracts/integration-examples/ContractAsLP.sol">example</a> of a smart contract LP.</p>
<h3 id="add-liquidity"><a class="header" href="#add-liquidity"><strong>Add Liquidity</strong></a></h3>
<p>Adding liquidity from contracts is relatively simple. Just call <a href="https://github.com/celer-network/sgn-v2-contracts/blob/2a9f1d6407b5face239a64c9de26e275cb54f149/contracts/Pool.sol#L57">addLiquidity</a> on the cBridge contract.</p>
<h3 id="query-liquidity"><a class="header" href="#query-liquidity"><strong>Query Liquidity</strong></a></h3>
<p>You can query the liquidity by:</p>
<pre><code>curl -X GET 'https://cbridge-prod2.celer.app/v1/getLPInfoList?addr=&lt;your contract address&gt;'
</code></pre>
<p>Look for the <code>liquidity_amt</code> fields.</p>
<h3 id="send-withdrawal-request"><a class="header" href="#send-withdrawal-request"><strong>Send Withdrawal Request</strong></a></h3>
<p>From your contract, call the <a href="https://github.com/celer-network/sgn-v2-contracts/blob/2a9f1d6407b5face239a64c9de26e275cb54f149/contracts/WithdrawInbox.sol#L29">withdraw</a> function of WithdrawInbox.</p>
<p>Some explanations of the parameters:</p>
<ol>
<li><code>_wdSeq</code> is a unique identifier for each withdrawal.</li>
<li><code>_receiver</code> is the receiver address on <code>_toChain</code>.</li>
<li><code>_toChain</code> is the chain ID to receive the tokens withdrawn.</li>
<li><code>_fromChains</code> are a list of chain IDs to withdraw the tokens from. We support cross-chain withdrawals, that is to withdraw the liquidity from multiple chains to a single chain.</li>
<li><code>_tokens</code> are the token addresses on each chain. <strong>Make sure they refer to the same token symbol and they are supported by cBridge on all the chains involved.</strong></li>
<li><code>_ratios</code> are the percentages of liquidity to be withdrawn from each chain. They should be all positive. The max ratio is 100000000, which means 100%.</li>
<li><code>_slippages</code> are the maximal allowed slippages for cross-chain withdrawals. Usually a small number such as 5000, which means 0.5%, should suffice. The max slippage is 1000000, which means 100%.</li>
</ol>
<h3 id="query-withdrawal-request"><a class="header" href="#query-withdrawal-request"><strong>Query Withdrawal Request</strong></a></h3>
<p>After the transaction has been confirmed for some period of time. Use the command below to query your withdrawal request, replace <code>&lt;_wdSeq&gt;</code>, <code>&lt;_receiver&gt;</code> and <code>&lt;_toChain&gt;</code> with the input parameters when you submitted the withdrawal request to WithdrawInbox. Leave <code>type</code>  as <code>2</code> and <code>tx_hash</code> empty.</p>
<pre><code>curl -X GET 'https://cbridge-prod2.celer.app/v1/queryLiquidityStatus?seq_num=&lt;_wdSeq&gt;&amp;lp_addr=&lt;_receiver&gt;&amp;chain_id=&lt;_toChain&gt;&amp;type=2&amp;tx_hash='
</code></pre>
<p>Here is an example response:</p>
<pre><code>{
  "err": null,
  "status": 2,
  "wd_onchain": "CGEQzN8EGhS1u4t/bxiD4MAf+4aXAkUy5vMjjCIUfUOqvFFcNWFFBJInzuVLYINCwK0qBDWfasA=",
  "sorted_sigs": [
    "RWOqYnYjJ7RicK+10sUJQw2N8RqD8okx7Fm0CVAxsGQCjvQzECG/5RuEvVj2DuMABqeqNutwNzQi/507NLTgchw=",
    "gT7QzODxY2jPvw1CJ01NxUsd6wGgnjEiBorjlXovpId5qgCiIddpYAlMWQobvsvOeTFwrQeTeIZt0c2UtXEryhw=",
    "EwUS55eqLuzV8VzJv49yLvuzfmLlMNWvjMHZ/0fhFoJqUZt40YjZ+wHrgOFiNjxoIcmCca6eK0RVk/afbvOn/Rs=",
    "13elR2IulcfpWsWoaSyllFxSIn4QhizBYhm3ws9XBBVSx9wkLGxWj1bZsGnL35jfuycyNfcIkTDJpqNIESVKcRw="
  ],
  "signers": [
    "afcdW46iJXHU2+JxPDGns9yk0jQ=",
    "pQACNVE4h2O3IICMCwzfAKdStp8=",
    "pSItCOb+GXa1jDYzZA/xxl87xcE=",
    "pTM822LmU58+waekF8LVXMoYHgA="
  ],
  "powers": [
    "aZYG7SZ3X4CQpYA=",
    "eDiO17/7OhWy5oA=",
    "fo+fSaavop8afu8=",
    "W2+85IicuUj4AAA="
  ],
  "block_tx_link": "",
  "block_delay": 8
}
</code></pre>
<p>A little explanation about the <code>status</code> field in the response:</p>
<p><code>0</code> means no withdrawal request found. Check your query command first. If the fields were set correctly,  it is possible that your withdrawal request has not been reflected in the cBridge / SGN system yet so please retry after a little while. If it keeps being <code>0</code> after quite a while, your request is likely rejected due to bad arguments. Check the <a href="#send-a-withdrawal-request">instructions</a> and try again. If you are sure the arguments are correct, it is possible that the withdraw amount is too large that it hit certain rate limits. <strong>Please contact us before you make another try</strong>.</p>
<p><code>1</code> means the withdrawal request has been accepted, but not yet co-signed by validators. Please query again after a little while.</p>
<p><strong><code>2</code> means the withdrawal request is ready to be submitted on-chain</strong>. In this case, you will see a hex string in <code>wd_onchain</code> along with a number of strings in <code>sorted_sigs</code>, <code>signers</code>, <code>powers</code>.</p>
<p><code>3</code> means the withdrawal request is being submitted on-chain.</p>
<p><code>4</code> means the withdrawal request is completed, and tokens have been sent to the given address on the given chain if the request is not delayed due to large amount.</p>
<p><code>5</code> means the withdrawal request has failed. Probably due to slippage being too small, but could be caused by other reasons such as insufficient liquidity or token transfer being disabled. <strong>Contact us for details before you make another try</strong>.</p>
<p><code>6</code> means the withdrawal request has been delayed due to the amount being too large. It should usually turn into a <code>4</code> after about 30 minutes.</p>
<p>If you see a <code>2</code>, copy and save the <code>wd_onchain</code>, <code>sorted_sigs</code>, <code>signers</code> and <code>powers</code> fields for later use.</p>
<h3 id="submit-withdrawal-on-chain"><a class="header" href="#submit-withdrawal-on-chain">Submit Withdrawal On-Chain</a></h3>
<p>Once you have received a response with status <code>2</code>, prepare the input parameters for the on-chain withdrawal transaction. As described in the <a href="https://github.com/celer-network/sgn-v2-contracts/blob/2bf3c4e6287eb529fbb8bb2368f4838e5a500749/contracts/Pool.sol#L86">withdraw</a> function, you need to supply <code>_wdmsg</code>, <code>_sigs</code>, <code>_signers</code> and <code>_powers</code>. You can use an explorer like Etherscan to send the transaction.</p>
<p>The <code>wd_onchain</code> you saved corresponds to <code>_wdmsg</code>. Go to <a href="https://cryptii.com/pipes/base64-to-hex">base64-to-hex</a>, paste <code>wd_onchain</code> on the left, switch <code>GROUP BY</code> to <code>NONE</code> on the right, add a hex prefix <code>0x</code> to the result on the right, and you will get <code>_wdmsg</code>.</p>
<blockquote>
<p><strong>Note:</strong>
For <code>sorted_sigs</code>, <code>signers</code> and <code>powers</code>, do not change the order of parameters within the arrays.</p>
</blockquote>
<p><code>sorted_sigs</code> corresponds to <code>_sigs</code>. Convert the signature strings in <code>sorted_sigs</code>one by one using the same way as with <code>wd_onchain</code>, and put all <code>0x</code> prefixed strings in an array <code>[]</code> to get <code>_sigs</code>.</p>
<p><code>signers</code> corresponds to <code>_signers</code>. Prepare them the same way as <code>sorted_sigs</code>.</p>
<p><code>powers</code> corresponds to <code>_powers</code>.  First, convert the strings the same way as with <code>wd_onchain</code> but this time without adding <code>0x</code> prefixes. Second, go to <a href="https://cryptii.com/pipes/hex-binary">hex-binary</a>, switch <code>CONVERT TO</code> to <code>Decimal(10)</code> in the middle and convert the result from the first step to decimal number. Put all the numbers you get in an array <code>[]</code> to get <code>_powers</code>.</p>
<p>With all the prepared parameters. Open Etherscan or whatever explorer you use, search for the cBridge address and connect to your wallet. Input the parameters to the withdraw function and send the transaction.</p>
<p>Note that large withdrawals might be subject to delays.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="aptos-bridging-guide"><a class="header" href="#aptos-bridging-guide">Aptos Bridging Guide</a></h1>
<p>We‚Äôll use the BNB Chain, the $BNB token, and the MetaMask and Petra Wallets in this tutorial as an example.</p>
<h2 id="connect-your-wallet-1"><a class="header" href="#connect-your-wallet-1">Connect Your Wallet</a></h2>
<p>Before you start transferring assets via cBridge, you need to connect wallet first.</p>
<p>1. Click ‚ÄúConnect Wallet‚Äù, and you will be prompted to select a wallet. (cBridge currently supports MetaMask, TokenPocket, Coinbase Wallet, WalletConnect, and Clover on desktop browsers).</p>
<p><img src=".gitbook/assets/1.png" alt=""><figcaption></figcaption></p>
<p>2. Select ‚ÄúMetaMask‚Äù.</p>
<p><img src=".gitbook/assets/2 (5).png" alt=""></p>
<p>3. Click ‚ÄúConnect your Aptos wallet to receive the funds‚Äù, and you will be prompted to select a wallet. (cBridge currently supports Petra, Blocto, Martian, BitKeep, and Fewcha wallets for Aptos).</p>
<p><img src=".gitbook/assets/3 (1).png" alt=""><figcaption></figcaption></p>
<p><img src=".gitbook/assets/4.png" alt=""></p>
<p>4. Select ‚ÄúPetra‚Äù and you will be prompted with a confirmation on Petra. Click ‚ÄúApprove‚Äù and your wallet will be connected successfully.</p>
<p><img src=".gitbook/assets/5 (1).png" alt=""></p>
<p>Now you can see your recipient address on Aptos.</p>
<p><img src=".gitbook/assets/6.png" alt=""></p>
<h2 id="transfer-assets-to-aptos"><a class="header" href="#transfer-assets-to-aptos"><strong>Transfer Assets to Aptos</strong></a></h2>
<p>Let‚Äôs say, you want to transfer 0.1 $BNB from BNB Chain to Aptos:</p>
<p>1. Select ‚ÄúBNB Chain‚Äù as the ‚ÄúFrom‚Äù chain and ‚ÄúAptos‚Äù as the ‚ÄúTo‚Äù chain.</p>
<p><img src=".gitbook/assets/7 (1).png" alt=""></p>
<p>2. You may be prompted to switch your wallet to BNB Chain first. Enter the amount you want to bridge under ‚ÄúSend‚Äù. You should see the estimated amount you will receive under ‚ÄúReceive (estimated)‚Äù.</p>
<p><img src=".gitbook/assets/8 (1).png" alt=""></p>
<p><strong>Note that there will be a difference between the amount you send and the amount you receive, which is determined by the bridge rate and fees. For the exact definition of each item in the transaction, check the tooltips next to each of the terms.</strong></p>
<p><img src=".gitbook/assets/9 (2).png" alt=""></p>
<p>3. Review your transfer details and click ‚ÄúTransfer‚Äù. You will receive a popup to submit the transfer.</p>
<p><img src=".gitbook/assets/15 (1).png" alt=""></p>
<p>4. After clicking ‚ÄúTransfer‚Äù:</p>
<p>4.1 If it is a newly created Aptos account with 0 $APT in it, you will also receive 0.15 $APTOS to pay the gas fee on Aptos. Click ‚ÄúConfirm Transfer‚Äù and you will be prompted with a confirmation on MetaMask.</p>
<p><img src=".gitbook/assets/16 (2).png" alt=""></p>
<p><img src=".gitbook/assets/17 (1).png" alt=""></p>
<p>4.2 If there is some $APT balance in the Aptos account and it is the first time to receive this token on Aptos, it is mandatory to Register the token in the Aptos wallet first before claiming/receiving in Step 7. Please refer to <a href="#register-token-in-aptos-wallet-if">this section</a> to find out how to register token. <strong>You only need to register once per token.</strong></p>
<p>4.3 If there is some $APT balance in the Aptos account and it is <strong>NOT</strong> the first time to receive this token on Aptos, you will see ‚ÄúTransfer‚Äù button only and after clicking ‚ÄúConfirm Transfer‚Äù you will be prompted with a confirmation on MetaMask. In this case you do not need to Register the token anymore and still receive 0.15 APTOS to pay the gas fee on Aptos.</p>
<p><img src="https://lh7-us.googleusercontent.com/_KpN5NOXkK_JUaFF1h9U7XSmr9tPEsrobZm3UFT_7UrHB-8dHDuuwuhdsG4qmT78__Eqd3fDVmTVBgeczAznOxRsAo1HxNv0MqR406pEcOibSPtYMa9Grz9LdxYaAbTHoviKrG3hoQ3A6DscOK1pNQM" alt=""></p>
<p>5. After ‚ÄúConfirm Transfer‚Äù, your transaction will be submitted. Please wait a few minutes.</p>
<p><img src=".gitbook/assets/18.png" alt=""></p>
<p>6. The page will show you the real-time progress of the transaction. </p>
<p><img src=".gitbook/assets/19.png" alt=""></p>
<p><img src=".gitbook/assets/20 (1).png" alt=""></p>
<p>7. When block confirmations and SGN confirmations are completed, you will see a popup to ‚ÄúClaim BNB‚Äù.</p>
<p>Note: You need to claim first to receive the token on Aptos. <strong>You only need to claim once per token.</strong></p>
<p><img src=".gitbook/assets/21 (1).png" alt=""></p>
<p>If you close this window without claiming $BNB, you can also Claim in cBridge History section.</p>
<p><img src=".gitbook/assets/Êà™Â±è2023-12-15 17.19.23.png" alt=""><figcaption></figcaption></p>
<p><img src=".gitbook/assets/Êà™Â±è2023-12-15 17.20.33 (1).png" alt=""><figcaption></figcaption></p>
<p>8. Click ‚ÄúApprove‚Äù and you will see the Transfer Completed popup.</p>
<p><img src=".gitbook/assets/22 (2).png" alt=""></p>
<p><img src=".gitbook/assets/23 (1).png" alt=""></p>
<p>9. Click ‚ÄúPetra‚Äù at the extension in the top right corner of the browser, you can see all the assets in your wallet, including $APT and the bridged assets.</p>
<p><img src=".gitbook/assets/1111.png" alt=""></p>
<p>10. You can also click ‚ÄúRecent Transactions‚Äù to view your transaction history and details.</p>
<p><img src=".gitbook/assets/222.png" alt=""></p>
<p><img src=".gitbook/assets/26.png" alt=""></p>
<h2 id="register-token-in-aptos-wallet-if-need"><a class="header" href="#register-token-in-aptos-wallet-if-need">Register Token in Aptos Wallet (If Need)</a></h2>
<p>If you transfer a token to Aptos for the first time, you will need to Register the token in your Aptos wallet first. Here take $USDC as the example and go through the steps as follows:</p>
<p>You will see ‚ÄúRegister $USDC in your Aptos wallet‚Äù button first.</p>
<p><img src=".gitbook/assets/10.png" alt=""></p>
<p>Then click ‚ÄúApprove‚Äù on Petra.</p>
<p><img src=".gitbook/assets/11.png" alt=""></p>
<p>Then click ‚ÄúApprove USDC‚Äù, and you will be prompted to confirm on Metamask.</p>
<p><img src=".gitbook/assets/12.png" alt=""></p>
<p><img src=".gitbook/assets/13 (3).png" alt=""></p>
<p>Click ‚ÄúConfirm‚Äù and you will complete the token registration and can continue transferring your assets.</p>
<p><img src=".gitbook/assets/14 (2).png" alt=""></p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="ape-chain-bridging-guide"><a class="header" href="#ape-chain-bridging-guide">Ape Chain Bridging Guide</a></h1>
<p>Sending bridge transactions on Ape Chain is currently free. However, if you are using mobile wallets (e.g., Metamask mobile, imToken), you may be asked to pay gas fees (in $PEEL) when submitting tx on Ape Chain. In this case, please follow the below guides to solve the issues.</p>
<h3 id="metamask-mobile-app"><a class="header" href="#metamask-mobile-app">Metamask Mobile App</a></h3>
<p>If you are using Metamask mobile app, you may be asked to pay gas fees when approving NFTs or SHELL tokens on Ape Chain.</p>
<p><img src=".gitbook/assets/mm-1-min.jpg" alt=""></p>
<p>In this case, click on the gas fee link as highlighted above, and you will see the popup to adjust the gas price.</p>
<p><img src=".gitbook/assets/mm-2-min.jpg" alt=""></p>
<p>Change the gas price from 1 GWEI to 0 GWEI (just ignore the warning that the gas price is too low).</p>
<p><img src=".gitbook/assets/mm-3-min.jpg" alt=""></p>
<p>Click the  ‚ÄúSave‚Äù button and you will see the gas fee becomes 0 PEEL. </p>
<p><img src=".gitbook/assets/mm-4-min.jpg" alt=""></p>
<h3 id="other-mobile-wallets"><a class="header" href="#other-mobile-wallets">Other Mobile Wallets</a></h3>
<p>If you are using other mobile wallets, you try similar steps to adjust the gas price to 0 GWEI on Ape Chain. However, some mobile wallets may not allow 0 GWEI gas price (e.g., imToken). In this case, please use Metamask mobile or Metamask web extension to send bridge transactions on Ape Chain.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="flow-cadence-bridging-guide"><a class="header" href="#flow-cadence-bridging-guide">Flow Cadence Bridging Guide</a></h1>
<h2 id="connect-your-wallet-2"><a class="header" href="#connect-your-wallet-2">Connect Your Wallet</a></h2>
<p>Before you start transferring assets via cBridge, you will need to connect your wallet first.</p>
<p>1. Click ‚ÄúConnect Wallet‚Äù, and you will be prompted to select a wallet. (cBridge now supports MetaMask, TokenPocket, Coinbase Wallet, WalletConnect, and Clover on desktop browsers).</p>
<p><img src=".gitbook/assets/Group 1000003508 (2).png" alt="" width="563"><figcaption></figcaption></p>
<p>2. Select ‚ÄúMetaMask‚Äù.</p>
<p><img src=".gitbook/assets/image (3).png" alt="" width="188"><figcaption></figcaption></p>
<ol start="3">
<li>Click ‚ÄúConnect your Flow wallet to receive the funds‚Äù, and you will be prompted to select a wallet. (cBridge now supports Blocto and Flow Reference wallets for Flow Cadence).</li>
</ol>
<p><img src=".gitbook/assets/Group 1000003508 (3).png" alt="" width="563"><figcaption></figcaption></p>
<p><img src=".gitbook/assets/image (6).png" alt="" width="375"><figcaption></figcaption></p>
<ol start="4">
<li> Connect a wallet you would like to use for transfer.</li>
</ol>
<p>    4.1 <em><strong>Connect Blocto Wallet</strong></em>. By entering your email address, you can Sign in/ Register to your Blocto Account. After entering passcode given by Blocto, you can click confirm button to connect your Blocto wallet to cBridge.</p>
<p><img src=".gitbook/assets/image (7).png" alt="" width="188"><figcaption></figcaption></p>
<p><img src=".gitbook/assets/image (8).png" alt="" width="188"><figcaption></figcaption></p>
<p><img src=".gitbook/assets/image (9).png" alt="" width="188"><figcaption></figcaption></p>
<p><img src=".gitbook/assets/image (10).png" alt="" width="188"><figcaption></figcaption></p>
<p><img src=".gitbook/assets/Group 1000003510.png" alt="" width="563"><figcaption></figcaption></p>
<p>    4.2 <em><strong>Connect Flow Reference Wallet</strong></em>. cBridge website will detect whether you have installed Flow Reference Wallet. If not, you will need to install the chrome extension firstly according to the guideline and <strong>Refresh cBridge website.</strong> If Flow Reference Wallet has been installed in chrome,  you will see a prompt after selecting Flow Reference Wallet. By clicking <strong>Connect</strong> button, your Flow reference wallet is connected for cBridge transfer.</p>
<p><img src=".gitbook/assets/spaces_e2ozVyumMnvf5tn0izji_uploads_aMU6S6LtCNtdOTBKG0tx_image.webp" alt="" width="375"><figcaption></figcaption></p>
<p><img src=".gitbook/assets/image (14).png" alt="" width="563"><figcaption></figcaption></p>
<p><img src=".gitbook/assets/image (15).png" alt="" width="188"><figcaption></figcaption></p>
<h2 id="transfer-assets-across-chains"><a class="header" href="#transfer-assets-across-chains">Transfer Assets Across Chains</a></h2>
<p>Let‚Äôs say, you want to transfer 11 BUSD from BNB Chain to Flow Cadence. The steps are made simple in cBridge:</p>
<ol>
<li>Select ‚ÄúBNB Chain‚Äù in the dropbox next to ‚ÄúFrom‚Äù and ‚ÄúFlow Cadence‚Äù in the dropbox next to ‚ÄúTo‚Äù.</li>
</ol>
<p><img src=".gitbook/assets/Group 1000003511.png" alt="" width="375"><figcaption></figcaption></p>
<ol start="2">
<li>You will be prompted to switch your wallet to BNB Chain if it‚Äôs not yet connected. Enter the amount you want to send under ‚ÄúSend‚Äù. You should see the estimated amount you will receive under ‚ÄúReceive (estimated)‚Äù.</li>
</ol>
<p><img src=".gitbook/assets/Group 1000003512 (3).png" alt="" width="375"><figcaption></figcaption></p>
<p>Note that there will be a difference between the amount you send and the amount you receive, which is determined by the bridge rate and fees. For the exact definition of each item in the transaction, check the tooltips next to each of the terms.</p>
<p><img src=".gitbook/assets/image (20).png" alt="" width="375"><figcaption></figcaption></p>
<ol start="3">
<li>Note that If you transfer BUSD to Flow Cadence <strong>for the first time</strong>, you will be prompted to ‚ÄúCreate BUSD vault in your Follow wallet‚Äù first.</li>
</ol>
<p><img src=".gitbook/assets/Group 1000003513.png" alt="" width="375"><figcaption></figcaption></p>
<ol start="4">
<li>Then click ‚ÄúApprove‚Äù on Flow Wallet.</li>
</ol>
<p><img src=".gitbook/assets/image (21).png" alt="" width="188"><figcaption></figcaption></p>
<ol start="5">
<li>Then you need to ‚ÄúApprove BUSD‚Äù, and will be prompted to confirm on Metamask.</li>
</ol>
<p><img src=".gitbook/assets/Group 1000003513 (1).png" alt="" width="375"><figcaption></figcaption></p>
<p><img src=".gitbook/assets/image (24).png" alt="" width="180"><figcaption></figcaption></p>
<p><img src=".gitbook/assets/image (26).png" alt="" width="186"><figcaption></figcaption></p>
<ol start="6">
<li>Click ‚ÄúNext‚Äù and ‚ÄúApprove‚Äù in each prompt and you can transfer your assets. Then, review your transfer details and click ‚ÄúTransfer‚Äù. You will receive a popup to confirm the transfer.</li>
</ol>
<p><img src=".gitbook/assets/Group 1000003514.png" alt="" width="375"><figcaption></figcaption></p>
<p>Note if you have approved BUSD before, you will skip step 5 and see the below Transfer page.</p>
<p><img src=".gitbook/assets/Group 1000003515.png" alt="" width="375"><figcaption></figcaption></p>
<ol start="7">
<li>Make a final review and click Confirm Transfer button. Then you will be prompted with a confirmation on MetaMask.</li>
</ol>
<p><img src=".gitbook/assets/Group 1000003516.png" alt="" width="375"><figcaption></figcaption></p>
<p><img src=".gitbook/assets/image (30).png" alt="" width="177"><figcaption></figcaption></p>
<ol start="8">
<li>Click ‚ÄúConfirm‚Äù, and your transaction will be submitted. Please wait for a few minutes as the bridging is in progress.</li>
</ol>
<p><img src=".gitbook/assets/Group 1000003517.png" alt="" width="188"><figcaption></figcaption></p>
<ol start="9">
<li>You can check transaction status by clicking History button. </li>
</ol>
<p><img src=".gitbook/assets/Group 1000003518.png" alt="" width="563"><figcaption></figcaption></p>
<ol start="10">
<li>Here are examples of transaction statuses. When it shows <strong>Completed</strong>, it means the transaction is done and the token should be received on Flow Cadence.</li>
</ol>
<div align="center"><img src=".gitbook/assets/Group 1000003519.png" alt="" width="563"><figcaption></figcaption></div>

<p><img src=".gitbook/assets/Group 1000003520.png" alt="" width="563"><figcaption></figcaption></p>
<ol start="10">
<li>You can also check token in your wallet.</li>
</ol>
<p><img src=".gitbook/assets/image (34).png" alt="" width="188"><figcaption></figcaption></p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="flow-evm-bridging-guide"><a class="header" href="#flow-evm-bridging-guide">Flow EVM Bridging Guide</a></h1>
<h2 id="connect-your-wallet-3"><a class="header" href="#connect-your-wallet-3">Connect Your Wallet</a></h2>
<p>Before you start transferring assets via <a href="https://cbridge.celer.network/1/747/USDC-intermediary">cBridge</a>, you will need to connect your wallet.</p>
<p>1. Click ‚ÄúConnect Wallet‚Äù, and you will be prompted to select a wallet. (cBridge now supports MetaMask, TokenPocket, Coinbase Wallet, WalletConnect, Clover and OKX Wallet on desktop browsers).</p>
<p><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXcm2wXsocvdWYQdlxz8NxDvxzj9H4CHm3ZLDJVevsQn7QNppS8qNA17NfDWy4wu0PjSjJYshqZ3wEUzyJPF2psrHfxVjfxSuRiG3oiHeYHu050majpUufknFnhau-Cr2y4CP38NgaydX-nAAd-OJWYcQGG1?key=hA7YVnSfAyd3H34hw9RbNg" alt="" width="563"><figcaption></figcaption></p>
<p>2. Select your wallet.</p>
<p><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXfWa2KKrG5fEj19ERjf38WagmnEJMslCm-NwTDcb-4W3l-unOA3IfaYzY-xxjtSpxpwUjddycf3IEAfobWsm_VkY4OcPrMl8y1r7UxpP43hkuog0jjL-hDIfw3JpS4JIXaN8kxuFcy2Yh54Bef0Wx-xXbQ?key=hA7YVnSfAyd3H34hw9RbNg" alt="" width="375"><figcaption></figcaption></p>
<p>3. Allow cBridge to connect with your wallet.</p>
<p><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXc3NaJPJAHuQJnNCEpxQhWGToL1ELFH_5CvyjvGTrwKaKfv4-QVXUZlfAazctaGiKjUkunIGRVk0lx3FhsFBJ0493i9W1wl8qu55rJzAYFEqfqAiVZnofq_x7xDDu8Sa9_b8aKwyL4FmKNGntEbv7Vl6dZI?key=hA7YVnSfAyd3H34hw9RbNg" alt="" width="188"><figcaption></figcaption></p>
<p>4. Grant permissions to cBridge with necessary access to deliver the bridging actions accordingly.</p>
<p><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXe8h_8wtYEfPrli-3Rzyz77X9sowOY5G2sRRYxXYTccnnFeo7T9I7nAu6uQoitjADNLiV1iw-FdPk_TvbdHy-tf-6bF169nn-GaEl3MhkkhnJud1opFAjCTKHDNbbWYKLfG2pZCTxCOSiHJWmg54tY3oJo?key=hA7YVnSfAyd3H34hw9RbNg" alt="" width="188"><figcaption></figcaption></p>
<h2 id="transfer-assets-across-chains-1"><a class="header" href="#transfer-assets-across-chains-1">Transfer Assets Across Chains</a></h2>
<p>Let‚Äôs assume you want to transfer 100 USDC from Ethereum Mainnet to Flow EVM. The steps are made simple in cBridge:</p>
<p>1. Select ‚ÄúEthereum Mainnet‚Äù in the dropbox next to ‚ÄúFrom‚Äù and ‚ÄúFlow EVM‚Äù in the dropbox next to ‚ÄúTo‚Äù.</p>
<p><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXca0szKL2JgEg7JexD6WIJp3CtRMDuNfzpL9v5OKVa2b3uPzC-SHrJp1ZJQZnLV1zStm3L_rUV5H2ET6KNTbD2xux6rSOVnc4Xd6XK9ljTDKy5fUR959HPSnBusYau0OZT7UqAVKEzo4ndkWbhdtX9W6EcI?key=hA7YVnSfAyd3H34hw9RbNg" alt="" width="563"><figcaption></figcaption></p>
<p>2. Enter the amount you want to send. You should see the estimated amount you will receive under ‚ÄúReceive (estimated)‚Äù.</p>
<p><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXdLZjOVxRym3ikFpZJlwBFrKNhL7cJcL-OLVIBhzSLbX826ncI__YLSvdibf5t6S5ZSw2TBcrzmJn7i3yBiMYlRhINauZZIstcrxZKyQy09Xfl-i3jN1sHSo7kuxKe6A6AFOeVdt1bnN3PDYmmV3dEjrc8?key=hA7YVnSfAyd3H34hw9RbNg" alt="" width="563"><figcaption></figcaption></p>
<p>Note that there will be a difference between the amount you send and the amount you receive, which is determined by the bridge rate and fees. For the exact definition of each item in the transaction, check the tooltips next to each of the terms.</p>
<p><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXfUAshPIqpPQuwCCHXXwrveFpjFClgqaG921P20LupcMTMP3poFBjCHR9xqJS2vTttSFHQ7uvxb-EydEZV8tGxT5pAmLAfcQpD4DOhNV7BWlC295uiDO8VmmahA27UieLAuZPm63TM09wpauaPNG9NDtQc?key=hA7YVnSfAyd3H34hw9RbNg" alt="" width="563"><figcaption></figcaption></p>
<p>3. Approve the token - You must give cBridge smart contracts permission to use your token (i.e. USDC in this case), which is an on-chain tx that consumes gas. </p>
<p><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXeAPQWx-lIyfEKeGjbBbq57t9M1Jt6BWZxUwLynAu_LOX4Qz0JqnkJhkOS0Bqpn0tNUjRZZ8nU9IG_3-hTkoOX7a3hcrxxP2V9-EYeNQposH4ZAbbPTRm8xWK_wH_A94d3kEHYgNSYBcJ7AjJFkQmaWR-Ud?key=hA7YVnSfAyd3H34hw9RbNg" alt="" width="563"><figcaption></figcaption></p>
<p>4. Once the token is approved, you can then review the transfer details. As you agree to proceed the bridging in accordance with the stated transfer details, click ‚ÄúTransfer‚Äù. You will receive a popup window to confirm the transfer.</p>
<p><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXfXKRktgziQIEOrFxWLIja1OD7V_QBKJx0U8H-E2ceaYAqAoOTjsh_ll1SCKoM9J8KP7KxnP_FdO7c5TmqzFbZXmoCh1fbM0XOHPPcdNcjISDEzEAUnO8n1O7XGlTrmrLYuyGO8IFihNeIBJnLB3yusPglR?key=hA7YVnSfAyd3H34hw9RbNg" alt="" width="563"><figcaption></figcaption></p>
<p>5. Make a final review and click the ‚ÄúConfirm Transfer‚Äù button. Then you will be prompted with a confirmation on your wallet extension.</p>
<p><img src=".gitbook/assets/Screenshot 2024-10-17 at 1.36.21‚ÄØPM.png" alt="" width="460"><figcaption></figcaption></p>
<p>6. Once clicked ‚ÄúConfirm‚Äù on the wallet interface, the transaction will be submitted. The cBridge page will also show a ‚ÄúTransfer submitted‚Äù window as shown below. Please wait for a few minutes as the bridging is in progress.</p>
<p><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXf7XYvFfVgCFoZGrUlQf3liW965NKTwmic-KsN8Mbpwh2RJmpp9eAicVecw02GzGP5H36iettpqZpUD2xE5eruXjem8Zl-drBfPGCH_LoLf1xPUKRGKE6F-tvb9Ip1SfM-noKzYtp_cDJ2naBLrbvdIQenZ?key=hA7YVnSfAyd3H34hw9RbNg" alt="" width="188"><figcaption></figcaption></p>
<p><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXccZlZA5IgZWE_125o7HIvKzaZh4hHQZsu_BAY5_ucFU3rkydz3CSTa_LfMq_TSkpODJavC6p-3MoKByOVlW6k_wrftUFNnrFk-fyyAUJYiZ2GEMI1S9lciAdWHWtXnUaua8OhAXFdQBs0E6-pLyC73aL9S?key=hA7YVnSfAyd3H34hw9RbNg" alt="" width="375"><figcaption></figcaption></p>
<p>7. You can check the transaction status by clicking the ‚ÄúHistory‚Äù button.</p>
<p><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXfYvjNh4ZsaUZWfyzq_V2iRdUFaxm1R3j5UpU4UKKJfbS1i76X5Pu4QtVz9CSMikzcN9hHHAm2sw1myc0yU5ouyZ5rBtmmWxtPtymLDukzwm38CwBW3u1B2LtkNDhHbk0oTyoxX_rS4zh_ayBVqhlDbhHGc?key=hA7YVnSfAyd3H34hw9RbNg" alt="" width="563"><figcaption></figcaption></p>
<p>8. Here are some examples of the transaction statuses. When it shows Completed, it means that the wallet on Flow EVM has received the token.</p>
<p><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXeFjMB2sdMI74lKxEioDcA0v5OebGPlwhzAC7oVvq7p0UepZnj01enVzjHeCgjHDQKJEbxCZxuT0KzzJaH6wQqZOpOyRxCOy_T3ux8Drl8qRAer_jcrMjhzoxagwzjzyQffS_oPi1BddbpkQJ0uQScnyow?key=hA7YVnSfAyd3H34hw9RbNg" alt="" width="563"><figcaption></figcaption></p>
<p><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXd1-iyEaem95-wVKlKE_1e5ZbSLqrUtkirEYpx7rMOyg89UJLWP49vrlg9A9aO6NhS9DNpcC9defktf3ip2l0hRgwYfsNmMObMYzaUaxJMxlCRMG-23V35fV1OBI57fSl4rjzQym_RitXy-2bh-uX99Fuyk?key=hA7YVnSfAyd3H34hw9RbNg" alt="" width="563"><figcaption></figcaption></p>
<p><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXfthDUvpNZ6byP0wcZ5jr8SpqlWMLAIoHztpvb1iqOgUIcT0MHjAlh4ZwR0dxlqmv2yn9OqzEjtlvWTWPJSzvgJVTvNvcSEzhYbHRemsu8qlwWr9MTIdzG9y_LatMJxa8E6c-QpMSoxq4itKS3S9fduYD0_?key=hA7YVnSfAyd3H34hw9RbNg" alt="" width="563"><figcaption></figcaption></p>
<p>9. You can also check the received token through the wallet.</p>
<p><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXe37rB9kWVPcoFj5-HL3QLBfD9iwM3aTWf1nLK5KBG0CfEO1k0RW5RZTB5B97cJmLj3giph3VUJ62IQy2qF0yXF0MuS3TaJRp1DbPgmF0kx88CZ5cgAQyQw2jJdb70fsCkGsnzHKZWrpLzByhEZ7Mc22Ng?key=hA7YVnSfAyd3H34hw9RbNg" alt="" width="188"><figcaption></figcaption></p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="circle-cross-chain-usdc-transfer-protocolcctp"><a class="header" href="#circle-cross-chain-usdc-transfer-protocolcctp">Circle Cross-chain USDC Transfer Protocol(CCTP)</a></h1>
<p>For Circle Cross-Chain USDC Protocol supported chains, the USDC flow is going through Circle bridge contracts and its attestation service instead of cBridge or peg bridge contracts and SGN.</p>
<p>The following content is an integration tutorial from frontend perspective.</p>
<p><img src=".gitbook/assets/image (41).png" alt=""><figcaption>
<p>CCPT flow</p>
</figcaption></p>
<h2 id="proxy-contracts"><a class="header" href="#proxy-contracts">Proxy Contracts</a></h2>
<table data-header-hidden="">
<thead>
<tr><th width="195"></th><th width="502.3333333333333"></th></tr>
</thead>
<tbody>
<tr><td>Chain</td><td>Address</td></tr>
<tr><td>Ethereum 1</td><td><a href="https://etherscan.io/address/0x6065a982f04f759b7d2d042d2864e569fad84214">0x6065a982f04f759b7d2d042d2864e569fad84214</a></td></tr>
<tr><td>Avalanche 43114</td><td><a href="https://snowtrace.io/address/0x9744ae566c64B6B6f7F9A4dD50f7496Df6Fef990">0x9744ae566c64B6B6f7F9A4dD50f7496Df6Fef990</a></td></tr>
<tr><td>Arbitrum One 42161</td><td><a href="https://arbiscan.io/address/0x054B95b60BFFACe948Fa4548DA8eE2e212fb7C0a#code">0x054B95b60BFFACe948Fa4548DA8eE2e212fb7C0a</a></td></tr>
<tr><td>Optimism 10 </td><td><a href="https://optimistic.etherscan.io/address/0x697aC93c9263346c5Ad0412F9356D5789a3AA687#readContract">0x697aC93c9263346c5Ad0412F9356D5789a3AA687</a></td></tr>
<tr><td>Base 8453</td><td><a href="https://basescan.org/address/0x243b40e96c6bF21511E53d85c86F6Ec982f9a879">0x243b40e96c6bF21511E53d85c86F6Ec982f9a879</a></td></tr>
<tr><td>Polygon PoS 137</td><td><a href="https://polygonscan.com/address/0xB876cc05c3C3C8ECBA65dAc4CF69CaF871F2e0DD">0xB876cc05c3C3C8ECBA65dAc4CF69CaF871F2e0DD</a></td></tr>
</tbody>
</table>

<p>Also you can get the related contract addressed from cBridge gateway api</p>
<p><a href="https://cbridge-prod2.celer.app/v1/circleUsdcConfig">https://cbridge-prod2.celer.app/v1/circleUsdcConfig</a></p>
<h2 id="quote-fee"><a class="header" href="#quote-fee">Quote Fee</a></h2>
<p>Note that the CCTP quote the fees from the proxy contract instead of the cBridge gateway APIs.</p>
<p>For example, bridging USDC from Ethereum to Avalanch by <a href="https://etherscan.io/address/0x6065a982f04f759b7d2d042d2864e569fad84214#readContract#F13">totalFee</a> method.</p>
<p><strong>Inputs</strong></p>
<p>amount:  Your bridging amount with decimal, for example, 3000000 = 30USDC</p>
<p>dstChid: The destination chain you wanna send, in this case is 43114</p>
<p><strong>Outputs</strong></p>
<p>Output data is an array of fees <code>[fee, txFee, percFe]</code>.</p>
<p><code>fee: total fee, txFee+percFee</code></p>
<p><code>txFee: transaction fee</code></p>
<p><code>percFee: percentage fee</code></p>
<p>For this bridging mode, the bridge rate is 1.</p>
<h2 id="bridge-by-depositforburn"><a class="header" href="#bridge-by-depositforburn">Bridge by depositForBurn</a></h2>
<p>From the front-end side, lock the USDC to source proxy contract by the method <a href="https://etherscan.io/address/0x6065a982f04f759b7d2d042d2864e569fad84214#writeContract#F4">depositForBurn</a>. Circle attestation will bridge the assets to the destination chain in a trustless way. For more details refer to this:<a href="https://developers.circle.com/stablecoin/docs/cctp-protocol-contract">https://developers.circle.com/stablecoin/docs/cctp-protocol-contract</a></p>
<p><strong>Contract Parameters</strong></p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Field</th><th>Des</th></tr>
</thead>
<tbody>
<tr><td>amount</td><td>Bridging amount with decimal</td></tr>
<tr><td>dstChid</td><td>Bridging destination chain id</td></tr>
<tr><td>mintRecipient</td><td>Receiver address</td></tr>
<tr><td>burnToken</td><td>USDC token address in source chain, you can read the token address from this configuration: <a href="https://cbridge-prod2.celer.app/v1/circleUsdcConfig">https://cbridge-prod2.celer.app/v1/circleUsdcConfig</a></td></tr>
</tbody>
</table>
</div>
<p>Once this depositForBurn happened on the source chain, you can get the source chain <strong>Deposited</strong> event.</p>
<pre><code>event Deposited(address sender, bytes32 recipient, uint64 dstChid, uint256 amount, uint256 txFee, uint256 percFee, uint64 nonce);
</code></pre>
<h2 id="searching-destination-transaction-status"><a class="header" href="#searching-destination-transaction-status">Searching destination transaction status</a></h2>
<p>Searching the final destination chain status by the gateway API: GetTransferStatus.</p>
<p>The API requires a tracking field <strong>transferId</strong> for the status quering, here is an example with ether.js.</p>
<pre><code class="language-typescript">getTransferId(): string {
      return ethers.utils.solidityKeccak256(
          ["string", "address", "uint64", "uint64"],
          [
            "CircleTransfer", // fixed string
            walletAddress, // wallet address of user
            fromChainId, // source chain Id
            nonce, // can be retrived from the Deposited event
          ],
      );
    }  
</code></pre>
<p><strong>API reference</strong></p>
<p><a href="#gateway-gettransferstatus">Link</a>
<a href="#gateway-gettransferstatus">gateway-gettransferstatus.md</a></p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="cbridge-sdk"><a class="header" href="#cbridge-sdk">cBridge SDK</a></h1>
<p>cBridge SDK allows new and existing applications to integrate a rich <strong>subset of features</strong> that are available in the cBridge 2.0.  Simple imported libraries and packages allow you to quickly implement the cBridge transfer functionality into new and existing applications. </p>
<h3 id="cbridge-testnet-website"><a class="header" href="#cbridge-testnet-website">cBridge Testnet Website</a></h3>
<p>You can try our <a href="https://dev-cbridge-v2.netlify.app/#/transfer">testnet website</a> during the SDK integration</p>
<h3 id="cbridge-testnet-endpoint"><a class="header" href="#cbridge-testnet-endpoint">cBridge Testnet Endpoint</a></h3>
<p>The testnet endpoint is: <a href="https://cbridge-v2-test.celer.network">https://cbridge-v2-test.celer.network</a></p>
<h3 id="cbridge-mainnet-endpoint"><a class="header" href="#cbridge-mainnet-endpoint">cBridge Mainnet Endpoint</a></h3>
<p>When you have finished implementation and testing on testnet, you are welcome to use cBridge mainnet for production test. The endpoint is: <a href="https://cbridge-prod2.celer.app/">https://cbridge-prod2.celer.app/</a></p>
<h2 id="sdk-working-flow"><a class="header" href="#sdk-working-flow">SDK Working Flow</a></h2>
<p>The following graph reveals a general cBridge SDK integration inside your application. In most cases, you need to support <mark style="color:red;">only two</mark> functions(red lines in the graph):</p>
<ol>
<li>Send request to cBridge gateway through cBridge SDK</li>
<li>Send corresponding on-chain transaction to cBridge contract</li>
</ol>
<p><img src=".gitbook/assets/sdk-working-flow.png" alt=""></p>
<h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<p>It‚Äôs highly recommended to communicate with cBridge gateway by using grpc-web.</p>
<ol>
<li>You don‚Äôt need to put any effort for response value mapping. Since all messages are defined in protobuf, enum value could be used directly such as <mark style="color:green;">Completed</mark> instead of an integer value 1. It helps preventing bugs and errors due to random mapping issues</li>
<li>Inside cBridge gateway, there are some post APIs needing serialized byteArray as input. It takes some steps to prepare format accepted request information. Just in case you prefer RESTful api request, we will provide some examples for you accordingly</li>
<li>Since cBridge iterates frequently, the best way to keep everything updated is using grpc. You can always check the latest grpc generated files and keep in touch with the newest cBridge gateway</li>
</ol>
<blockquote>
<p><strong>Note:</strong>
<mark style="color:orange;">You can always use REST apis when communicating with cBridge gateway. We will provide examples and details in each api reference.</mark></p>
</blockquote>
<h3 id="1-install-the-grpc-web"><a class="header" href="#1-install-the-grpc-web">1. Install the <a href="https://github.com/grpc/grpc-web">grpc-web</a> </a></h3>
<p>To begin development with cBridge SDK, each developer needs to install grpc-web for cBridge gateway communication </p>
<pre><code class="language-javascript">// Install via yarn
yarn add grpc-web
</code></pre>
<pre><code class="language-javascript">// Install via npm
npm install grpc-web
</code></pre>
<h3 id="2-download-cbridge-type-script-client-and-contract"><a class="header" href="#2-download-cbridge-type-script-client-and-contract">2. Download cBridge type-script client and contract </a></h3>
<p>Download auto-generated protobuf files(including xxx_pb.d.ts, xxx_pb.js) in <a href="https://github.com/celer-network/cBridge-typescript-client">cBridge typescript client repo</a>. You can find all needed messages including client, request constructs and contracts there.</p>
<h3 id="3-import-cbridge-sdk-into-your-projects"><a class="header" href="#3-import-cbridge-sdk-into-your-projects">3. Import cBridge SDK into your projects.</a></h3>
<p>Import the file and type-defined messages, then they can be used in your project. The following is code snippet for type-script client usage in JavaScript project.</p>
<pre><code class="language-javascript">// import getTransferConfig request message 
import {
  GetTransferConfigsRequest
  GetTransferConfigsResponse
} 
from "../ts-proto/sgn/gateway/v1/gateway_pb";

// import grpc-web WebClient
import { WebClient } 
from "../ts-proto/sgn/gateway/v1/GatewayServiceClientPb";

const request = new GetTransferConfigsRequest();
const client = new WebClient(`https://cbridge-prod2.celer.app/`, null, null);
const response = await client.getTransferConfigs(request, null);
</code></pre>
<h2 id="api-reference"><a class="header" href="#api-reference">API Reference</a></h2>
<p>Once you have integrated cBridge SDK into your project, dive into the specifics of each API by checking out our complete documentation.</p>
<p><a href="developer/api-reference">Link</a>
<a href="developer/api-reference">api-reference</a></p>
<h2 id="need-help"><a class="header" href="#need-help-1">Need help? <a href="#need-help-1" id="need-help-1"></a></a></h2>
<p>If you‚Äôre looking for help, try join the <a href="https://discord.gg/Trhab5w">community Discord</a></p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="cbridge-pool-based-transfer--xliquidity"><a class="header" href="#cbridge-pool-based-transfer--xliquidity">cBridge Pool-Based Transfer  (xLiquidity)</a></h1>
<h2 id="terminology"><a class="header" href="#terminology">Terminology</a></h2>
<p>The followings are used to describe cBridge transfer flow</p>
<ul>
<li>The <strong>Source Chain</strong> is a chain contains the assets which users want to move. </li>
<li>The <strong>Destination Chain</strong> is a chain where users want to receive their assets</li>
<li>The <strong>cBridge Gateway</strong> provides related functionality to support users‚Äô assets transfer. </li>
<li>The <strong>cBridge contract</strong> will be deployed on different chains for transfer functionality   </li>
</ul>
<h2 id="flow-phrases"><a class="header" href="#flow-phrases">Flow Phrases</a></h2>
<h4 id="transfer"><a class="header" href="#transfer">Transfer</a></h4>
<blockquote>
<p>A user request a on-chain transfer through cBridge contract on source chain. Then cBridge gateway and Celer SGN will coordinate token transfer from cBridge contract to user‚Äôs address on destination Chain</p>
</blockquote>
<h4 id="transfer-refund"><a class="header" href="#transfer-refund">Transfer Refund</a></h4>
<blockquote>
<p>Once there is a transfer failure which requests refund, you will wait until cBridge has prepared on-chain refund transaction parameters.  Then submit refund transaction and cBridge contracts will return user‚Äôs assets on source chain</p>
</blockquote>
<p><img src=".gitbook/assets/image (70).png" alt=""></p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="transfer-1"><a class="header" href="#transfer-1">Transfer</a></h1>
<p>To accomplished user‚Äôs transfer, FE(front-end) needs to do the following things:</p>
<ol>
<li>Get basic transfer configs to get correct user‚Äô input for assets transfer</li>
<li>After collecting all needed information, always get updated estimation for the transfer.</li>
<li>Check user‚Äôs on-chain token allowance for cBridge contract. If the allowance is not enough for user token transfer, trigger the corresponding on-chain approve flow</li>
<li>Submit on-chain transfer request to cBridge contract on source chain</li>
<li>Get transfer status repeatedly to check whether the transfer is complete.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="transfer-refund-1"><a class="header" href="#transfer-refund-1">Transfer Refund</a></h1>
<p>Once the user‚Äôs previous transfer status is <mark style="color:red;">TRANSFER_TO_BE_REFUNDED</mark>, FE(front-end) needs to handle as follows to bring back user‚Äôs assets to his/her wallet:</p>
<ol>
<li>Polling <a href="#gateway-gettransferstatus">GetTransferStatus</a> until transfer status is <a href="#xferstatus-enum"><mark style="color:yellow;">TRANSFER_TO_BE_CONFIRMED</mark></a></li>
<li>Submit on-chain withdraw request to cBridge contract with information provided by cBridge gateway in <a href="#gateway-gettransferstatus">GetTransferStatus</a> response</li>
<li>Once the refund transaction succeeds, the refund flow is complete.</li>
</ol>
<blockquote>
<p><strong>Note:</strong>
Basically, it may take some time for gateway to prepare withdraw information. If the transfer status is stuck as <mark style="color:red;">TRANSFER_TO_BE_REFUNDED</mark> more than 30 minutes, you may contact our custom support</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="cbridge-canonical-mapping-transfer-xasset"><a class="header" href="#cbridge-canonical-mapping-transfer-xasset">cBridge Canonical Mapping Transfer (xAsset)</a></h1>
<h2 id="terminology-1"><a class="header" href="#terminology-1">Terminology</a></h2>
<p>The followings are used to describe cBridge transfer flow</p>
<ul>
<li>The <strong>Original Chain</strong> is the chain which supports the original token</li>
<li>The <strong>Pegged Chain</strong> is the chain which has not supported original token yet. </li>
<li>The <strong>Original Token</strong> is the existing token on the source chain</li>
<li>The <strong>Pegged Token</strong> is the original token mapping on the pegged chain. <mark style="color:red;">The rate between original token and pegged token is 1:1</mark></li>
<li>The <strong>Original Token Vault</strong> is a contract deployed on the source chain locking and sending back user‚Äôs assets</li>
<li>The <strong>Pegged Token Bridge</strong> is a contract deployed on the pegged chain minting and burning pegged token for users.</li>
</ul>
<h2 id="flow-phrases-1"><a class="header" href="#flow-phrases-1">Flow Phrases </a></h2>
<h4 id="mintdeposit"><a class="header" href="#mintdeposit">Mint(Deposit)</a></h4>
<blockquote>
<p>A user submit on-chain deposit/mint request to the OriginalTokenVault contract on source chain. Then user‚Äôs original tokens will be moved and locked in the OriginalTokenVault contract. Celer SGN will coordinate pegged token mint in PeggedTokenBridge contract and move generated tokens into user‚Äôs wallet address</p>
</blockquote>
<h4 id="burnwithdraw"><a class="header" href="#burnwithdraw">Burn(Withdraw)</a></h4>
<blockquote>
<p>A user submit on-chain burn/withdraw request to the PeggedTokenBridge contract on pegged chain. Then user‚Äôs pegged tokens will be moved and burnt in the PeggedTokenBridge contract. Celer SGN will coordinate original tokens unlock and send back to user‚Äôs wallet address in OriginalTokenVault bridge on source chain.</p>
</blockquote>
<blockquote>
<p><strong>Note:</strong>
During the communication between you and cBridge gateway, you need to indicate it is a mint&amp;burn transfer flow. Otherwise, cBridge gateway will treat it as a general pool-based transfer and may lead to unexpected error</p>
</blockquote>
<pre><code class="language-javascript">// By refering pegged_pair_configs, we can determine whether 
// it is a pegged transfer. 
Scenario A:
   5 &lt;---&gt; 69 Domi ====&gt; Pool-Based Transfer
Scenario B:
   5 &lt;---&gt; 97 Domi ====&gt; Mint&amp;Burn Transfer

"chains": [
    {
      "id": 5,
      "name": "Goerli",
      "icon": "https://get.celer.app/cbridge-icons/ETH.png",
      "block_delay": 5,
      "gas_token_symbol": "ETH",
      "explore_url": "https://goerli.etherscan.io/",
      //cbridge contract
      "contract_addr": "0x358234B325EF9eA8115291A8b81b7d33A2Fa762D",
      "drop_gas_amt": "0",
      "suggested_gas_cost": "0",
      "drop_gas_cost_amt": "0"
    },
    {
      "id": 69,
      "name": "Optimistic Kovan",
      "icon": "https://get.celer.app/cbridge-icons/chain-icon/OP.jpg",
      "block_delay": 8,
      "gas_token_symbol": "ETH",
      "explore_url": "https://kovan-optimistic.etherscan.io/",
      //cbridge contract
      "contract_addr": "0x265B25e22bcd7f10a5bD6E6410F10537Cc7567e8",
      "drop_gas_amt": "0",
      "suggested_gas_cost": "0",
      "drop_gas_cost_amt": "0"
    },
    {
      "id": 97,
      "name": "BSC Testnet",
      "icon": "https://get.celer.app/cbridge-icons/chain-icon/BSC.png",
      "block_delay": 8,
      "gas_token_symbol": "BNB",
      "explore_url": "https://testnet.bscscan.com/",
      "contract_addr": "0xf89354F314faF344Abd754924438bA798E306DF2",
      "drop_gas_amt": "2000000000000000",
      "suggested_gas_cost": "125624",
      "drop_gas_cost_amt": "100000000000000"
    },
  ]
{
  "token": {
      "symbol": "CELR",
      "address": "0x5D3c0F4cA5EE99f8E8F59Ff9A5fAb04F6a7e007f",
      "decimal": 18,
      "xfer_disabled": false
    },
    "name": "Celer Network",
    "icon": "https://get.celer.app/cbridge-icons/celr.png"
  },
  {
    "token": {
      "symbol": "DOMI",
      "address": "0x646Ff87BE4F232C555c264465007f3AAE7a5626e",
      "decimal": 18,
      "xfer_disabled": false
    },
    "name": "Domi",
    "icon": "https://get.celer.app/cbridge-icons/Domi.png"
  },
}

"pegged_pair_configs": [
    {
      "org_chain_id": 5,
      "org_token": {
        "token": {
          "symbol": "DOMI",
          "address": "0x646Ff87BE4F232C555c264465007f3AAE7a5626e",
          "decimal": 18,
          "xfer_disabled": false
        },
        "name": "Domi",
        "icon": "https://get.celer.app/cbridge-icons/Domi.png"
      },
      "pegged_chain_id": 97,
      "pegged_token": {
        "token": {
          "symbol": "DOMI",
          "address": "0x472c1c7147F335C97066eA59fa548aCeAc1F5b58",
          "decimal": 18,
          "xfer_disabled": false
        },
        "name": "Domi",
        "icon": "https://get.celer.app/cbridge-icons/Domi.png"
      },
      "pegged_deposit_contract_addr": "0x12E25Cd0787Bab0cC84C800a301615883Ef0C384",
      "pegged_burn_contract_addr": "0xcb1dB69399755Cf8A9EbE8A3033f3082793b67eB"
    },
  ]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="mint"><a class="header" href="#mint">Mint</a></h1>
<p>To mint pegged token for user on pegged chain,  FE(front-end) needs to do the following things:</p>
<ol>
<li>Get basic pegged configs through cBridge gateway. The same <a href="#gateway-gettransferconfigsforall">api</a> as general token transfer</li>
<li>After collecting all needed information, always get updated estimation for the mint. The same <a href="#gateway-estimateamt">estimation api</a> as general token transfer</li>
<li>Check user‚Äôs on-chain token allowance for cBridge contract. If the allowance is not enough for mint, trigger the corresponding on-chain approve flow</li>
<li>Submit on-chain deposit/mint request to cBridge OriginalTokenVault contract on source chain</li>
<li>Get transfer status repeatedly to check whether the mint is complete.</li>
</ol>
<blockquote>
<p><strong>Note:</strong>
Mint/Burn flow are quite similar to pool-based token transfer flow. However, it is simpler because there is no slippage-related transfer failure scenario. If user‚Äôs original token could be moved into OriginalTokenVault, peggedTokenBridge will mint and send corresponding pegged tokens to user‚Äôs wallet address on pegged chain.</p>
</blockquote>
<blockquote>
<p><strong>Note:</strong>
If vault_version given by pegged_pair_config is 2, please use <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/contracts/pegged-bridge/OriginalTokenVaultV2.sol">OriginalTokenVaultV2</a>. Otherwise, use <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/contracts/pegged-bridge/OriginalTokenVault.sol">OriginalTokenVault</a>  </p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="mint-refund"><a class="header" href="#mint-refund">Mint Refund</a></h1>
<p>Once the user‚Äôs previous transfer status is <mark style="color:red;">TRANSFER_TO_BE_REFUNDED</mark>, FE(front-end) needs to handle as follows to bring back user‚Äôs assets to his/her wallet:</p>
<ol>
<li>Polling <a href="#gateway-gettransferstatus">GetTransferStatus</a> until transfer status is <a href="#xferstatus-enum"><mark style="color:yellow;">TRANSFER_TO_BE_CONFIRMED</mark></a></li>
<li>Submit on-chain withdraw request to cBridge <strong>OriginalTokenVault</strong> contract with information provided by cBridge gateway in <a href="#gateway-gettransferstatus">getTransferStatus</a> response</li>
<li>Once the refund transaction succeeds, the refund flow is complete.</li>
</ol>
<blockquote>
<p><strong>Note:</strong>
 Because of no slippage constraints, the possibility of deposit/mint flow failure is pretty low. Once mint flow failed with source chain deposit transaction, you will need to withdraw user‚Äôs assets.  The whole refund flow is the same as <a href="developer/cbridge-pool-based-transfer-xliquidity#transfer-refund">pool-based transfer flow</a>. However, you should communicate with <strong>OriginalTokenVault</strong> contract for this refund</p>
</blockquote>
<blockquote>
<p><strong>Note:</strong>
You should submit transaction to <strong>OriginalTokenVaultV2</strong> if you interact with <strong>OriginalTokenVaultV2</strong> for the previous transfer</p>
</blockquote>
<blockquote>
<p><strong>Note:</strong>
Basically, it may take some time for gateway to prepare withdraw information. If the transfer status is stuck as <mark style="color:red;">TRANSFER_TO_BE_REFUNDED</mark> more than 30 minutes, you may contact our custom support</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="burn"><a class="header" href="#burn">Burn</a></h1>
<p>To withdraw user‚Äôs original token on original chain,  FE(front-end) needs to do the following things:</p>
<ol>
<li>Get basic pegged configs through cBridge gateway. The same <a href="#gateway-gettransferconfigsforall">api</a> as general token transfer</li>
<li>Check user‚Äôs on-chain token allowance for cBridge PeggedTokenBridge contract. If the allowance is not enough for burn, trigger the corresponding on-chain approve flow</li>
<li>Submit on-chain burn request to cBridge PeggedTokenBridge contract on pegged chain</li>
<li>Get transfer status repeatedly to check whether the burn/withdraw is complete.</li>
</ol>
<blockquote>
<p><strong>Note:</strong>
If bridge_version given by pegged_pair_config is 2, you should submit transaction using <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/contracts/pegged-bridge/PeggedTokenBridgeV2.sol">PeggedTokenBridgeV2</a> abi. Otherwise, use <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/contracts/pegged-bridge/PeggedTokenBridge.sol">PeggedTokenBridge</a>. The parameters of burn function are different since PeggedTokenBridgeV2 supports <a href="#undefined">Burn-Mint mode</a>.</p>
</blockquote>
<h3 id="burn-mint-peggedtokenbridgev2-only"><a class="header" href="#burn-mint-peggedtokenbridgev2-only">Burn-Mint (PeggedTokenBridgeV2 only)</a></h3>
<p>Unlike PeggedTokenBridge, you can burn canonical token on pegged chain where PeggedTokenBridgeV2 is deployed and Celer SGN will mint corresponding tokens on another pegged chain if both pegged chains share the same <a href="#peggedpairconfig">original chain id</a> and the same <a href="#peggedpairconfig">original token</a>. In this scenario, the user can skip interaction with OriginalTokenVault and have a better experience for his assets transfer. </p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="burn-refund"><a class="header" href="#burn-refund">Burn Refund</a></h1>
<p>Once the user‚Äôs previous transfer status is <mark style="color:red;">TRANSFER_TO_BE_REFUNDED</mark>, FE(front-end) needs to handle as follows to bring back user‚Äôs assets to his/her wallet:</p>
<ol>
<li>Polling <a href="#gateway-gettransferstatus">GetTransferStatus</a> until transfer status is <a href="#xferstatus-enum"><mark style="color:yellow;">TRANSFER_TO_BE_CONFIRMED</mark></a></li>
<li>Submit on-chain mint request to cBridge <strong>PeggedTokenBridge</strong> contract with information provided by cBridge gateway in <a href="#gateway-gettransferstatus">getTransferStatus</a> response</li>
<li>Once the refund transaction succeeds, the refund flow is complete.</li>
</ol>
<blockquote>
<p><strong>Note:</strong>
 If burn flow failed, it means the canonical tokens have been burnt. To bring them back, you should tell cBridge <strong>PeggedTokenBridge</strong> contract to <strong>mint</strong> corresponding tokens. </p>
</blockquote>
<blockquote>
<p><strong>Note:</strong>
You should submit transaction to <strong>PeggedTokenBridgeV2</strong> if you interact with <strong>PeggedTokenBridgeV2</strong> for the previous transfer</p>
</blockquote>
<blockquote>
<p><strong>Note:</strong>
Basically, it may take some time for gateway to prepare withdraw information. If the transfer status is stuck as <mark style="color:red;">TRANSFER_TO_BE_REFUNDED</mark> more than 30 minutes, you may contact our custom support</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="cbridge-transfer-web-widget"><a class="header" href="#cbridge-transfer-web-widget">cBridge Transfer Web Widget</a></h1>
<p>To make widget integration simple, we provide complete source files which support cBridge transfer.</p>
<ol>
<li>Download source files from <a href="https://github.com/celer-network/cBridge-transfer-widget">cBridgeTransferWidgetRepo</a></li>
<li>Compare package.json with your own package.json and inject all needed dependencies</li>
<li>Put files from <mark style="color:blue;">public, scripts</mark> and <mark style="color:blue;">src</mark> folder inside your project where is easy to manage.</li>
<li>Inside the src folder, there is a cBridgeTransferWidget.tsx file. You may import it wherever you want to put and use CBridgeTransferWidget as an element inside your web project.</li>
<li>Copy .env.test to .env. cBridge transfer widget uses values inside .env. If .env is missing or mis-configured, interface error alert will appear.</li>
</ol>
<h3 id="run-sample"><a class="header" href="#run-sample">Run Sample</a></h3>
<p>To give a quick experience about cBridge transfer widget, we create a sample index.js and App.js inside the src file folder. </p>
<ol>
<li>run  <code>npm install</code> or <code>yarn install</code> inside cBridget transfer widget root folder on console</li>
<li>run <code>cp .env.test .env</code> on console (Don‚Äôt skip, otherwise you will see interface error)</li>
<li>run <code>npm start</code> or <code>yarn start</code> </li>
</ol>
<h3 id="import-cbridgetransferwidget"><a class="header" href="#import-cbridgetransferwidget">Import cBridgeTransferWidget</a></h3>
<pre><code class="language-javascript">/// Adjust import path according to your project
import { Provider } from "react-redux";
import store from "./redux/store";
import CBridgeTransferWidget from './cBridgeTransferWidget';

/// Put following code where you need
&lt;div&gt;
   &lt;Provider store={store}&gt;
      &lt;CBridgeTransferWidget /&gt;
   &lt;/Provider&gt; 
&lt;/div&gt;
</code></pre>
<h3 id="launch-production-environment"><a class="header" href="#launch-production-environment">Launch Production Environment</a></h3>
<p>Once your project with transfer widget is ready for production launch, you need to contact us for production chain and token white list which is pre-defined <a href="https://github.com/celer-network/cBridge-transfer-widget/blob/main/src/constants/chains_mainnet.ts">here</a>. According to your project requirement, you will have a specific white list. Once you replace existing  chains_mainnet.ts with this special white list and copy .env.mainnet to .env, you can do some test on production environment and prepare for production launch.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="cbridge-aptos-transfer-xasset-only"><a class="header" href="#cbridge-aptos-transfer-xasset-only">cBridge Aptos Transfer (xAsset Only)</a></h1>
<h2 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h2>
<p>Before implementing transfer functionality between EVM chains and Non-EVM chains, you should know how to <a href="developer/cbridge-canonical-mapping-transfer-xasset#flow-phrases">transfer between EVM chains</a></p>
<h2 id="implementation"><a class="header" href="#implementation">Implementation</a></h2>
<p>The principle and methodology of transfer between EVM chains and Non-EVM chains are the same as transfer between EVM chains and EVM chains. To support Aptos transfer, there are several things to do.</p>
<ul>
<li>Submit transfer transaction through <strong>TransferAgent</strong> contract on EVM chains</li>
<li>Submit transfer transaction to Aptos Modules(Vault for deposit, PegBridge for burn) deployed by cBridge.</li>
</ul>
<blockquote>
<p><strong>Note:</strong>
To avoid chain id conflict, Celer SGN reserves <mark style="color:red;"><strong>12360001</strong></mark> as <mark style="color:red;"><strong>Aptos Mainnet</strong></mark> Chain Id, <mark style="color:orange;"><strong>12360002</strong></mark> as <mark style="color:orange;"><strong>Aptos Testnet</strong></mark> Chain Id and <mark style="color:blue;"><strong>12360003</strong></mark> as <mark style="color:blue;"><strong>Aptos Devnet</strong></mark> Chain Id.</p>
</blockquote>
<h2 id="submit-transfer-through-transferagent-contract-on-evm"><a class="header" href="#submit-transfer-through-transferagent-contract-on-evm">Submit transfer through <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/contracts/proxy/TransferAgent.sol">TransferAgent</a> contract on EVM </a></h2>
<p>Unlike EVM wallet address, Aptos wallet uses <mark style="color:blue;"><strong>32</strong></mark> bytes hex string as address. Then you <mark style="color:red;"><strong>cannot</strong></mark> submit transfer transaction <strong>using Aptos wallet address as destination receiver</strong> through cBridge <strong>OriginalTokenVault</strong> / <strong>PeggedBridge</strong> contract. Hence, cBridge deploys a TransferAgent contract which can use any length string as destination receiver.</p>
<p><a href="#contract-transferagent-mint-token-submission">Link</a>
<a href="#contract-transferagent-mint-token-submission">contract-transferagent-mint-token-submission.md</a></p>
<p><a href="#contract-transferagent-burn-token-submission">Link</a>
<a href="#contract-transferagent-burn-token-submission">contract-transferagent-burn-token-submission.md</a></p>
<h2 id="submit-transfer-on-aptos-chain"><a class="header" href="#submit-transfer-on-aptos-chain">Submit transfer on Aptos Chain</a></h2>
<p>You can refer <a href="https://aptos.dev/guides/aptos-guides">this</a> to submit transaction on Aptos</p>
<p><a href="#contract-aptos-vault-mint-token-submission">Link</a>
<a href="#contract-aptos-vault-mint-token-submission">contract-aptos-vault-mint-token-submission.md</a></p>
<p><a href="#contract-aptos-pegbridge-burn-token-submission">Link</a>
<a href="#contract-aptos-pegbridge-burn-token-submission">contract-aptos-pegbridge-burn-token-submission.md</a></p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="custom-transfer-url-schemes"><a class="header" href="#custom-transfer-url-schemes">Custom Transfer URL Schemes</a></h1>
<h2 id="scheme-example"><a class="header" href="#scheme-example">Scheme example</a></h2>
<p>To build a custom transfer url scheme, you only need to provide 3 values: <mark style="color:purple;">sourceChainId</mark>, <mark style="color:purple;">destinationChainId</mark> and <mark style="color:purple;">tokenSymbol</mark>. The format of the url is <mark style="color:red;"><strong>https://cbridge.celer.network/sourceChainId/destinationChainId/tokenSymbol</strong></mark>. For example, if you want users to transfer xToken from Ethereum Mainnet to Arbitrum, you can use this link:<a href="https://cbridge.celer.network/1/42161/XTK"> </a><a href="https://cbridge.celer.network/1/42161/XTK">https://cbridge.celer.network/1/42161/XTK</a>. After user clicks the link, cBridge website will provide a well-defined UI for the user.</p>
<table>
<thead>
<tr><th>Parameter</th><th>Value</th><th data-hidden=""></th></tr>
</thead>
<tbody>
<tr><td>sourceChainId</td><td>e.g 1 as Ethereum Mainnet</td><td></td></tr>
<tr><td>destinationChainId</td><td>e.g 42161 as Arbitrum</td><td></td></tr>
<tr><td>tokenSymbol</td><td>e.g XTK as xToken</td><td></td></tr>
</tbody>
</table>

<h2 id="find-correct-chain-id-and-token-symbol"><a class="header" href="#find-correct-chain-id-and-token-symbol">Find Correct Chain Id and Token Symbol</a></h2>
<p>You can use <a href="https://chainlist.org/">chainlist</a> to find correct chain id and use cBridge website to find correct token symbol. We are eager to help if you find any difficulty creating custom url</p>
<p><img src=".gitbook/assets/image (54).png" alt=""><img src=".gitbook/assets/image (78).png" alt=""></p>
<h2 id="non-evm-chain-case"><a class="header" href="#non-evm-chain-case">Non-EVM chain case</a></h2>
<p>Since cBridge supports bridge between EVM chain and Non-EVM chain, such as Ethereum Mainnet and Flow Mainnet, our SGN reserves numbers for Non-EVM chains. Here is a sample link for Ethereum and Flow, <a href="https://cbridge.celer.network/1/12340001/USDT">https://cbridge.celer.network/1/12340001/USDT</a></p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="cbridge-apis-for-sui"><a class="header" href="#cbridge-apis-for-sui">cBridge APIs for Sui</a></h1>
<p>The Sui platform seeks to provide a flexible network that you can leverage to shape the web3 landscape, which is derived from the core <a href="https://github.com/MystenLabs/awesome-move">Move</a> programming language. If you want to learn more about Sui, please refer to the official document here <a href="https://docs.sui.io/learn">https://docs.sui.io/learn</a>. Here is the guideline on how to integrate the Sui chain and support the Sui asserts bridge via cBridge from the front-end perspective.</p>
<h2 id="environments"><a class="header" href="#environments">Environments</a></h2>
<p>TypeScript SDKÔºö <a href="https://github.com/MystenLabs/sui/tree/main/sdk/typescript">https://github.com/MystenLabs/sui/tree/main/sdk/typescript</a></p>
<p><strong>Mainnet</strong></p>
<p>Explorer: <a href="https://explorer.sui.io/">https://explorer.sui.io/</a></p>
<p>Public RPC: <a href="https://fullnode.mainnet.sui.io">https://fullnode.mainnet.sui.io:443</a></p>
<p>State:</p>
<table>
<thead>
<tr><th width="233">State</th><th>ID</th></tr>
</thead>
<tbody>
<tr><td>bridge_state</td><td>
<p>0x638553f133a7f8ea32144b7c540bb911ec9d8839977334ad805a3b229fb01e24</p>
<p><br></p>
</td></tr>
<tr><td>peg_bridge_state</td><td>0x835006a934bb8ce4b21fb4ce641d5a933677024bc1b88219023dabcbbc8f55b9</td></tr>
<tr><td>vault_state</td><td>0x9bb92383797509d1e6d22b9de1437080d38ae5b3b8562bf4234175ae56e30a6a</td></tr>
<tr><td>delayed_transfer_state</td><td>0x4ba21830c4f493c73d6560aa17484568e7341dbcd8836ee39822a09894531aa6</td></tr>
<tr><td>volume_control_state</td><td>0x668fc25c9e15e3c1d7d40bed2027103f56c62d983ee870469ad9aa8ad83420e2</td></tr>
</tbody>
</table>

<p><strong>Testnet</strong></p>
<p>Explorer: <a href="https://explorer.sui.io/">https://explorer.sui.io/</a></p>
<p>Public RPC: <a href="https://fullnode.testnet.sui.io">https://fullnode.testnet.sui.io:443</a></p>
<table>
<thead>
<tr><th width="223">State</th><th>ID</th></tr>
</thead>
<tbody>
<tr><td>bridge_state</td><td>0x20f19ee09c0eccd68c7a01c9c1066cdd79ad24710ba8fab5c71d03cd3990d145</td></tr>
<tr><td>peg_bridge_state</td><td>0x0353fc2b9be71f0ce7749905297e7dc4945dbd36a2f8d17f329fd238ab841305</td></tr>
<tr><td>vault_state</td><td>0xeef5a6527c48a94d6e0e9ad46202ca2ddfafec01957218f209dc3d711efecdee</td></tr>
<tr><td>delayed_transfer_state</td><td>0x34e4218169de9993c6c24b9be18436197ec61db81709bdb156aa3c6e309fab8d</td></tr>
<tr><td>volume_control_state</td><td>0x1b1578ae3134dd6d527c24dcebae5fe97f6b1b00ec7d95f5a9900f808881fe60</td></tr>
</tbody>
</table>

<h2 id="bridges"><a class="header" href="#bridges">Bridges</a></h2>
<p>In most scenarios Sui is the pegged chain, the token is bridged from the other chains like Ethereum. All support tokens you can get from the JSON path ‚Äúpegged_pair_configs‚Äù at this link:<a href="https://cbridge-prod2.celer.app/v1/getTransferConfigsForAll">https://cbridge-prod2.celer.app/v1/getTransferConfigsForAll</a>(testnet: <a href="https://cbridge-v2-test.celer.network/v1/getTransferConfigsForAll">https://cbridge-v2-test.celer.network/v1/getTransferConfigsForAll</a>)</p>
<p>For example, consider a bridge pair <code>{fromChain: Ethereum Mainnet, toChain: Sui Mainnet, Token: USDC}</code>. Ethereum Mainnet serves as the original chain, while Sui Mainnet acts as the pegged chain. To bridge USDC from Ethereum Mainnet to Sui, you need to interact with the Ethereum Mainnet Vault contract to deposit the USDC. Once the deposit on the source chain is received and verified by the <a href="https://cbridge-docs.celer.network/introduction/sgn-and-cbridge">SGN (State Guardian Network)</a>, the USDC will be minted on the destination chain shortly after. If you wish to bridge the USDC back to Ethereum from Sui, you can call the burn method on Sui to burn the USDC tokens on-chain. This process ensures a similar level of safety when withdrawing the tokens back to Ethereum.</p>
<h3 id="get-tokens-balance"><a class="header" href="#get-tokens-balance">Get tokens balance</a></h3>
<p>Get SUI (gas token) balance</p>
<pre><code class="language-typescript">const provider = new JsonRpcProvider(connection);
const result = await provider.getBalance({
    owner: suiAddress,
    coinType: tokenAddrWith0xPrefix,
});
</code></pre>
<p><br>For other tokens</p>
<pre><code class="language-typescript">const tx = new TransactionBlock();
const provider = new JsonRpcProvider(connection);
const coins = await provider.getCoins({
    owner: address, // wallet address
    coinType: // token address with "0x"
});

</code></pre>
<p>Note that Sui stores the token information in split objects. Therefore, it is necessary to merge all the split objects into a single base object to ensure a sufficient balance for later bridging.</p>
<pre><code class="language-typescript">// merge coins
const baseCoin = tx.object(coins[0].coinObjectId);
tx.mergeCoins(
    baseCoin,
    coins.slice(1).map(coin =&gt; tx.object(coin.coinObjectId)),
);
</code></pre>
<h3 id="quote-the-bridging-fees"><a class="header" href="#quote-the-bridging-fees">Quote the bridging fees</a></h3>
<p>Use the cBridge quote API to get the estimated received amount and fees, </p>
<p>Refer to this doc:</p>
<p><a href="https://cbridge-docs.celer.network/developer/api-reference/gateway-estimateamt">https://cbridge-docs.celer.network/developer/api-reference/gateway-estimateamt</a></p>
<h3 id="sui-token-burn"><a class="header" href="#sui-token-burn">Sui Token burn</a></h3>
<p>Used for burning a token on Sui when Sui is a pegged chain.</p>
<p>Example code:</p>
<pre><code class="language-typescript">const coins = tx.splitCoins(baseCoin, [tx.pure(amount.toString())]);
tx.moveCall({
  target: `0x${peggedBridgeContractAddress}::peg_bridge::burn`,
  arguments: [
    coins[0],
    tx.pure(destinationChainId),
    tx.pure(Array.from(ethers.utils.arrayify(receiverAddress)), "vector&lt;u8&gt;"),
    tx.pure(nonce),
    tx.object(suiConfig.peg_bridge_state),
    tx.object(mintTcId),
    ],
  typeArguments: [tokenAddressWith0x], // ["0x2::sui::SUI"],
});
provider?.signAndExecuteTransactionBlock({
  transactionBlock: tx,
  options: {
    showContent: true,
  },
});
</code></pre>
<blockquote>
<p>Note that as opposed to the <code>mergeCoin</code> method, before the transaction happened, you must split the coin into different objects first.</p>
</blockquote>
<p><code>Nonce</code>: uniq for the transaction, you can also use the timestamp as the nonce.</p>
<p><code>mintTcId</code>: get the mintTcId from this code</p>
<pre><code class="language-typescript">export const getMintTcId = async (tokenAddress: string) =&gt; {
  const provider = new JsonRpcProvider(connection);
  const result2 = await provider.getObject({
    id: peg_bridge_state,
    options: {
      showContent: true,
    },
  });
  const parentId = (result2 as any)?.data?.content?.fields?.coin_map?.fields?.id?.id;
  const configResult = await provider.getDynamicFieldObject({
    parentId,
    name: {
      type: "0x1::string::String",
      value: tokenAddress,
    },
  });
  return (configResult as any)?.data?.content?.fields?.value?.fields.mint_tc_id || "";
};
</code></pre>
<h3 id="query-bridge-status-from-sgn"><a class="header" href="#query-bridge-status-from-sgn">Query bridge status from SGN</a></h3>
<p>cBridge allows tracking the status of the bridge at each stage. You can retrieve this information using the getTransferStatus API. For more details, please refer to the documentation at: <a href="https://cbridge-docs.celer.network/developer/api-reference/gateway-gettransferstatus">https://cbridge-docs.celer.network/developer/api-reference/gateway-gettransferstatus</a>. </p>
<p>The <code>transferId</code> is designed to generate a unique identifier for tracking the states. However, it‚Äôs important to note that the rules for Sui differ from those of other chains.</p>
<pre><code class="language-typescript">const receiverAddressWithout0x = this.transferData.toAccount.replace("0x", "");

const transferId = ethers.utils.solidityKeccak256(
    [
      "bytes32",
      "string",
      "uint64",
      "uint64",
      `bytes${Math.floor(receiverAddressWithout0x.length / 2)}`,
      "uint64",
      "uint64",
      "bytes32",
      "string",
    ],
    [
      suiWalletAddress, /// Sui wallet address, 32-byte hexString
      sourceTokenAddress, /// the token address on the source chain
      amount, /// Transfer amount
      DestinationChainId, /// Destination chain id
      `0x${receiverAddressWithout0x}`, /// Receiver address which length may vary based on different chains
      this.nonce.toString(), /// Nonce
      fromChainId, /// Source chain id
      `0x${peggedBurnContractAddress}`, /// get from pegged_burn_contract_addr field(getTransferConfigsForAll API), 32-byte hexString
      "peg_bridge", /// hardcoded message
    ],
);
</code></pre>
<p>You can get the <code>sourceTokenAddress,peggedBurnContractAddress</code>from the <a href="https://cbridge-prod2.celer.app/v1/getTransferConfigsForAll">getTransferConfigsForAll</a></p>
<h3 id="bridging-limits"><a class="header" href="#bridging-limits">Bridging Limits</a></h3>
<p>Get token burn minimum/maximum amount.</p>
<pre><code class="language-typescript"> const provider = new JsonRpcProvider(connection);
 const result = await provider.getObject({
      id: suiConfig.peg_bridge_state,
      options: {
        showContent: true,
      },
  });
 const parentId = (result as any)?.data?.content?.fields?.coin_map?.fields?.id?.id;
 const configResult = await provider.getDynamicFieldObject({
      parentId,
      name: {
        type: "0x1::string::String",
        value: token?.address,
      },
 });

 const resultJson = (configResult as any)?.data?.content?.fields?.value?.fields;
 //  min_burn: resultJson?.min_burn
 // max_burn: resultJson?.max_burn
</code></pre>
<p><br>The token the user burn shouldn‚Äôt exceed the total supply, the method of getting the total supply.</p>
<pre class="language-typescript"><code class="lang-typescript">const provider = new JsonRpcProvider(connection);
const mintTcId = await getMintTcId(suiConfig.peg_bridge_state, tokenAddress);
const result = await provider.getObject({
  id: mintTcId,
<strong>  options: {
</strong>    showContent: true,
  },
});
const resultJson = (result as any)?.data?.content?.fields?.cap?.fields?.total_supply?.fields?.value;
</code></pre>

<p>\</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="referral-specific-transfer"><a class="header" href="#referral-specific-transfer">Referral Specific Transfer</a></h1>
<h2 id="referral-code-inside-cbridge-website"><a class="header" href="#referral-code-inside-cbridge-website">Referral code inside cBridge website</a></h2>
<p>You can attach your referral code to cBridge website. When user uses the URL with referral code, cBridge website will help build relationship between your referral code and user‚Äôs on-chain transaction. Here is the sample link for the referral code </p>
<pre><code>https://cbridge.celer.network/#/transfer?ref={your_provider_name}
</code></pre>
<blockquote>
<p><strong>Note:</strong>
Please use the correct parameter key for referral code, which is <mark style="color:red;">ref</mark>. Otherwise, cBridge website will not recognize your referral code</p>
</blockquote>
<h2 id="referral-code-through-cbridge-sdk"><a class="header" href="#referral-code-through-cbridge-sdk">Referral code through cBridge SDK</a></h2>
<p>When integrating with cBridge SDK, you can establish relation between your ref code and user‚Äôs on-chain transaction by posting <a href="#gateway-markrefrelation">markRefRelation</a> request to cBridge gateway. You may refer <a href="#gateway-markrefrelation">this</a> for more details.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="cbridge-limit-parameters"><a class="header" href="#cbridge-limit-parameters">cBridge Limit Parameters</a></h1>
<p>There are certain rules limiting on source and destination chains for security purposes. When transferring assets through cBridge, it‚Äôs essential to check these limit parameters beforehand.</p>
<h3 id="source-chain"><a class="header" href="#source-chain">Source Chain</a></h3>
<h4 id="1--minsendmaxsend"><a class="header" href="#1--minsendmaxsend">1.  minSend/maxSend</a></h4>
<p>The sending amount range is <mark style="color:red;">(minSend, maxSend]</mark>, for Pool-based transfer, you can get the <a href="https://github.com/celer-network/sgn-v2-contracts/blob/4d742f6c337f06777947a73accd9f78239de92ee/contracts/liquidity-bridge/Bridge.sol#L41">minSend</a>/<a href="https://github.com/celer-network/sgn-v2-contracts/blob/4d742f6c337f06777947a73accd9f78239de92ee/contracts/liquidity-bridge/Bridge.sol#L42">minMax</a> on source chain <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/contracts/liquidity-bridge/Bridge.sol">Bridge contract</a>, the address is the token address on source chain. </p>
<p>The screenshot is an example to get the USDC minSend Value on Ethereum.</p>
<div align="center" data-full-width="true"><img src=".gitbook/assets/image (35).png" alt=""><figcaption>
<p>Example of getting the USDC minSend Value on Ethereum</p>
</figcaption></div>

<p>Note if the transfer token is ETH, use the WETH token address as the query key.</p>
<h4 id="2-pool-cap"><a class="header" href="#2-pool-cap">2. pool cap</a></h4>
<p>The pool cap signifies the maximum volume allowed in this pool. Once the pool cap of the source chain is reached, transfers of the token from this chain are temporarily suspended until the volume decreases below the cap.</p>
<p>The sending amount should be matched the rule of <mark style="color:red;">sending amount + current volume &lt;= pool cap</mark></p>
<p>To check pool cap by handling the error in <a href="#gateway-estimateamt">estimateAmt</a> api when you quote the transfer.</p>
<p>The error code</p>
<pre><code class="language-typescript">ERROR_CODE_LIQ_OVER_CAP // 1017
</code></pre>
<p>Error Message:</p>
<p>You can transfer up to {<code>remainning_amount</code>} {<code>token_symbol</code>} at this moment. You may reduce your transfer amount. the <code>remainning_amount</code> = <code>pool</code> -  <code>current volume</code></p>
<blockquote>
<p><strong>Note:</strong>
(Aside) The pool cap limit value can be read from the <code>inbound_lmt</code> field in the <a href="https://cbridge-prod2.celer.app/v1/getTransferConfigsForAll">configuration</a> file.</p>
</blockquote>
<h3 id="destination-chain"><a class="header" href="#destination-chain">Destination Chain</a></h3>
<h4 id="1-big-amount-delay"><a class="header" href="#1-big-amount-delay">1. Big amount delay</a></h4>
<p>If the sending amount is greater than an on-chain threshold, the transaction might be delayed for a while due to security reasons. You can retrieve these parameters from the destination chain.</p>
<p>delayThresholds:  <a href="https://github.com/celer-network/sgn-v2-contracts/blob/4d742f6c337f06777947a73accd9f78239de92ee/contracts/safeguard/DelayedTransfer.sol#L15C40-L15C55">https://github.com/celer-network/sgn-v2-contracts/blob/4d742f6c337f06777947a73accd9f78239de92ee/contracts/safeguard/DelayedTransfer.sol#L15C40-L15C55</a></p>
<p>delayPeriod: <a href="https://github.com/celer-network/sgn-v2-contracts/blob/4d742f6c337f06777947a73accd9f78239de92ee/contracts/safeguard/DelayedTransfer.sol#L16C20-L16C31">https://github.com/celer-network/sgn-v2-contracts/blob/4d742f6c337f06777947a73accd9f78239de92ee/contracts/safeguard/DelayedTransfer.sol#L16C20-L16C31</a> indicates the transaction delay time in second.</p>
<h4 id="2-epoch-volume-cap"><a class="header" href="#2-epoch-volume-cap">2. Epoch volume cap</a></h4>
<p>The epoch volume cap restricts the amount of volume that can be transferred on the destination chain within a specific time frame. </p>
<p>Example code of calculating the accumulated volume</p>
<pre><code class="language-solidity">uint256 volume = epochVolumes[_token];
uint256 epochStartTime = (timestamp / epochLength) * epochLength;
if (lastOpTimestamps[_token] &lt; epochStartTime) {
   volume = _amount; // new epoch, the total amount is current sending amount
} else {
   volume += _amount; // last brdige is within the current time frame,last volume should be accumulated to total volume
}
require(volume &lt;= cap, "volume exceeds cap");
</code></pre>
<p>You can obtain the <code>epochVolumeCaps</code> , <code>lastOpTimestamps</code>, <code>epochLength</code> and corresponding token <code>epochVolumes</code> from the <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/contracts/safeguard/VolumeControl.sol">VolumeControl</a> Contract, which has been implemented by the Bridge Contract. The accumulated volume in this period must be lower than the value specified by the ‚Äú<code>epochVolumeCaps</code>‚Äù. </p>
<div align="center"><img src=".gitbook/assets/image (36).png" alt=""><figcaption>
<p>Example of getting epochVolumeCaps from Ethereum pool.</p>
</figcaption></div>

<div style="break-before: page; page-break-before: always;"></div>
<h1 id="api-reference-1"><a class="header" href="#api-reference-1">API Reference</a></h1>
<blockquote>
<p><strong>Note:</strong>
All APIs will have a prefix to indicate whether it is a cBridge gateway function or a cBridge contract on-chain function.</p>
</blockquote>
<h3 id="get-transfer-configs"><a class="header" href="#get-transfer-configs">Get Transfer Configs</a></h3>
<p>Get chains and tokens info supported by cBridge.</p>
<p><a href="#gateway-gettransferconfigsforall">Link</a>
<a href="#gateway-gettransferconfigsforall">gateway-gettransferconfigsforall.md</a></p>
<h3 id="transfer-flow"><a class="header" href="#transfer-flow">Transfer Flow</a></h3>
<p>When all needed information is ready, make an <em><mark style="color:purple;"><strong>estimation</strong></mark></em> for this transfer first. Then, submit an on-chain <em><mark style="color:blue;"><strong>send</strong></mark></em> transaction. Poll <em><mark style="color:red;"><strong>getTransferStatus</strong></mark></em> for this transaction until the transfer is complete or needs a refund.</p>
<p><a href="#gateway-estimateamt">Link</a>
<a href="#gateway-estimateamt">gateway-estimateamt.md</a></p>
<p><a href="#contract-pool-based-transfer">Link</a>
<a href="#contract-pool-based-transfer">contract-pool-based-transfer.md</a></p>
<p><a href="#gateway-gettransferstatus">Link</a>
<a href="#gateway-gettransferstatus">gateway-gettransferstatus.md</a></p>
<h3 id="transfer-refund-flow"><a class="header" href="#transfer-refund-flow">Transfer Refund Flow</a></h3>
<p>When the transfer status is <mark style="color:yellow;">TRANSFER_TO_BE_REFUNDED</mark>, cBridge gateway will prepare on-chain refund transaction info automatically within several minutes. Polling getTransferStatus and submit on-chain transaction based on failed transfer type. </p>
<p><a href="#gateway-gettransferstatus">Link</a>
<a href="#gateway-gettransferstatus">gateway-gettransferstatus.md</a></p>
<p><a href="#contract-pool-based-transfer-refund">Link</a>
<a href="#contract-pool-based-transfer-refund">contract-pool-based-transfer-refund.md</a></p>
<p><a href="#contract-mint-canonical-token-transfer-refund">Link</a>
<a href="#contract-mint-canonical-token-transfer-refund">contract-mint-canonical-token-transfer-refund.md</a></p>
<p><a href="#contract-burn-canonical-token-transfer-refund">Link</a>
<a href="#contract-burn-canonical-token-transfer-refund">contract-burn-canonical-token-transfer-refund.md</a></p>
<h3 id="transfer-history-query"><a class="header" href="#transfer-history-query">Transfer History Query</a></h3>
<p><a href="#gateway-transferhistory">Link</a>
<a href="#gateway-transferhistory">gateway-transferhistory.md</a></p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="gateway-gettransferconfigsforall"><a class="header" href="#gateway-gettransferconfigsforall">Gateway: GetTransferConfigsForAll</a></h1>
<h3 id="rest-api"><a class="header" href="#rest-api">REST API</a></h3>
<h2 id="get-chains-and-corresponding-tokens-supported-by-cbridge"><a class="header" href="#get-chains-and-corresponding-tokens-supported-by-cbridge">Get chains and corresponding tokens supported by cBridge</a></h2>
<p><mark style="color:blue;"><code>GET</code></mark> <code>https://cbridge-prod2.celer.app/v2/getTransferConfigsForAll</code></p>
<p>By using this method, you can find chains‚Äô and tokens‚Äô information for cBridge testnet transfer, you can use cBridge production endpoint for mainnet configs</p>
<pre><code class="language-javascript">{
    // Response
}
</code></pre>
<h2 id="request-parameters"><a class="header" href="#request-parameters">Request Parameters</a></h2>
<p>None</p>
<h2 id="response-parameters"><a class="header" href="#response-parameters">Response Parameters</a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>chains</td><td>Array&lt;<a href="#chain">Chain</a>&gt;</td><td>All supported chains‚Äô info</td></tr>
<tr><td>chain_token</td><td>Map&lt;Number, <a href="#chaintokeninfo">ChainTokenInfo</a>&gt;</td><td>Supported tokens info for each chain. Key is chain_id</td></tr>
<tr><td>farming_reward_contract_addr</td><td>String</td><td>cBridge farming reward contract address</td></tr>
<tr><td>pegged_pair_configs</td><td>Array&lt;PeggedPairConfig&gt;</td><td></td></tr>
</tbody>
</table>
</div>
<h3 id="chain"><a class="header" href="#chain">Chain</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>id</td><td>UInt32</td><td>chain id</td></tr>
<tr><td>name</td><td>String</td><td>chain name</td></tr>
<tr><td>icon         ‚Äã   ‚Äã</td><td>String</td><td>chain icon url</td></tr>
<tr><td>block_delay</td><td>UInt32</td><td>block delay for transaction confirmation</td></tr>
<tr><td>gas_token_symbol</td><td>String</td><td>gas token</td></tr>
<tr><td>explore_url</td><td>String</td><td>This chain‚Äôs browser‚Äôs url</td></tr>
<tr><td>contract_addr</td><td>String</td><td>cBridge contract address on  this chain</td></tr>
</tbody>
</table>
</div>
<h3 id="chaintokeninfo"><a class="header" href="#chaintokeninfo">ChainTokenInfo</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>token_list</td><td>Array&lt;TokenInfo&gt;</td><td>chain supported token list</td></tr>
</tbody>
</table>
</div>
<h3 id="tokeninfo"><a class="header" href="#tokeninfo">TokenInfo</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>token</td><td><a href="#token">Token</a></td><td>token detail</td></tr>
<tr><td>name</td><td>String</td><td>token name</td></tr>
<tr><td>icon</td><td>String</td><td>token icon url</td></tr>
<tr><td>transfer_disabled</td><td>Boolean</td><td>token transfer disabled</td></tr>
</tbody>
</table>
</div>
<h3 id="token"><a class="header" href="#token">Token</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>symbol        ‚Äã</td><td>String</td><td>token symbol</td></tr>
<tr><td>address</td><td>String</td><td>token address</td></tr>
<tr><td>decimal</td><td>Number</td><td>token decimal</td></tr>
<tr><td>xfer_disabled</td><td>Boolean</td><td>token transfer disabled</td></tr>
</tbody>
</table>
</div>
<blockquote>
<p><strong>Note:</strong>
If transfer_disabled or xfer_disabled is true, we cannot transfer the token on the corresponding chain</p>
</blockquote>
<h3 id="peggedpairconfig"><a class="header" href="#peggedpairconfig">PeggedPairConfig</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>org_chain_id</td><td>UInt32</td><td>source chain id</td></tr>
<tr><td>org_token</td><td><a href="#tokeninfo">TokenInfo</a></td><td>original token info</td></tr>
<tr><td>pegged_chain_id</td><td>UInt32</td><td>pegged chain id</td></tr>
<tr><td>pegged_token</td><td><a href="#tokeninfo">TokenInfo</a></td><td>corresponding pegged token on pegged chain</td></tr>
<tr><td>pegged_deposit_contract_addr</td><td>String</td><td>contract address on pagged chain for mint/deposit</td></tr>
<tr><td>pegged_burn_contract_addr</td><td>String</td><td>contract address on pagged chain for burn/withdraw</td></tr>
<tr><td>vault_version</td><td>Number</td><td>0 for <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/contracts/pegged-bridge/OriginalTokenVault.sol">OriginalTokenVault</a>, 2 for <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/contracts/pegged-bridge/OriginalTokenVaultV2.sol">OriginalTokenVaultV2</a></td></tr>
<tr><td>bridge_version</td><td>Number</td><td>0 for <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/contracts/pegged-bridge/PeggedTokenBridge.sol">PeggedTokenBridge</a>, 2 for <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/contracts/pegged-bridge/PeggedTokenBridgeV2.sol">PeggedTokenBridgeV2</a></td></tr>
</tbody>
</table>
</div>
<blockquote>
<p><strong>Note:</strong>
All data inside the configs should not be edited, otherwise it may lead to failure.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="gateway-estimateamt"><a class="header" href="#gateway-estimateamt">Gateway: EstimateAmt</a></h1>
<h3 id="rest-api-1"><a class="header" href="#rest-api-1">REST API</a></h3>
<h2 id="get-estimation-for-the-users-transfer-request"><a class="header" href="#get-estimation-for-the-users-transfer-request">Get estimation for the user‚Äôs transfer request</a></h2>
<p><mark style="color:blue;"><code>GET</code></mark> <code>https://cbridge-prod2.celer.app/v2/estimateAmt</code></p>
<p>Here is a sample request for estimateAmt:</p>
<p><a href="https://cbridge-prod2.celer.app/v2/estimateAmt?src_chain_id=1&amp;dst_chain_id=56&amp;token_symbol=USDT&amp;amt=1000000&amp;usr_addr=0xaa47c83316edc05cf9ff7136296b026c5de7eccd&amp;slippage_tolerance=3000">https://cbridge-prod2.celer.app/v2/estimateAmt?src_chain_id=1&amp;dst_chain_id=56&amp;token_symbol=USDT&amp;amt=1000000&amp;usr_addr=0xaa47c83316edc05cf9ff7136296b026c5de7eccd&amp;slippage_tolerance=3000</a></p>
<h4 id="path-parameters"><a class="header" href="#path-parameters">Path Parameters</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>src_chain_id<mark style="color:red;">*</mark></td><td>Number</td><td>source chain id, given by transfer configs</td></tr>
<tr><td>dst_chain_id<mark style="color:red;">*</mark></td><td>Number</td><td>destination chain Id,  given by transfer configs</td></tr>
<tr><td>token_symbol<mark style="color:red;">*</mark></td><td>String</td><td>symbol of token to be transfered, given by transfer configs</td></tr>
<tr><td>usr_addr</td><td>String</td><td>user‚Äôs wallet address</td></tr>
<tr><td>amt<mark style="color:red;">*</mark></td><td>String</td><td>Token amount to be transfered. It should contain token‚Äôs decimal. For example, if the user wants to transfer 1 tokenA and A‚Äôs decimal is 4, then amt should be 10000</td></tr>
<tr><td>slippage_tolerance<mark style="color:red;">*</mark></td><td>Number</td><td>value between 1 and 1M - 1, see details below</td></tr>
<tr><td>is_pegged</td><td>Bool</td><td>set true if transfer pegged token</td></tr>
</tbody>
</table>
</div>
<pre><code class="language-javascript">{
  "err": null,
  "eq_value_token_amt": "1000000999999999872",
  "bridge_rate": 1.000001,
  "perc_fee": "0",
  "base_fee": "605437528092011966",
  "slippage_tolerance": 3000,
  "max_slippage": 608436,
  "estimated_receive_amt": "394563471907987906",
  "drop_gas_amt": "0"
}
</code></pre>
<h3 id="grpc-web-api"><a class="header" href="#grpc-web-api">GRPC-Web API</a></h3>
<pre><code class="language-javascript">// import estimateAmt request message 
import { 
    EstimateAmtRequest, 
    EstimateAmtResponse 
} from "../ts-proto/sgn/gateway/v1/gateway_pb";

// import grpc-web WebClient
import { 
    WebClient 
} from "../ts-proto/sgn/gateway/v1/GatewayServiceClientPb";

const estimateRequest = new EstimateAmtRequest();
estimateRequest.setSrcChainId(1);
estimateRequest.setDstChainId(56);
estimateRequest.setTokenSymbol("USDT");
estimateRequest.setUsrAddr(0xaa47c83316edc05cf9ff7136296b026c5de7eccd);
estimateRequest.setSlippageTolerance(3000);
estimateRequest.setAmt("100000");

const client = new WebClient(`https://cbridge-prod2.celer.app`, null, null);
const res = await client.estimateAmt(estimateRequest, null);
</code></pre>
<h2 id="request-parameters-1"><a class="header" href="#request-parameters-2">Request Parameters <a href="#request-parameters-2" id="request-parameters-2"></a></a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>src_chain_id</td><td>Number</td><td>Source Chain Id, given by transfer configs</td></tr>
<tr><td>dst_chain_id</td><td>Number</td><td>Destination Chain Id,  given by transfer configs</td></tr>
<tr><td>token_symbol</td><td>String</td><td>Symbol of token to be transfered, given by transfer configs</td></tr>
<tr><td>usr_addr</td><td>String</td><td>User‚Äôs wallet address<em><mark style="color:red;"><strong>(Not required for multi-chain token transfer)</strong></mark></em></td></tr>
<tr><td>slippage_tolerance</td><td>Number</td><td>Slippage for onchain transaction(User‚Äôs input)</td></tr>
<tr><td>amt</td><td>String</td><td>Token amount to be transfered. Token‚Äôs decimal should be used here. For example, if the user wants to transfer 1 tokenA and A‚Äôs decimal is 4, then amt should be 10000</td></tr>
<tr><td>is_pegged</td><td></td><td>Used for pegged token transfer only</td></tr>
</tbody>
</table>
</div>
<blockquote>
<p><strong>Note:</strong>
Which value is suitable for <mark style="color:red;">slippage_tolerance</mark>?</p>
</blockquote>
<p>cBridge gateway uses <mark style="color:orange;">slippage_tolerance_rate</mark> to represent user‚Äôs slippage for on-chain transaction. The range of <mark style="color:orange;">slippage_tolerance_rate</mark> is from [0, 1)</p>
<p>The calculation formula between <mark style="color:red;">slippage_tolerance</mark> and slippage_tolerance_rate is</p>
<p><mark style="color:orange;">slippage_tolerance_rate</mark> = <mark style="color:red;">slippage_tolerance / 1M</mark></p>
<p>Hence, if the user sets slippage_tolerance with 0.05%, <mark style="color:red;">slippage_tolerance</mark> in the request will be 0.05% * 1M = 500</p>
<p>Moreover, if the user sets slippage_tolerance with 0.050123%, the calculation will lead to 0.050123% * 1M = 501.23. However, gateway will only accept <mark style="color:green;">integer</mark> as <mark style="color:red;">slippage_tolerance.</mark> The final value should be <mark style="color:red;">501</mark></p>
<blockquote>
<p><strong>Note:</strong>
You need to find out whether this transfer is used for pegged token according to <a href="#peggedpairconfig">PeggedPairConfigs</a>. Moreover, slippage will not be effective if is_pagged is true</p>
</blockquote>
<h2 id="response-parameters-1"><a class="header" href="#response-parameters-2">Response Parameters <a href="#response-parameters-2" id="response-parameters-2"></a></a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>
<p>eq_value_token_amt          <br></p>
</td><td>String</td><td>Token amount in destination chain</td></tr>
<tr><td>bridge_rate</td><td>Number</td><td><a href="#bridge-rate">Bridge rate</a> between source chain and destination chain</td></tr>
<tr><td>perc_fee</td><td>String</td><td><a href="#bridge-fee">Protocol fee</a></td></tr>
<tr><td>base_fee</td><td>String</td><td><a href="#bridge-fee">Base fee</a></td></tr>
<tr><td>slippage_tolerance</td><td>Number</td><td>The same number as slippage_tolerance in request</td></tr>
<tr><td>max_slippage</td><td>Number</td><td>slippage will be used to submit on-chain transaction, see below for calculation detail. <mark style="color:red;">used for xLiquidity transfer only</mark></td></tr>
<tr><td>estimated_receive_amt</td><td>String</td><td>receiving amount estimation on destination chain</td></tr>
</tbody>
</table>
</div>
<blockquote>
<p><strong>Note:</strong>
How to calculate max_slippage?</p>
</blockquote>
<p>There are several factors influencing the final value for max_slippage, all of them are inside the response. Since we cannot guarantee user receiving more tokens on destination chain, there is slippage adjustment in the end.</p>
<ol>
<li>estimate_dst_amt = user_transfer_amount_on_src_chain * bridge_rate</li>
<li>estimate_min_dst_amt = estimate_dst_amt * (1 - slippage_tolerance_rate) - base_fee - perc_fee</li>
<li>max_slippage_rate = 1 - estimate_min_dst_amt / user_transfer_amount_on_src_chain</li>
<li>max_slippage = max(max_slippage_rate * 1M, minimalMaxSlippage)</li>
</ol>
<blockquote>
<p><strong>Note:</strong>
Minimum receiving amount calculation</p>
</blockquote>
<p>amount = eq_value_token_amt  *  (1 - max_slippage/1M)</p>
<blockquote>
<p><strong>Note:</strong>
The on-chain send transaction failed <em><strong>mostly when slippage is too small to be processed by cBridge system.</strong></em> </p>
</blockquote>
<p>To avoid the potential on-chain failure and waste of gas, we recommend you compare max_slippage with minimalMaxSlippage on cBridge contract before sending on-chain  transaction. If max_slippage is less than minimalMaxSlippage, guide user increasing input value slippage_tolerance.</p>
<p>Moreover, since max_slippage, bridge_rate, perc_fee and base_fee may change when user interacting with your application, we should get the lastest estimation before final submit to avoid <a href="#contract-pool-based-transfer">on-chain send</a> failure.</p>
<blockquote>
<p><strong>Note:</strong>
The cross-chain transfer is accepted only. if src_chain_id is the same as dst_chain_id, it may lead to an error</p>
</blockquote>
<h2 id="error-handling"><a class="header" href="#error-handling">Error handling</a></h2>
<h3 id="error-code-description"><a class="header" href="#error-code-description">Error Code Description</a></h3>
<table>
<thead>
<tr><th width="334.3333333333333">Error Code</th><th width="138">Error Number</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>ERROR_CODE_UNDEFINED</td><td>0</td><td>Error code placeholder</td></tr>
<tr><td>ERROR_CODE_COMMON</td><td>500</td><td>Chain is disabled</td></tr>
<tr><td>ERROR_NO_TOKEN_ON_DST_CHAIN</td><td>1001</td><td>Token not supported on destination chain</td></tr>
<tr><td>ERROR_NO_TOKEN_ON_SRC_CHAIN</td><td>1002</td><td>Token not supported on source chain</td></tr>
<tr><td>ERROR_CODE_NO_ENOUGH_TOKEN_ON_DST_CHAIN</td><td>1004</td><td>Destination chain token is not enough for transfer</td></tr>
<tr><td>ERROR_CODE_INBOUND_LIQUIDITY_LIMIT</td><td>1005</td><td>Token pool epoch volume cap reached</td></tr>
<tr><td>ERROR_CODE_TRANSFER_DISABLED</td><td>1009</td><td>Token transfer between source chain and destination(both direction) is disabled</td></tr>
<tr><td>ERROR_CODE_BAD_LIQ_SLIPPAGE</td><td>1012</td><td>Bad slippage</td></tr>
<tr><td>ERROR_CODE_ADDRESS_BLOCKED</td><td>1015</td><td>This address is blocked due to potential security risks, which is alerted by third party organization. Those risks include hacker's address, money laundering and etc.</td></tr>
<tr><td>ERROR_CODE_BLOCK_BRIDGE_DIRECT</td><td>1016</td><td>Token transfer from source chain to destination(one direction) is disabled</td></tr>
<tr><td>ERROR_CODE_LIQ_OVER_CAP</td><td>1017</td><td>Token pool total cap reached</td></tr>
<tr><td>ErrCode_ERROR_CODE_VPN_BLOCK</td><td>1018</td><td>VPN is <em><mark style="color:red;"><strong>not allowed</strong></mark></em> when getting transfer estimation</td></tr>
</tbody>
</table>

<h3 id="error-with-high-frequency"><a class="header" href="#error-with-high-frequency">Error with high frequency</a></h3>
<h4 id="error_code_inbound_liquidity_limit--error_code_liq_over_cap"><a class="header" href="#error_code_inbound_liquidity_limit--error_code_liq_over_cap"><mark style="color:red;">ERROR_CODE_INBOUND_LIQUIDITY_LIMIT &amp; ERROR_CODE_LIQ_OVER_CAP</mark></a></h4>
<p>The sending amount is beyond liquidity pool limit. It will happen only for liquidity pool-based transfer. The calculation for inbound liquidity limit of <strong>source chain token</strong> liquidity pool is <mark style="color:purple;"><strong>TOTAL_LIQUIDITY_ADDED - TOTAL__LIQUIDITY_RELAYED - TOTAL__LIQUIDITY_WITHDRAWN.</strong></mark> Once this error code is given, you have to let the users <mark style="color:red;">decrease</mark> their input sending amount.</p>
<h4 id="error_code_no_enough_token_on_dst_chain"><a class="header" href="#error_code_no_enough_token_on_dst_chain"><mark style="color:red;">ERROR_CODE_NO_ENOUGH_TOKEN_ON_DST_CHAIN</mark></a></h4>
<p>Destination chain doesn‚Äôt have enough token for this transfer. It may happen for pool based transfer which bridge rate is fixed to 1.</p>
<h2 id="estimated-time-of-arrival-for-transfer"><a class="header" href="#estimated-time-of-arrival-for-transfer">Estimated Time of Arrival for Transfer</a></h2>
<p>To provide a better user experience, cBridge has a request to indicate user how long it will take to finish a transfer. You may also use this to provide a better time estimation for the users.</p>
<h2 id="request-sample"><a class="header" href="#request-sample">Request Sample</a></h2>
<p><mark style="color:blue;"><code>GET</code></mark> <code>https://cbridge-prod2.celer.app/v2/getLatest7DayTransferLatencyForQuery</code></p>
<p><a href="https://cbridge-prod2.celer.app/v2/getLatest7DayTransferLatencyForQuery?src_chain_id=1&amp;dst_chain_id=56">https://cbridge-prod2.celer.app/v2/getLatest7DayTransferLatencyForQuery?src_chain_id=1&amp;dst_chain_id=56</a></p>
<h4 id="path-parameters-1"><a class="header" href="#path-parameters-1">Path Parameters</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>src_chain_id<mark style="color:red;">*</mark></td><td>Number</td><td>source chain id</td></tr>
<tr><td>dst_chain_id<mark style="color:red;">*</mark></td><td>Number</td><td>destination chain id</td></tr>
</tbody>
</table>
</div>
<pre><code class="language-javascript">{
  "err": null,
  "median_transfer_latency_in_second": 325.818221
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="contract-pool-based-transfer"><a class="header" href="#contract-pool-based-transfer">Contract: Pool-Based Transfer</a></h1>
<h2 id="implementation-1"><a class="header" href="#implementation-1">Implementation</a></h2>
<p>Pool-based transfers are done via the <a href="https://github.com/celer-network/sgn-v2-contracts/blob/b0cf02c15e25f66279420e3ff6a8b2fe07404bab/contracts/Bridge.sol">Bridge</a> contract, specifically via the <a href="https://github.com/celer-network/sgn-v2-contracts/blob/b0cf02c15e25f66279420e3ff6a8b2fe07404bab/contracts/Bridge.sol#L56">send</a> or <a href="https://github.com/celer-network/sgn-v2-contracts/blob/b0cf02c15e25f66279420e3ff6a8b2fe07404bab/contracts/Bridge.sol#L79">sendNative</a> functions. For advanced users, these two functions can be called from smart contracts, but please read the <a href="#transfer-refund-1">refund process</a> before you proceed.</p>
<p>Here is the <mark style="color:red;">abi</mark> for Bridge: <a href="https://github.com/celer-network/cBridge-typescript-client/tree/main/contract/abi/Bridge.sol"> </a><a href="https://github.com/celer-network/cBridge-typescript-client/tree/main/contract/abi/Bridge.sol">https://github.com/celer-network/cBridge-typescript-client/tree/main/contract/abi/Bridge.sol</a></p>
<ul>
<li>Transfer gas token(ETH): <mark style="color:orange;">sendNative</mark>. No need to provide token address</li>
<li>Transfer ERC20 token: <mark style="color:orange;">send</mark>.  Token address is needed</li>
</ul>
<pre><code class="language-javascript">/// SendNative
const transferTx = await transactor(
     bridge.sendNative(
     "0xaa47c83316edc05cf9ff7136296b026c5de7eccd", /// User's wallet Address
     100000000, /// Transfer amount with decimal
     4002, /// Destination chain id
     1638864397751, /// Nonce
     3000, /// Max slippage
     { 
          value: 100000000, /// Same amount as above
     },
     ),
).catch(e =&gt; {
     /// Handle Error
});

/// Send
const transferTx = await transactor(
     bridge.send(
     "0xdad9d86885d217b92a47370e1e785897dd09a4f3", /// User's Wallet Address
     "0x7d43aabc515c356145049227cee54b608342c0ad", /// Selected Token Address
     10000000000, /// Transfer amount with decimal
     5, /// Destination chain id
     1638862397751, /// Nonce
     780, /// Max slippage
     ),
).catch(e =&gt; {
     /// Handle Error
});
</code></pre>
<h2 id="request-parameters-3"><a class="header" href="#request-parameters-5">Request Parameters <a href="#request-parameters-5" id="request-parameters-4"></a></a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>receiver</td><td>String</td><td>User‚Äôs wallet address</td></tr>
<tr><td>token</td><td>String</td><td>Token‚Äôs address on source chain</td></tr>
<tr><td>amount</td><td>BigNumber</td><td>Token amount to be sent</td></tr>
<tr><td>dst_chain_id</td><td>BigNumber</td><td>Destination chain id</td></tr>
<tr><td>nonce</td><td>BigNumber</td><td>Current timestamp</td></tr>
<tr><td>max_slippage</td><td>BigNumber</td><td>Use the value given by <a href="#response-parameters-2">amount estimation</a></td></tr>
</tbody>
</table>
</div>
<blockquote>
<p><strong>Note:</strong>
If you want to use a max_slippage with your own calculation, please make sure it is not less than <a href="https://github.com/celer-network/cBridge-typescript-client/blob/c434598005a44334bdb6fa22979da8b253eeaa86/contract/Bridge.d.ts#L769">minimalMaxSlippage</a> given by cBridge contract. Otherwise, the transaction will fail. </p>
</blockquote>
<blockquote>
<p><strong>Note:</strong>
If <code>receiver</code> is a smart contract and the token you are sending is a wrapped native gas token on the destination chain, make sure the contract can receive native gas token by implementing <code>fallback</code> / <code>receive</code> functions.</p>
</blockquote>
<h3 id="transferid-generation"><a class="header" href="#transferid-generation">TransferId Generation</a></h3>
<p>When you submit on-chain send transaction, you can also generate a transfer id for future reference. For example, it is used for <a href="#gateway-gettransferstatus">getTransferStatus</a> and <a href="developer/api-reference/broken-reference">withdrawLiquidityForTransferRefund</a>. It should be the same as transferId inside on-chain transaction log. </p>
<pre><code class="language-javascript">const transfer_id = ethers.utils.solidityKeccak256(
     [
      "address",
      "address",
      "address", 
      "uint256", 
      "uint64", 
      "uint64", 
      "uint64"
     ], 
     [
      "0xdad9d86885d217b92a47370e1e785897dd09a4f3", /// User's wallet address, 
      "0xdad9d86885d217b92a47370e1e785897dd09a4f3", /// User's wallet address, 
      "0x7d43aabc515c356145049227cee54b608342c0ad", /// Wrap token address/ ERC20 token address 
      "10000000000", /// Send amount in String 
      "5", /// Destination chain id
      "1638862397751", /// Nonce
      "4002", /// Source chain id
     ],
)
</code></pre>
<h2 id="response"><a class="header" href="#response">Response <a href="#request-parameters-5" id="request-parameters-5"></a></a></h2>
<p>Since this function is an Ethereum on-chain transaction, the response is the corresponding transaction response. </p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="gateway-gettransferstatus"><a class="header" href="#gateway-gettransferstatus">Gateway: GetTransferStatus</a></h1>
<h3 id="rest-api-2"><a class="header" href="#rest-api-2">REST API</a></h3>
<p><mark style="color:green;"><code>POST</code></mark> <code>https://cbridge-prod2.celer.app/v2/getTransferStatus</code></p>
<p>Here is a curl example.</p>
<p><code>curl -d '{"transfer_id":"77D7E231B08120217969DED3FF1ED2B40C0028CA1E239B225F535C57808A23F6"}' -H "Content-Type: application/json" -X POST https://cbridge-prod2.celer.app/v2/getTransferStatus</code></p>
<p>When you get the response, you can get <mark style="color:purple;">TransferHistoryStatus</mark> and <mark style="color:purple;">XferStatus</mark> according to below mapping.</p>
<p>For example, if the ‚Äústatus‚Äù is 6 and the ‚Äúrefund_reason‚Äù is 4, we know this tx needs to be refunded for user since slippage is too low to finish the cBridge transfer flow.  </p>
<h4 id="headers"><a class="header" href="#headers">Headers</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>Content-Type<mark style="color:red;">*</mark></td><td>String</td><td>use application/json</td></tr>
</tbody>
</table>
</div>
<h4 id="request-body"><a class="header" href="#request-body">Request Body</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>transfer_id<mark style="color:red;">*</mark></td><td>String</td><td></td></tr>
</tbody>
</table>
</div>
<pre><code class="language-javascript">{
  "err": null,
  "status": 5,
  "wd_onchain": null,
  "sorted_sigs": [
  ],
  "signers": [
  ],
  "powers": [
  ],
  "refund_reason": 0,
  "block_delay": 30,
  "src_block_tx_link": "https://ftmscan.com/tx/0x5817041ff87994234a74edbff7f25afb659a5519c1ce0b90b7d886aca67eaccc",
  "dst_block_tx_link": "https://arbiscan.io/tx/0xe73db1fff7407a72d4755cd52252d29afd2e5326b755725df56befba4ff7594b"
}
</code></pre>
<h3 id="grpc-web-api-1"><a class="header" href="#grpc-web-api-1">GRPC-Web API</a></h3>
<pre><code class="language-javascript">import {
    GetTransferStatusRequest
} from "../ts-proto/sgn/gateway/v1/gateway_pb";

// import grpc-web WebClient
import { 
    WebClient 
} from "../ts-proto/sgn/gateway/v1/GatewayServiceClientPb";

/// https://ftmscan.com/tx/0x5817041ff87994234a74edbff7f25afb659a5519c1ce0b90b7d886aca67eaccc"
const request = new GetTransferStatusRequest();
request.setTransferId("77D7E231B08120217969DED3FF1ED2B40C0028CA1E239B225F535C57808A23F6");
const client = new WebClient(`https://cbridge-prod2.celer.app`, null, null);
const response = await client.getTransferStatus((request, null);
</code></pre>
<h2 id="request-parameter"><a class="header" href="#request-parameter">Request Parameter</a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>transfer_id</td><td>String</td><td><a href="#transferid-generation">Ethereum generation hash </a>with  <a href="#request-parameters-5">cBridge on-chain send transaction parameters</a></td></tr>
</tbody>
</table>
</div>
<h2 id="response-parameters-3"><a class="header" href="#response-parameters-4">Response Parameters <a href="#response-parameters-4" id="response-parameters-4"></a></a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>status</td><td><a href="#transferhistorystatus-enum">TransferHistoryStatus</a></td><td>transfer status</td></tr>
<tr><td>wd_onchain</td><td>String</td><td>Serialized on-chain withdraw request<mark style="color:orange;">(only for refund)</mark></td></tr>
<tr><td>sorted_sigs</td><td>Array&lt;String&gt;</td><td>Celer SGN validators‚Äô sign for wd_onchain <mark style="color:orange;">(only for refund)</mark></td></tr>
<tr><td>signers</td><td>Array&lt;String&gt;</td><td>Celer SGN validators which has signed for wd_onchain <mark style="color:orange;">(only for refund)</mark></td></tr>
<tr><td>powers</td><td>Array&lt;String&gt;</td><td>Powers for each signed validators <mark style="color:orange;">(only for refund)</mark></td></tr>
<tr><td>refund_reason</td><td><a href="#xferstatus-enum">XferStatus</a></td><td>Used when status is <mark style="color:red;">TRANSFER_TO_BE_REFUNDED</mark></td></tr>
<tr><td>block_delay</td><td>Number</td><td>Waiting block for this transfer on src chain</td></tr>
<tr><td>src_block_tx_link</td><td>String</td><td>source chain transaction link</td></tr>
<tr><td>dst_block_tx_link</td><td>String</td><td>destination chain transaction link</td></tr>
</tbody>
</table>
</div>
<h3 id="transferhistorystatus"><a class="header" href="#transferhistorystatus">TransferHistoryStatus <a href="#transferhistorystatus-enum" id="transferhistorystatus-enum"></a></a></h3>
<table>
<thead>
<tr><th>Type</th><th>Description</th><th>Code</th><th data-hidden=""></th></tr>
</thead>
<tbody>
<tr><td>TRANSFER_UNKNOWN</td><td>Placeholder status</td><td>0</td><td></td></tr>
<tr><td><mark style="color:yellow;">TRANSFER_SUBMITTING</mark></td><td>cBridge gateway monitoring on-chain transaction</td><td>1</td><td></td></tr>
<tr><td><mark style="color:red;">TRANSFER_FAILED</mark></td><td>transfer failed, no need to refund</td><td>2</td><td></td></tr>
<tr><td><mark style="color:blue;">TRANSFER_WAITING_FOR_SGN_CONFIRMATION</mark></td><td>cBridge gateway waiting for Celer SGN confirmation</td><td>3</td><td></td></tr>
<tr><td>TRANSFER_WAITING_FOR_FUND_RELEASE</td><td>waiting for user's fund release on destination chain</td><td>4</td><td></td></tr>
<tr><td><mark style="color:green;">TRANSFER_COMPLETED</mark></td><td>Transfer completed</td><td>5</td><td></td></tr>
<tr><td><mark style="color:red;">TRANSFER_TO_BE_REFUNDED</mark></td><td>Transfer failed, should trigger refund flow, whether it is Pool-Based or Mint/Burn refund‚Äã</td><td>6</td><td></td></tr>
<tr><td>TRANSFER_REQUESTING_REFUND</td><td>cBridge gateway is preparing information for user's transfer refund</td><td>7</td><td></td></tr>
<tr><td><mark style="color:yellow;">TRANSFER_REFUND_TO_BE_CONFIRMED</mark></td><td>The user should submit on-chain refund transaction based on information provided by this api</td><td>8</td><td></td></tr>
<tr><td>TRANSFER_CONFIRMING_YOUR_REFUND</td><td>cBridge monitoring transfer refund status on source chain</td><td>9</td><td></td></tr>
<tr><td><mark style="color:green;">TRANSFER_REFUNDED</mark></td><td>Transfer refund completed</td><td>10</td><td></td></tr>
<tr><td><mark style="color:yellow;">TRANSFER_DELAYED</mark></td><td>Transfer is put into a delayed execution queue</td><td>11</td><td></td></tr>
</tbody>
</table>

<h3 id="xferstatus"><a class="header" href="#xferstatus">XferStatus <a href="#xferstatus-enum" id="xferstatus-enum"></a></a></h3>
<table>
<thead>
<tr><th>Type</th><th>Description</th><th>Code</th><th data-hidden=""></th></tr>
</thead>
<tbody>
<tr><td>UNKNOWN</td><td>Placeholder</td><td>0</td><td></td></tr>
<tr><td>OK_TO_RELAY ‚Äã  ‚Äã  ‚Äã  ‚Äã  ‚Äã  ‚Äã  ‚Äã  ‚Äã </td><td><mark style="color:blue;">TRANSFER_WAITING_FOR_SGN_CONFIRMATION</mark></td><td>1</td><td></td></tr>
<tr><td>SUCCESS</td><td>Transfer success</td><td>2</td><td></td></tr>
<tr><td><mark style="color:red;">BAD_LIQUIDITY</mark></td><td>Not enough liquidity</td><td>3</td><td></td></tr>
<tr><td><mark style="color:red;">BAD_SLIPPAGE</mark></td><td>Slippage is too low</td><td>4</td><td></td></tr>
<tr><td><mark style="color:red;">BAD_TOKEN</mark></td><td>not supported token or token amount not available</td><td>5</td><td></td></tr>
<tr><td>REFUND_REQUESTED</td><td>refund started</td><td>6</td><td></td></tr>
<tr><td>REFUND_DONE</td><td>refund finished</td><td>7</td><td></td></tr>
<tr><td><mark style="color:red;">BAD_XFER_DISABLED</mark></td><td>transfer for this token is disabled</td><td>8</td><td></td></tr>
<tr><td><mark style="color:red;">BAD_DEST_CHAIN</mark></td><td>not supported destination chain</td><td>9</td><td></td></tr>
</tbody>
</table>

<blockquote>
<p><strong>Note:</strong>
We should focus on status types with <mark style="color:red;">BAD</mark> prefix, it shows the error reason for failed transfer transaction. Other status indicates normal transaction flow.</p>
</blockquote>
<pre><code class="language-javascript">/// Code Sample

const statusRes = await getTransferStatus({ transfer_id: transferId }
</code></pre>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="contract-pool-based-transfer-refund"><a class="header" href="#contract-pool-based-transfer-refund">Contract: Pool-Based Transfer Refund</a></h1>
<h2 id="implementation-2"><a class="header" href="#implementation-2">Implementation</a></h2>
<p>Here is the <mark style="color:red;">abi</mark> for Bridge: <a href="https://github.com/celer-network/cBridge-typescript-client/tree/main/contract/abi/Bridge.sol">https://github.com/celer-network/cBridge-typescript-client/tree/main/contract/abi/Bridge.sol</a></p>
<pre><code class="language-javascript">bridge.withdraw(wdmsg, sigs, signers, powers)
</code></pre>
<h2 id="request-parameters-6"><a class="header" href="#request-parameters-7">Request Parameters <a href="#request-parameters-7" id="request-parameters-7"></a></a></h2>
<p>All information is given by cBridge gateway in <a href="#response-parameters-4">getTransferStatus response</a></p>
<div class="table-wrapper">
<table>
<thead>
<tr><th></th><th></th><th></th></tr>
</thead>
<tbody>
<tr><td>wdmsg</td><td>BytesLike</td><td>wd_onchain</td></tr>
<tr><td>sigs</td><td>Array&lt;BytesLike&gt;</td><td>sorted_sigs</td></tr>
<tr><td>signers</td><td>Array&lt;String&gt;</td><td>signers</td></tr>
<tr><td>powers</td><td>Array&lt;BigNumber&gt;</td><td>powers</td></tr>
</tbody>
</table>
</div>
<blockquote>
<p><strong>Note:</strong>
Notice: Since the types of parameters are different between getTransferStatus response and withdraw request, please convert them accordingly. See details in the below code sample</p>
</blockquote>
<pre><code class="language-javascript">import { base64, getAddress, hexlify } from "ethers/lib/utils";

const wdmsg = base64.decode(wd_onchain);

const signers = _signers.map(item =&gt; {
    const decodeSigners = base64.decode(item);
    const hexlifyObj = hexlify(decodeSigners);
    return getAddress(hexlifyObj);
});

const sigs = sorted_sigs.map(item =&gt; {
    return base64.decode(item);
});

const powers = _powers.map(item =&gt; {
    return base64.decode(item);
});
</code></pre>
<h2 id="response-1"><a class="header" href="#response-1">Response</a></h2>
<p>Since this function is an Ethereum on-chain transaction, the response is the corresponding transaction response.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="gateway-transferhistory"><a class="header" href="#gateway-transferhistory">Gateway: TransferHistory</a></h1>
<h3 id="rest-api-3"><a class="header" href="#rest-api-3">REST API</a></h3>
<h2 id="get-a-list-of-users-transfer-history"><a class="header" href="#get-a-list-of-users-transfer-history">Get a list of user‚Äôs transfer history</a></h2>
<p><mark style="color:blue;"><code>GET</code></mark> <code>https://cbridge-prod2.celer.app/v2/transferHistory</code></p>
<p>Here is a request sample:</p>
<p><a href="https://cbridge-prod2.celer.app/v1/transferHistory?acct_addr[]=0x51D36E18E3D32d121A3CfE2F3E5771A6FD53274E&amp;page_size=5&amp;next_page_token=1639122153714">https://cbridge-prod2.celer.app/v1/transferHistory?acct_addr[]=0x51D36E18E3D32d121A3CfE2F3E5771A6FD53274E&amp;page_size=5&amp;next_page_token=1639122153714</a></p>
<h4 id="path-parameters-2"><a class="header" href="#path-parameters-2">Path Parameters</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>acct_addr<mark style="color:red;">*</mark></td><td>String[]</td><td>User‚Äôs wallet addresses</td></tr>
<tr><td>next_page_token</td><td>String</td><td>Timestamp</td></tr>
<tr><td>page_size<mark style="color:red;">*</mark></td><td>Int</td><td>size for history items, should be greater than 0</td></tr>
</tbody>
</table>
</div>
<pre><code class="language-javascript">{
  "err": null,
  "history": [
  ],
  "next_page_token": "0",
  "current_size": "0"
}
</code></pre>
<h3 id="grpc-web-api-2"><a class="header" href="#grpc-web-api-2">GRPC-Web API</a></h3>
<pre><code class="language-javascript">// import transfer history request message 
import {
  TransferHistoryRequest
} from "../ts-proto/sgn/gateway/v1/gateway_pb";

// import grpc-web WebClient
import { 
  WebClient 
} from "../ts-proto/sgn/gateway/v1/GatewayServiceClientPb";

const request = new TransferHistoryRequest();
request.setNextPageToken("1639122153714");
request.setAcctAddrList(["0x51D36E18E3D32d121A3CfE2F3E5771A6FD53274E"]);
request.setPageSize(5);
const client = new WebClient(`https://cbridge-prod2.celer.app`, null, null);
const response = await client.transferHistory(request, null);
</code></pre>
<h2 id="request-parameters-8"><a class="header" href="#request-parameters-8">Request Parameters</a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>next_page_token</td><td>String</td><td></td></tr>
<tr><td>page_size</td><td>Number</td><td>Size for history items, should be greater than 0. Otherwise, gateway will return an empty list</td></tr>
<tr><td>acct_addr</td><td>Array&lt;String&gt;</td><td>User‚Äôs wallet addresses</td></tr>
</tbody>
</table>
</div>
<blockquote>
<p><strong>Note:</strong>
To get the latest histories, use empty string as next_page_token. Otherwise, use value given by response.</p>
</blockquote>
<h2 id="response-parameters-5"><a class="header" href="#response-parameters-5">Response Parameters</a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>history_list</td><td>Array&lt;TransferHistory&gt;</td><td></td></tr>
<tr><td>next_page_token</td><td>String</td><td></td></tr>
<tr><td>current_page_size</td><td>Number</td><td></td></tr>
</tbody>
</table>
</div>
<blockquote>
<p><strong>Note:</strong>
If current_page_size in response is smaller than page_size in request, it means list has come to an end/</p>
</blockquote>
<h3 id="transferhistory"><a class="header" href="#transferhistory">TransferHistory</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>transfer_id</td><td>String</td><td></td></tr>
<tr><td>src_send_info</td><td><a href="#transferinfo">TransferInfo</a></td><td></td></tr>
<tr><td>dst_received_info</td><td><a href="#transferinfo">TransferInfo</a></td><td></td></tr>
<tr><td>ts</td><td>Number</td><td></td></tr>
<tr><td>src_block_tx_link</td><td>String</td><td></td></tr>
<tr><td>dst_block_tx_link</td><td>String</td><td></td></tr>
<tr><td>status</td><td><a href="#transferhistorystatus-enum">TranserHistoryStatus</a></td><td></td></tr>
<tr><td>refund_reason</td><td><a href="#xferstatus-enum">XferStatus</a></td><td></td></tr>
</tbody>
</table>
</div>
<h3 id="transferinfo"><a class="header" href="#transferinfo">TransferInfo</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th></th></tr>
</thead>
<tbody>
<tr><td>chain</td><td><a href="#chain">Chain</a></td><td></td></tr>
<tr><td>token</td><td><a href="#token">Token</a></td><td></td></tr>
<tr><td>amount</td><td>String</td><td></td></tr>
</tbody>
</table>
</div>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="contract-mint-canonical-tokenoriginaltokenvault"><a class="header" href="#contract-mint-canonical-tokenoriginaltokenvault">Contract: Mint Canonical Token(OriginalTokenVault)</a></h1>
<h2 id="implementation-3"><a class="header" href="#implementation-3">Implementation</a></h2>
<p>Minting is the process of locking original tokens on the source chain and minting canonical tokens that are pegged 1:1 on the destination chain. Original tokens can be deposited into the <a href="https://github.com/celer-network/sgn-v2-contracts/blob/b0cf02c15e25f66279420e3ff6a8b2fe07404bab/contracts/pegged/OriginalTokenVault.sol">OriginalTokenVault</a> contract on the source chain, specifically via the <a href="https://github.com/celer-network/sgn-v2-contracts/blob/b0cf02c15e25f66279420e3ff6a8b2fe07404bab/contracts/pegged/OriginalTokenVault.sol#L64">deposit</a> or <a href="https://github.com/celer-network/sgn-v2-contracts/blob/b0cf02c15e25f66279420e3ff6a8b2fe07404bab/contracts/pegged/OriginalTokenVault.sol#L84">depositNative</a> functions, which will trigger the minting of canonical tokens from the <a href="https://github.com/celer-network/sgn-v2-contracts/blob/b0cf02c15e25f66279420e3ff6a8b2fe07404bab/contracts/pegged/PeggedTokenBridge.sol">PeggedTokenBridge</a> contract on the destination chain. For advanced users, the two deposit functions can be called from smart contracts. </p>
<p>Here is the <mark style="color:red;">abi</mark> for the canonical / pegged token bridge contracts: <a href="https://github.com/celer-network/cBridge-typescript-client/tree/main/contract/abi/pegged/PeggedTokenBridge.sol">https://github.com/celer-network/cBridge-typescript-client/tree/main/contract/abi/pegged/PeggedTokenBridge.sol</a>, <a href="https://github.com/celer-network/cBridge-typescript-client/tree/main/contract/abi/pegged/OriginalTokenVault.sol">https://github.com/celer-network/cBridge-typescript-client/tree/main/contract/abi/pegged/OriginalTokenVault.sol</a></p>
<pre><code class="language-javascript">const transferTx = await transactor(
     originalTokenVault!.deposit(
          pegConfig.config.org_token.token.address, 
          value,
          pegConfig.config.pegged_chain_id,
          address, 
          nonce,
     ),    
).catch(e =&gt; {
     /// Handle Error
});
</code></pre>
<h2 id="request-parameters-9"><a class="header" href="#request-parameters-11">Request Parameters <a href="#request-parameters-11" id="request-parameters-10"></a></a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>token</td><td>String</td><td>Token‚Äôs address</td></tr>
<tr><td>amount</td><td>UInt256</td><td>locked token amount</td></tr>
<tr><td>mint_chain_id</td><td>UInt64</td><td>destination chainId to mint tokens</td></tr>
<tr><td>nonce</td><td>UInt64</td><td>Current timestamp</td></tr>
<tr><td>mint_account</td><td>String</td><td>User‚Äôs wallet address</td></tr>
</tbody>
</table>
</div>
<blockquote>
<p><strong>Note:</strong>
If the <code>mint_account</code> is a smart contract and the token you are sending is a wrapped native gas token on the destination chain, make sure the contract can receive native gas token by implementing <code>fallback</code> / <code>receive</code> functions.</p>
</blockquote>
<h3 id="transferid-generation-1"><a class="header" href="#transferid-generation-1">TransferId Generation</a></h3>
<p>When you submit on-chain deposit transaction, you can also generate a transfer id for future reference. For example, it is used for <a href="#gateway-gettransferstatus">getTransferStatus</a>. It should be the same as transferId inside on-chain transaction log. </p>
<pre><code class="language-javascript">/// Example transaction:
/// https://testnet.bscscan.com/tx/0x5a4a0b50a74c9671f39694a506f1117bdfda2fbd001fe853c0494ca542d7687f#eventlog
const deposit_id = ethers.utils.solidityKeccak256(
     [
      "address",
      "address",
      "uint256", 
      "uint64", 
      "address",
      "uint64", 
      "uint64"
     ], 
     [
      "0x51d36e18e3d32d121a3cfe2f3e5771a6fd53274e", /// User's wallet address, 
      "0x0368ba12d5b0fc5cd2e17199f8074fbac9abb7aa", /// selectedTokenAddress,
      "50000000000000000000", /// Mint amount in String 
      "65", /// Pegged Chain Id
      "0x51d36e18e3d32d121a3cfe2f3e5771a6fd53274e", /// User's wallet address, 
      "....", /// Nonce
      "...", /// Original chain id
     ],
)
</code></pre>
<h2 id="response-2"><a class="header" href="#response-2">Response <a href="#request-parameters-11" id="request-parameters-11"></a></a></h2>
<p>Since this function is an Ethereum on-chain transaction, the response is the corresponding transaction response. </p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="contract-mint-canonical-tokenoriginaltokenvaultv2"><a class="header" href="#contract-mint-canonical-tokenoriginaltokenvaultv2">Contract: Mint Canonical Token(OriginalTokenVaultV2)</a></h1>
<h2 id="implementation-4"><a class="header" href="#implementation-4">Implementation</a></h2>
<p>There is no big difference between originalTokenVault and originalTokenVaultV2. However, you should use different parameters to generate transfer id.</p>
<pre><code class="language-javascript">originalTokenVaultV2!.deposit(
     pegConfig.config.org_token.token.address, 
     value,
     pegConfig.config.pegged_chain_id,
     address, 
     nonce,
)  
</code></pre>
<h2 id="request-parameters-12"><a class="header" href="#request-parameters-14">Request Parameters <a href="#request-parameters-14" id="request-parameters-13"></a></a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>token</td><td>String</td><td>Token‚Äôs address</td></tr>
<tr><td>amount</td><td>UInt256</td><td>locked token amount</td></tr>
<tr><td>mint_chain_id</td><td>UInt64</td><td>destination chainId to mint tokens</td></tr>
<tr><td>nonce</td><td>UInt64</td><td>Current timestamp</td></tr>
<tr><td>mint_account</td><td>String</td><td>User‚Äôs wallet address</td></tr>
</tbody>
</table>
</div>
<blockquote>
<p><strong>Note:</strong>
If the <code>mint_account</code> is a smart contract and the token you are sending is a wrapped native gas token on the destination chain, make sure the contract can receive native gas token by implementing <code>fallback</code> / <code>receive</code> functions.</p>
</blockquote>
<h3 id="transferid-generation-2"><a class="header" href="#transferid-generation-2">TransferId Generation</a></h3>
<p>When you submit on-chain deposit transaction, you can also generate a transfer id for future reference. For example, it is used for <a href="#gateway-gettransferstatus">getTransferStatus</a>. It should be the same as transferId inside on-chain transaction log. </p>
<pre><code class="language-javascript">/// Example transaction:
/// https://testnet.bscscan.com/tx/0x5a4a0b50a74c9671f39694a506f1117bdfda2fbd001fe853c0494ca542d7687f#eventlog
const deposit_id = ethers.utils.solidityKeccak256(
     [
      "address",
      "address",
      "uint256", 
      "uint64", 
      "address",
      "uint64", 
      "uint64",
      "address",
     ], 
     [
      "0x51d36e18e3d32d121a3cfe2f3e5771a6fd53274e", /// User's wallet address, 
      "0x0368ba12d5b0fc5cd2e17199f8074fbac9abb7aa", /// selectedTokenAddress,
      "50000000000000000000", /// Mint amount in String 
      "65", /// Pegged Chain Id
      "0x51d36e18e3d32d121a3cfe2f3e5771a6fd53274e", /// User's wallet address, 
      "....", /// Nonce
      "...", /// Original chain id
      "...", /// Original Token Vault V2 contract address
     ],
)
</code></pre>
<h2 id="response-3"><a class="header" href="#response-3">Response <a href="#request-parameters-14" id="request-parameters-14"></a></a></h2>
<p>Since this function is an Ethereum on-chain transaction, the response is the corresponding transaction response. </p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="contract-mint-canonical-token-transfer-refund"><a class="header" href="#contract-mint-canonical-token-transfer-refund">Contract: Mint Canonical Token Transfer Refund</a></h1>
<h2 id="implementation-5"><a class="header" href="#implementation-5">Implementation</a></h2>
<p>Here is the <mark style="color:red;">abi</mark> for OriginalTokenVault: <a href="https://github.com/celer-network/cBridge-typescript-client/tree/main/contract/abi/pegged/OriginalTokenVault.sol">https://github.com/celer-network/cBridge-typescript-client/tree/main/contract/abi/pegged/OriginalTokenVault.sol</a></p>
<pre><code class="language-javascript">originalTokenVault.withdraw(wdmsg, sigs, signers, powers)
</code></pre>
<h2 id="request-parameters-15"><a class="header" href="#request-parameters-16">Request Parameters <a href="#request-parameters-16" id="request-parameters-16"></a></a></h2>
<p>All information is given by cBridge gateway in <a href="#response-parameters-4">getTransferStatus response</a></p>
<div class="table-wrapper">
<table>
<thead>
<tr><th></th><th></th><th></th></tr>
</thead>
<tbody>
<tr><td>wdmsg</td><td>BytesLike</td><td>wd_onchain</td></tr>
<tr><td>sigs</td><td>Array&lt;BytesLike&gt;</td><td>sorted_sigs</td></tr>
<tr><td>signers</td><td>Array&lt;String&gt;</td><td>signers</td></tr>
<tr><td>powers</td><td>Array&lt;BigNumber&gt;</td><td>powers</td></tr>
</tbody>
</table>
</div>
<blockquote>
<p><strong>Note:</strong>
Notice: Since the types of parameters are different between getTransferStatus response and withdraw request, please convert them accordingly. See details in the below code sample</p>
</blockquote>
<pre><code class="language-javascript">import { base64, getAddress, hexlify } from "ethers/lib/utils";

const wdmsg = base64.decode(wd_onchain);

const signers = _signers.map(item =&gt; {
    const decodeSigners = base64.decode(item);
    const hexlifyObj = hexlify(decodeSigners);
    return getAddress(hexlifyObj);
});

const sigs = sorted_sigs.map(item =&gt; {
    return base64.decode(item);
});

const powers = _powers.map(item =&gt; {
    return base64.decode(item);
});
</code></pre>
<h2 id="response-4"><a class="header" href="#response-4">Response</a></h2>
<p>Since this function is an on-chain transaction, the response is the corresponding transaction response.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="contract-burn-canonical-tokenpeggedtokenbridge"><a class="header" href="#contract-burn-canonical-tokenpeggedtokenbridge">Contract: Burn Canonical Token(PeggedTokenBridge)</a></h1>
<h2 id="implementation-6"><a class="header" href="#implementation-7">Implementation <a href="#implementation-7" id="implementation-7"></a></a></h2>
<p>Burning is the reverse of the <a href="https://app.gitbook.com/o/KqK7YjAlzW1oggY8EUgX/s/e2ozVyumMnvf5tn0izji/c/a9lgLSP9VsmBEO9eAsJt/developer/api-reference/contract-mint-canonical-token">minting</a> process. Canonical tokens can be <a href="https://github.com/celer-network/sgn-v2-contracts/blob/b0cf02c15e25f66279420e3ff6a8b2fe07404bab/contracts/pegged/PeggedTokenBridge.sol#L98">burned</a> via the <a href="https://github.com/celer-network/sgn-v2-contracts/blob/b0cf02c15e25f66279420e3ff6a8b2fe07404bab/contracts/pegged/PeggedTokenBridge.sol">PeggedTokenBridge</a> contract on the source chain, which will trigger the release of the original tokens from the <a href="https://github.com/celer-network/sgn-v2-contracts/blob/b0cf02c15e25f66279420e3ff6a8b2fe07404bab/contracts/pegged/OriginalTokenVault.sol">OriginalTokenVault</a> contract on the destination chain. For advanced users, the burn function can be called from smart contracts.</p>
<p>Here is the <mark style="color:red;">abi</mark> for the canonical / pegged token bridge contracts: <a href="https://github.com/celer-network/cBridge-typescript-client/tree/main/contract/abi/pegged/PeggedTokenBridge.sol">https://github.com/celer-network/cBridge-typescript-client/tree/main/contract/abi/pegged/PeggedTokenBridge.sol</a>, <a href="https://github.com/celer-network/cBridge-typescript-client/tree/main/contract/abi/pegged/OriginalTokenVault.sol">https://github.com/celer-network/cBridge-typescript-client/tree/main/contract/abi/pegged/OriginalTokenVault.sol</a></p>
<pre><code class="language-javascript">peggedTokenBridge!.burn(
     pegConfig.config.pegged_token.token.address, 
     value, 
     address, 
     nonce)
</code></pre>
<h2 id="request-parameters-17"><a class="header" href="#request-parameters-18">Request Parameters <a href="#request-parameters-18" id="request-parameters-18"></a></a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>token</td><td>String</td><td>Pegged token address on the pegged chain</td></tr>
<tr><td>amount</td><td>UInt256</td><td>Burn amount</td></tr>
<tr><td>withdraw_account</td><td>String</td><td>User‚Äôs wallet address</td></tr>
<tr><td>nonce</td><td>UInt64</td><td>Current timestamp</td></tr>
</tbody>
</table>
</div>
<blockquote>
<p><strong>Note:</strong>
If <code>withdraw_account</code> is a smart contract and the token you are sending is a wrapped native gas token on the destination chain, make sure the contract can receive native gas token by implementing <code>fallback</code> / <code>receive</code> functions.</p>
</blockquote>
<h3 id="transferid-generation-3"><a class="header" href="#transferid-generation-4">TransferId Generation <a href="#transferid-generation-4" id="transferid-generation-4"></a></a></h3>
<p>When you submit on-chain burn transaction, you can also generate a transfer id for future reference. For example, it is used for <a href="#gateway-gettransferstatus">getTransferStatus</a>. It should be the same as transferId inside on-chain transaction log. </p>
<pre><code class="language-javascript">/// Example transaction: 
/// https://www.oklink.com/en/oec-test/tx/0x56c066218fcfab624d53abeea74486a33c0aa2339bde333d94ccc143a83b98b4?tab=3

const burn_id = ethers.utils.solidityKeccak256(
     [
      "address",
      "address",
      "uint256", 
      "address",
      "uint64", 
      "uint64"
     ], 
     [
      "0x51d36e18e3d32d121a3cfe2f3e5771a6fd53274e", /// User's wallet address, 
      "0x37c92f7f65c40813b9404e9d031126550c39f8a8", /// selectedTokenAddress,
      "20000000000000000000", /// Burn amount in String 
      "0x51d36e18e3d32d121a3cfe2f3e5771a6fd53274e", /// User's wallet address, 
      "....", /// Nonce
      "...", /// Pegged chain id
     ],
)
</code></pre>
<blockquote>
<p><strong>Note:</strong>
Please be aware that transfer id generation parameters are different between mint flow and burn flow.</p>
</blockquote>
<h2 id="response-5"><a class="header" href="#response-5">Response <a href="#request-parameters-1-1" id="request-parameters-1-1"></a></a></h2>
<p>Since this function is an Ethereum on-chain transaction, the response is the corresponding transaction response.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="contract-burn-canonical-token-peggedtokenbridgev2"><a class="header" href="#contract-burn-canonical-token-peggedtokenbridgev2">Contract: Burn Canonical Token (PeggedTokenBridgeV2)</a></h1>
<h2 id="implementation-8"><a class="header" href="#implementation-9">Implementation <a href="#implementation-9" id="implementation-9"></a></a></h2>
<p>The user can specify destination chain id when submitting burn transaction to PeggedTokenBridgeV2. The destination chain id can be original chain id which means the user will bring back his asset from OriginalTokenVault. The destination chain id could indicate another pegged chain where another PeggedTokenBridgeV2 is deployed and able to mint corresponding canonical token. </p>
<pre><code class="language-javascript">peggedTokenBridge!.burn(
     pegConfig.config.pegged_token.token.address, 
     value, 
     destinationChainId,
     address, 
     nonce)   
</code></pre>
<h2 id="request-parameters-19"><a class="header" href="#request-parameters-20">Request Parameters <a href="#request-parameters-20" id="request-parameters-20"></a></a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>token</td><td>String</td><td>Pegged token address on the pegged chain</td></tr>
<tr><td>amount</td><td>UInt256</td><td>Burn amount</td></tr>
<tr><td>destinationChainId</td><td>UInt64</td><td>Destination Chain Id</td></tr>
<tr><td>withdraw_account</td><td>String</td><td>User‚Äôs wallet address</td></tr>
<tr><td>nonce</td><td>UInt64</td><td>Current timestamp</td></tr>
</tbody>
</table>
</div>
<blockquote>
<p><strong>Note:</strong>
If <code>withdraw_account</code> is a smart contract and the token you are sending is a wrapped native gas token on the destination chain, make sure the contract can receive native gas token by implementing <code>fallback</code> / <code>receive</code> functions.</p>
</blockquote>
<h3 id="transferid-generation-5"><a class="header" href="#transferid-generation-6">TransferId Generation <a href="#transferid-generation-6" id="transferid-generation-6"></a></a></h3>
<p>When you submit on-chain burn transaction, you can also generate a transfer id for future reference. For example, it is used for <a href="#gateway-gettransferstatus">getTransferStatus</a>. It should be the same as transferId inside on-chain transaction log. </p>
<pre><code class="language-javascript">const burn_id = ethers.utils.solidityKeccak256(
     [
      "address",
      "address",
      "uint256", 
      "uint64",
      "address",
      "uint64", 
      "uint64",
      "address",
     ], 
     [
      "0x51d36e18e3d32d121a3cfe2f3e5771a6fd53274e", /// User's wallet address, 
      "0x37c92f7f65c40813b9404e9d031126550c39f8a8", /// selectedTokenAddress,
      "20000000000000000000", /// Burn amount in String 
      "...", /// Destination Chain Id
      "0x51d36e18e3d32d121a3cfe2f3e5771a6fd53274e", /// User's wallet address, 
      "....", /// Nonce
      "...", /// Pegged chain id
      "...", /// PeggedTokenBridgeV2 contract address
     ],
)
</code></pre>
<blockquote>
<p><strong>Note:</strong>
Please be aware that transfer id generation parameters are different between <strong>PeggedTokenBridge</strong> and <strong>PeggedTokenBridgeV2</strong></p>
</blockquote>
<h2 id="response-6"><a class="header" href="#response-6">Response <a href="#request-parameters-1-2" id="request-parameters-1-2"></a></a></h2>
<p>Since this function is an Ethereum on-chain transaction, the response is the corresponding transaction response.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="contract-burn-canonical-token-transfer-refund"><a class="header" href="#contract-burn-canonical-token-transfer-refund">Contract: Burn Canonical Token Transfer Refund</a></h1>
<h2 id="implementation-10"><a class="header" href="#implementation-10">Implementation</a></h2>
<p>Here is the <mark style="color:red;">abi</mark> for PeggedTokenBridge: <a href="https://github.com/celer-network/cBridge-typescript-client/tree/main/contract/abi/pegged/PeggedTokenBridge.sol">https://github.com/celer-network/cBridge-typescript-client/tree/main/contract/abi/pegged/PeggedTokenBridge.sol</a></p>
<pre><code class="language-javascript">peggedTokenBridge.mint(wdmsg, sigs, signers, powers)
</code></pre>
<h2 id="request-parameters-21"><a class="header" href="#request-parameters-22">Request Parameters <a href="#request-parameters-22" id="request-parameters-22"></a></a></h2>
<p>All information is given by cBridge gateway in <a href="#response-parameters-4">getTransferStatus response</a></p>
<div class="table-wrapper">
<table>
<thead>
<tr><th></th><th></th><th></th></tr>
</thead>
<tbody>
<tr><td>wdmsg</td><td>BytesLike</td><td>wd_onchain</td></tr>
<tr><td>sigs</td><td>Array&lt;BytesLike&gt;</td><td>sorted_sigs</td></tr>
<tr><td>signers</td><td>Array&lt;String&gt;</td><td>signers</td></tr>
<tr><td>powers</td><td>Array&lt;BigNumber&gt;</td><td>powers</td></tr>
</tbody>
</table>
</div>
<blockquote>
<p><strong>Note:</strong>
Notice: Since the types of parameters are different between getTransferStatus response and withdraw request, please convert them accordingly. See details in the below code sample</p>
</blockquote>
<pre><code class="language-javascript">import { base64, getAddress, hexlify } from "ethers/lib/utils";

const wdmsg = base64.decode(wd_onchain);

const signers = _signers.map(item =&gt; {
    const decodeSigners = base64.decode(item);
    const hexlifyObj = hexlify(decodeSigners);
    return getAddress(hexlifyObj);
});

const sigs = sorted_sigs.map(item =&gt; {
    return base64.decode(item);
});

const powers = _powers.map(item =&gt; {
    return base64.decode(item);
});
</code></pre>
<h2 id="response-7"><a class="header" href="#response-7">Response</a></h2>
<p>Since this function is an on-chain transaction, the response is the corresponding transaction response.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="gateway-markrefrelation"><a class="header" href="#gateway-markrefrelation">Gateway: MarkRefRelation</a></h1>
<h3 id="rest-api-4"><a class="header" href="#rest-api-4">Rest API <a href="#implementation-11" id="implementation-11"></a></a></h3>
<h2 id="make-a-reference-between-transfer-transaction-with-your-ref-code"><a class="header" href="#make-a-reference-between-transfer-transaction-with-your-ref-code">Make a reference between transfer transaction with your ref code</a></h2>
<p><mark style="color:green;"><code>POST</code></mark> <code>https://cbridge-prod2.celer.app/v2/partner/markRefRelation</code></p>
<h4 id="path-parameters-3"><a class="header" href="#path-parameters-3">Path Parameters</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>transfer_id<mark style="color:red;">*</mark></td><td>String</td><td>on-chain transaction transfer id</td></tr>
<tr><td>ref_id</td><td>String</td><td>your ref code</td></tr>
</tbody>
</table>
</div>
<h3 id="grpc-web-api-3"><a class="header" href="#grpc-web-api-3">GRPC-Web API</a></h3>
<pre><code class="language-javascript">// import getTransferConfig request message 
import {
  MarkRefRelationRequest
} from "../ts-proto/sgn/gateway/v1/gateway_pb";

// import grpc-web WebClient
import { 
  WebClient 
} from "../ts-proto/sgn/gateway/v1/GatewayServiceClientPb";

const request = new MarkRefRelationRequest();
request.setTransferId(YOUR_TRANSFER_ID);
request.setRefId(YOUR_REF_CODE);

const client = new WebClient(`https://cbridge-prod2.celer.app`, null, null);
const response = await client.markRefRelation(request, null);
</code></pre>
<h2 id="request-parameters-23"><a class="header" href="#request-parameters-24">Request Parameters <a href="#request-parameters-24" id="request-parameters-24"></a></a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>transfer_id</td><td>String</td><td>Auto-generated transferId</td></tr>
<tr><td>ref_id</td><td>String</td><td>Your reference code</td></tr>
</tbody>
</table>
</div>
<h3 id="transferid-generation-7"><a class="header" href="#transferid-generation-8">TransferId Generation <a href="#transferid-generation-8" id="transferid-generation-8"></a></a></h3>
<p>Since there are different types of transfer provided by cBridge, you should use corresponding transfer id generation logic, please refer following links.</p>
<ul>
<li><a href="#transferid-generation">Pool-Based Transfer Id Generation</a></li>
<li><a href="#transferid-generation-1">Mint Token Transfer Id Generation</a></li>
<li><a href="#transferid-generation-4">Burn Token Transfer Id Generation</a></li>
</ul>
<blockquote>
<p><strong>Note:</strong>
The best practice for markRefRelation is notifying cBridge gateway after on-chain transaction has been submitted. </p>
</blockquote>
<h2 id="response-8"><a class="header" href="#response-8">Response <a href="#request-parameters-1-3" id="request-parameters-1-3"></a></a></h2>
<p>Since this request is notifying cBridge gateway one transfer is related to a ref code, normal response returns an empty body. </p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="contract-transferagent-mint-token-submission"><a class="header" href="#contract-transferagent-mint-token-submission">Contract: TransferAgent Mint Token Submission</a></h1>
<blockquote>
<p><strong>Note:</strong>
TransferAgent transfer is not recommended if receiver‚Äôs wallet address is no more than 20 bytes</p>
</blockquote>
<h2 id="implementation-12"><a class="header" href="#implementation-13">Implementation <a href="#implementation-13" id="implementation-13"></a></a></h2>
<p>Through TransferAgent‚Äôs transfer function, user can specify token to be locked on source chain and receiver‚Äôs address on destination chain. According to <a href="#peggedpairconfig">pegged_pair_config.vault_version</a>, you should set different parameters communicating with TransferAgent contract.</p>
<h4 id="communicate-with-originaltokenvault-through-transferagent-contract"><a class="header" href="#communicate-with-originaltokenvault-through-transferagent-contract">Communicate with OriginalTokenVault through TransferAgent contract</a></h4>
<pre><code class="language-javascript">transferAgent!.transfer(
     receiverAddress /// Destination chain receiver address, could be any length.
     pegConfig.config.org_token.token.address /// Source chain token address
     value, /// Transfer amount
     destinationChainId, /// Destination Chain Id 
     nonce, /// Current timestamp
     0, /// Canonical token transfer doesn't require max slippage
     2, /// BridgeSendType.PegDeposit
        /// https://github.com/celer-network/sgn-v2-contracts/blob/
        /// c66326d458b9d34058ed960f610af69d8514716c/contracts/
        /// libraries/BridgeTransferLib.sol#L27
     [] /// Extensions are not required    
)
</code></pre>
<h4 id="communicate-with-originaltokenvaultv2-through-transferagent-contract"><a class="header" href="#communicate-with-originaltokenvaultv2-through-transferagent-contract">Communicate with OriginalTokenVaultV2 through TransferAgent contract</a></h4>
<pre><code class="language-javascript">transferAgent!.transfer(
     receiverAddress /// Destination chain receiver address, could be any length.
     pegConfig.config.org_token.token.address /// Source chain token address
     value, /// Transfer amount
     destinationChainId, /// Destination Chain Id 
     nonce, /// Current timestamp
     0, /// Canonical token transfer doesn't require max slippage
     4, /// BridgeSendType.PegV2Deposit
        /// https://github.com/celer-network/sgn-v2-contracts/blob/
        /// c66326d458b9d34058ed960f610af69d8514716c/contracts/
        /// libraries/BridgeTransferLib.sol#L27
     [] /// Extensions are not required    
)
</code></pre>
<h2 id="request-parameters-25"><a class="header" href="#request-parameters-26">Request Parameters <a href="#request-parameters-26" id="request-parameters-26"></a></a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>receiver_address</td><td>String</td><td>Receiver‚Äôs address on destination chain</td></tr>
<tr><td>token_address</td><td>String</td><td>Token address on source chain</td></tr>
<tr><td>amount</td><td>UInt256</td><td>Transfer amount on source chain</td></tr>
<tr><td>nonce</td><td>UInt64</td><td>Timestamp</td></tr>
<tr><td>max_slippage</td><td>UInt32</td><td><strong>Not required</strong></td></tr>
<tr><td>bridgeSendType</td><td><a href="https://github.com/celer-network/sgn-v2-contracts/blob/c66326d458b9d34058ed960f610af69d8514716c/contracts/libraries/BridgeTransferLib.sol#L24">BridgeSendType</a></td><td>Bridge Send Type</td></tr>
<tr><td>extensions</td><td>Array&lt;<a href="https://github.com/celer-network/sgn-v2-contracts/blob/c66326d458b9d34058ed960f610af69d8514716c/contracts/proxy/TransferAgent.sol#L19">Extension</a>&gt;</td><td><strong>Not required</strong></td></tr>
</tbody>
</table>
</div>
<h3 id="transferid-generation-9"><a class="header" href="#transferid-generation-10">TransferId Generation <a href="#transferid-generation-10" id="transferid-generation-10"></a></a></h3>
<p>When you submit on-chain mint transaction through TransferAgentContract, you can also generate a transfer id for future reference. For example, it is used for <a href="#gateway-gettransferstatus">getTransferStatus</a>. It should be the same as transferId inside on-chain transaction log. </p>
<h4 id="transfer-id-generation-with-originaltokenvault"><a class="header" href="#transfer-id-generation-with-originaltokenvault">Transfer Id Generation with OriginalTokenVault</a></h4>
<pre><code class="language-javascript">const mint_id = ethers.utils.solidityKeccak256(
     [
      "address",
      "address",
      "uint256", 
      "uint64",
      "address",
      "uint64", 
      "uint64",
     ], 
     [
      "...", /// TransferAgent contract address
      "...", /// Token address on source chain,
      "...", /// Mint amount in String 
      "12360001", /// Destination Chain Id
      "0x0000000000000000000000000000000000000000", /// Hardcoded address zero
      "...", /// Nonce
      "...", /// Source chain id
     ],
)
</code></pre>
<h4 id="transfer-id-generation-with-originaltokenvaultv2"><a class="header" href="#transfer-id-generation-with-originaltokenvaultv2">Transfer Id Generation with OriginalTokenVaultV2</a></h4>
<pre><code class="language-javascript"> const mint_id = ethers.utils.solidityKeccak256(
     [
      "address", 
      "address", 
      "uint256", 
      "uint64", 
      "address", 
      "uint64", 
      "uint64", 
      "address",
     ],
     [
      "...", /// TransferAgent contract address
      "...", /// Token address on source chain,
      "...", /// Mint amount in String 
      "12360001", /// Destination Chain Id
      "0x0000000000000000000000000000000000000000", /// Hardcoded address zero
      "...", /// Nonce
      "...", /// Source chain id
      "...", /// Original Token Vault V2 contract address on source chain
     ],
)
</code></pre>
<h2 id="response-9"><a class="header" href="#response-9">Response <a href="#request-parameters-1-4" id="request-parameters-1-4"></a></a></h2>
<p>Since this function is an on-chain transaction, the response is the corresponding transaction response.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="contract-transferagent-burn-token-submission"><a class="header" href="#contract-transferagent-burn-token-submission">Contract: TransferAgent Burn Token Submission</a></h1>
<blockquote>
<p><strong>Note:</strong>
TransferAgent transfer is not recommended if receiver‚Äôs wallet address is no more than 20 bytes</p>
</blockquote>
<h2 id="implementation-14"><a class="header" href="#implementation-15">Implementation <a href="#implementation-15" id="implementation-15"></a></a></h2>
<p>Through TransferAgent‚Äôs transfer function, user can burn token on source chain and unlock user‚Äôs assets on destination chain. According to <a href="#peggedpairconfig">pegged_pair_config.bridge_version</a>, you should set different parameters communicating with TransferAgent contract.</p>
<h4 id="communicate-with-peggedtokenbridge-through-transferagent-contract"><a class="header" href="#communicate-with-peggedtokenbridge-through-transferagent-contract">Communicate with PeggedTokenBridge through TransferAgent contract</a></h4>
<pre><code class="language-javascript">transferAgent!.transfer(
     receiverAddress /// Destination chain receiver address, could be any length.
     pegConfig.config.org_token.token.address /// Source chain token address
     value, /// Transfer amount
     destinationChainId, /// Destination Chain Id 
     nonce, /// Current timestamp
     0, /// Canonical token transfer doesn't require max slippage
     3, /// BridgeSendType.PegBurn
        /// https://github.com/celer-network/sgn-v2-contracts/blob/
        /// c66326d458b9d34058ed960f610af69d8514716c/contracts/
        /// libraries/BridgeTransferLib.sol#L27
     [] /// Extensions are not required
)
</code></pre>
<h4 id="communicate-with-peggedtokenbridgev2-through-transferagent-contract"><a class="header" href="#communicate-with-peggedtokenbridgev2-through-transferagent-contract">Communicate with PeggedTokenBridgeV2 through TransferAgent contract</a></h4>
<pre><code class="language-javascript">transferAgent!.transfer(
     receiverAddress /// Destination chain receiver address, could be any length.
     pegConfig.config.org_token.token.address /// Source chain token address
     value, /// Transfer amount
     destinationChainId, /// Destination Chain Id 
     nonce, /// Current timestamp
     0, /// Canonical token transfer doesn't require max slippage
     5, /// BridgeSendType.PegBurn
        /// https://github.com/celer-network/sgn-v2-contracts/blob/
        /// c66326d458b9d34058ed960f610af69d8514716c/contracts/
        /// libraries/BridgeTransferLib.sol#L27
     [] /// Extensions are not required
)
</code></pre>
<h2 id="request-parameters-27"><a class="header" href="#request-parameters-28">Request Parameters <a href="#request-parameters-28" id="request-parameters-28"></a></a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>receiver_address</td><td>String</td><td>Receiver‚Äôs address on destination chain</td></tr>
<tr><td>token_address</td><td>String</td><td>Token address on source chain</td></tr>
<tr><td>amount</td><td>UInt256</td><td>Transfer amount on source chain</td></tr>
<tr><td>nonce</td><td>UInt64</td><td>Timestamp</td></tr>
<tr><td>max_slippage</td><td>UInt32</td><td><strong>Not required</strong></td></tr>
<tr><td>bridgeSendType</td><td><a href="https://github.com/celer-network/sgn-v2-contracts/blob/c66326d458b9d34058ed960f610af69d8514716c/contracts/libraries/BridgeTransferLib.sol#L24">BridgeSendType</a></td><td>Bridge Send Type</td></tr>
<tr><td>extensions</td><td>Array&lt;<a href="https://github.com/celer-network/sgn-v2-contracts/blob/c66326d458b9d34058ed960f610af69d8514716c/contracts/proxy/TransferAgent.sol#L19">Extension</a>&gt;</td><td><strong>Not required</strong></td></tr>
</tbody>
</table>
</div>
<h3 id="transferid-generation-11"><a class="header" href="#transferid-generation-12">TransferId Generation <a href="#transferid-generation-12" id="transferid-generation-12"></a></a></h3>
<p>When you submit on-chain mint transaction through TransferAgentContract, you can also generate a transfer id for future reference. For example, it is used for <a href="#gateway-gettransferstatus">getTransferStatus</a>. It should be the same as transferId inside on-chain transaction log. </p>
<h4 id="transfer-id-generation-with-peggedtokenbridge"><a class="header" href="#transfer-id-generation-with-peggedtokenbridge">Transfer Id Generation with PeggedTokenBridge</a></h4>
<pre><code class="language-javascript">const burn_id = ethers.utils.solidityKeccak256(
     [
      "address",
      "address",
      "uint256", 
      "uint64",
      "address",
      "uint64", 
      "uint64",
     ], 
     [
      "...", /// TransferAgent contract address
      "...", /// Token address on source chain,
      "...", /// Mint amount in String 
      "12360001", /// Destination Chain Id
      "0x0000000000000000000000000000000000000000", /// Hardcoded address zero
      "...", /// Nonce
      "...", /// Source chain id
     ],
)
</code></pre>
<h4 id="transfer-id-generation-with-peggedtokenbridgev2"><a class="header" href="#transfer-id-generation-with-peggedtokenbridgev2">Transfer Id Generation with PeggedTokenBridgeV2</a></h4>
<pre><code class="language-javascript">const burn_id = ethers.utils.solidityKeccak256(
     [
      "address",
      "address",
      "uint256", 
      "uint64",
      "address",
      "uint64", 
      "uint64",
     ], 
     [
      "...", /// TransferAgent contract address
      "...", /// Token address on source chain,
      "...", /// Mint amount in String 
      "12360001", /// Destination Chain Id
      "0x0000000000000000000000000000000000000000", /// Hardcoded address zero
      "...", /// Nonce
      "...", /// Source chain id
      "...", /// Pegged Token Bridge V2 contract address on source chain
     ],
)
</code></pre>
<h2 id="response-10"><a class="header" href="#response-10">Response <a href="#request-parameters-1-5" id="request-parameters-1-5"></a></a></h2>
<p>Since this function is an on-chain transaction, the response is the corresponding transaction response.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="contract-aptos-vault-mint-token-submission"><a class="header" href="#contract-aptos-vault-mint-token-submission">Contract: Aptos Vault Mint Token Submission</a></h1>
<h2 id="implementation-16"><a class="header" href="#implementation-17">Implementation <a href="#implementation-17" id="implementation-17"></a></a></h2>
<p>You will generate Aptos transaction payload and submit it on-chain</p>
<pre><code class="language-javascript">const mintTransactionPayload = {
    arguments: [
      amount, /// Mint token amount with decimal
      destinationChainId.toString(), /// Destination chain id
      Array.from(ethers.utils.arrayify(RECEIVER_ADDRESS)), /// Destination receiver address bytes
      nonce /// timestamp
    ],
    function: `0x${VAULT_CONTRACT_ADDRESS}::vault::deposit`,
    type: 'entry_function_payload',
    type_arguments: [MINT_TOKEN_ADDRESS], /// Mint token address
  };
</code></pre>
<h2 id="request-parameters-29"><a class="header" href="#request-parameters-30">Request Parameters <a href="#request-parameters-30" id="request-parameters-30"></a></a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>amount</td><td>u64</td><td>Mint token amount</td></tr>
<tr><td>mint_chain_id</td><td>u64</td><td>Destination chain id</td></tr>
<tr><td>mint_addr</td><td>vector&lt;U8&gt;</td><td>Destination receiver address bytes</td></tr>
<tr><td>nonce</td><td>u64</td><td>Timestamp</td></tr>
</tbody>
</table>
</div>
<h3 id="transferid-generation-13"><a class="header" href="#transferid-generation-14">TransferId Generation <a href="#transferid-generation-14" id="transferid-generation-14"></a></a></h3>
<pre><code class="language-javascript">import { ethers } from "ethers";

const receiverAddressWithout0x = "..." /// Receiver address on destination chain
const transferId = ethers.utils.solidityKeccak256(
    [
      "bytes32", 
      "string", 
      "uint64", 
      "uint64", 
      `bytes${Math.floor(receiverAddressWithout0x.length / 2)}`, 
      "uint64", 
      "uint64", 
      "bytes32", 
      "string"
    ],
    [
      "...", /// Aptos wallet address as sender, 32-byte hexString
      "..." /// Aptos token address
      "...", /// Transfer amount
      "...", /// Destination chain id
      `0x${receiverAddressWithout0x}`, /// Receiver address which length may vary based on different chains
      "...", /// Nonce
      "12360001", /// Source chain id
      `0x${this.contractAddress}`, /// Aptos contract address, 32-byte hexString
      "vault", /// hardcoded message 
    ],
);
</code></pre>
<h2 id="response-11"><a class="header" href="#response-11">Response <a href="#request-parameters-1-6" id="request-parameters-1-6"></a></a></h2>
<p>Since this function is an on-chain transaction, the response is the corresponding transaction response</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="contract-aptos-pegbridge-burn-token-submission"><a class="header" href="#contract-aptos-pegbridge-burn-token-submission">Contract: Aptos PegBridge Burn Token Submission</a></h1>
<h2 id="implementation-18"><a class="header" href="#implementation-19">Implementation <a href="#implementation-19" id="implementation-19"></a></a></h2>
<p>You will generate Aptos transaction payload and submit it on-chain</p>
<pre><code class="language-javascript">const burnTransactionPayload = {
    arguments: [
      amount, /// Burn token amount with decimal
      destinationChainId.toString(), /// Destination chain id
      Array.from(ethers.utils.arrayify(RECEIVER_ADDRESS)), /// Destination receiver address bytes
      nonce /// timestamp
    ],
    function: `0x${PEGGED_BRIDGE_CONTRACT_ADDRESS}::peg_bridge::burn`,
    type: 'entry_function_payload',
    type_arguments: [BURN_TOKEN_ADDRESS], /// burn token address
  };
</code></pre>
<h2 id="request-parameters-31"><a class="header" href="#request-parameters-32">Request Parameters <a href="#request-parameters-32" id="request-parameters-32"></a></a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>amount</td><td>u64</td><td>Burn token amount</td></tr>
<tr><td>to_chain_id</td><td>u64</td><td>Destination chain id</td></tr>
<tr><td>to_addr</td><td>vector&lt;U8&gt;</td><td>Destination receiver address bytes</td></tr>
<tr><td>nonce</td><td>u64</td><td>Timestamp</td></tr>
</tbody>
</table>
</div>
<h3 id="transferid-generation-15"><a class="header" href="#transferid-generation-16">TransferId Generation <a href="#transferid-generation-16" id="transferid-generation-16"></a></a></h3>
<p>Since Aptos uses Big-Endian, you may use BCS provided by Aptos to get serialized data.</p>
<pre><code class="language-javascript">import { ethers } from "ethers";

const receiverAddressWithout0x = "..." /// Receiver address on destination chain
const transferId = ethers.utils.solidityKeccak256(
    [
      "bytes32", 
      "string", 
      "uint64", 
      "uint64", 
      `bytes${Math.floor(receiverAddressWithout0x.length / 2)}`, 
      "uint64", 
      "uint64", 
      "bytes32", 
      "string"
    ],
    [
      "...", /// Aptos wallet address as sender, 32-byte hexString
      "..." /// Aptos token address
      "...", /// Transfer amount
      "...", /// Destination chain id
      `0x${receiverAddressWithout0x}`, /// Receiver address which length may vary based on different chains
      "...", /// Nonce
      "12360001", /// Source chain id
      `0x${this.contractAddress}`, /// Aptos contract address, 32-byte hexString
      "peg_bridge", /// hardcoded message 
    ],
);
</code></pre>
<h2 id="response-12"><a class="header" href="#response-12">Response <a href="#request-parameters-1-7" id="request-parameters-1-7"></a></a></h2>
<p>Since this function is an on-chain transaction, the response is the corresponding transaction response.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>Besides asset bridging, cBridge also supports the cross-chain transfer of NFTs by leveraging <a href="https://im-docs.celer.network/developer/celer-im-overview">Celer IM framework</a>. Specifically, cBridge supports the two types of NFT bridges: pegged NFT bridge and multi-chain native (MCN) NFT bridge. In the following sections, we describe how each bridge mode works.</p>
<h2 id="pegged-nft-bridge"><a class="header" href="#pegged-nft-bridge">Pegged NFT Bridge</a></h2>
<p>Pegged NFT Bridge. This applies to existing NFTs that have an origin chain. The bridge works by creating a ‚Äúcopy‚Äù of the original NFT that is pegged to the original NFT. In particular, the bridge process follows the ‚Äúlock-and-mint‚Äù, ‚Äúburn-and-release‚Äù, and ‚Äúburn-and-mint‚Äù patterns. </p>
<ul>
<li><strong>Lock-and-Mint</strong>. When an NFT is transferred from the origin chain to a remote chain, the original NFT is first locked in the smart contract on the origin chain. Then a pegged NFT is minted on the remote chain.</li>
<li><strong>Burn-and-Release</strong>. When an NFT is transferred from the remote chain to the origin chain, the pegged NFT is first burned on the remote chain. Then the original NFT is released on the origin chain.</li>
<li><strong>Burn-and-Mint</strong>. When an NFT is transferred from remote chain A to another remote chain B, the pegged NFT is first burned on the remote chain A. Then a new pegged NFT is minted on the remote chain B. This new pegged NFT may be further transferred back to the origin chain and release the original NFT.</li>
</ul>
<h2 id="multi-chain-native-mcn-nft-bridge"><a class="header" href="#multi-chain-native-mcn-nft-bridge">Multi-Chain Native (MCN) NFT Bridge</a></h2>
<p>Different from the pegged bridge mode, an MCN NFT does not have the notion of ‚Äúorigin chain‚Äù or ‚Äúoriginal NFT‚Äù. When transferring an MCN NFT from chain A to chain B, the only pattern is ‚ÄúBurn-and-Mint‚Äù where the NFT is burned on chain A and then minted on chain B, so that there is always one NFT across all chains. By comparison, the pegged NFT bridge always has an original NFT and a pegged NFT.</p>
<p>It should be noted that the MCN NFT bridge only applies to newly deployed NFT tokens that follow <a href="https://github.com/celer-network/nft-bridge-contracts/blob/main/contracts/MCNNFT.sol">this template</a>. You can follow <a href="https://github.com/celer-network/nft-bridge-contracts">this Github repo</a> to deploy your own MCN NFT contract. Note that the cross-chain function is built into the MCN NFT token contract so that the NFT can be transferred across chains even without an frontend. To transfer an MCN NFT across chains, simply call the <strong><code>crossChain</code></strong> function with the token ID, your destination chain ID and the receiver address. Note that the <strong><code>crossChain</code></strong> function is a payable function and some native gas tokens need to be enclosed with the function call. The payable value is used to cover <a href="#nft-bridge-fee">the fees of NFT bridging</a> and can be queried from the <strong><code>totalFee</code></strong> function in the MCN NFT contract.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="nft-bridge-fee"><a class="header" href="#nft-bridge-fee">NFT Bridge Fee</a></h1>
<p>The NFT bridge fee is charged in the native gas token when making the bridging function call. The NFT bridge fee includes two parts:</p>
<ul>
<li><strong>Base Fee</strong>: used to cover the gas cost for minting the NFT on the destination chain.</li>
<li><strong>Msg Passing Fee</strong>: paid to Celer IM framework for relaying the msg across chains. The fee is proportional to the msg size sent across chains. For NFT bridges, the msg size depends on the NFT token address, the token ID and the token URI length. The msg passing fee is usually tiny for NFT bridges.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="simple-listing-process"><a class="header" href="#simple-listing-process">Simple Listing Process</a></h1>
<p>If you are interested in a white-glove support of your tokens to all cBridge supported networks, please fill out the following forms:</p>
<ul>
<li><a href="https://form.typeform.com/to/RWC0Ihge?typeform-source=linktr.ee">Fungible token listing form</a></li>
<li><a href="https://form.typeform.com/to/r8dLWXcH">NFT token listing form</a></li>
</ul>
<p>A simple governance process will be done to list your tokens. </p>
<h2 id=""><a class="header" href="#"></a></h2>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="faq"><a class="header" href="#faq">FAQ</a></h1>
<blockquote>
<p><strong>Note:</strong>
Didn‚Äôt find an answer? Join the <a href="https://discord.gg/Trhab5w">community Discord</a> or <a href="https://t.me/celernetwork">Telegram</a> to get support.</p>
</blockquote>
<h3 id="bridge-fee"><a class="header" href="#bridge-fee">Bridge Fee</a></h3>
<h4 id="how-is-the-bridge-fee-calculated"><a class="header" href="#how-is-the-bridge-fee-calculated">How is the bridge fee calculated?</a></h4>
<p>Celer cBridge offers two bridging models, xAsset and xLiquidity, with their respective fee models.</p>
<p>For xAsset (a canonical mapping bridge), <em><strong>Bridge Fee =  Base Fee + Protocol Fee</strong></em>, where <strong>Protocol Fee</strong> ranges from 0% to 2%.</p>
<p>For xLiquidity (a pool-based bridge), <em><strong>Bridge Fee = Base Fee + Protocol Fee</strong></em><strong>,</strong> where <strong>Protocol Fee</strong> ranges from 0% to 2%. The protocol fee percentage depends on the source chain, destination chain and the token amount transferred. Note that the protocol fee percentage may be higher if the transfer results in pool liquidity imbalance.</p>
<p>The <strong>Base Fee</strong> is paid in the form of the tokens being transferred, and covers the destination-chain gas cost for sending the tokens to the user.<br><br>For more details of xAsset and xLiquidity, please check: <a href="https://cbridge-docs.celer.network/introduction/fungible-token-bridging-models">https://cbridge-docs.celer.network/introduction/fungible-token-bridging-models</a></p>
<h3 id="bridge-rate"><a class="header" href="#bridge-rate">Bridge Rate</a></h3>
<h4 id="how-is-the-bridge-rate-calculated"><a class="header" href="#how-is-the-bridge-rate-calculated"><strong>How is the bridge rate calculated?</strong></a></h4>
<p>Celer cBridge offers two bridging models, xAsset and xLiquidity, with their respective Bridge Rate models.</p>
<p>For xAsset (a canonical mapping bridge), the bridge rate is always 1 as the tokens minted on the destination chain are pegged to the tokens locked on the source chain.</p>
<p>For xLiquidity (a pool-based bridge), in most cases, the bridge employs a <a href="https://curve.fi/files/stableswap-paper.pdf">StableSwap AMM curve</a> to calculate the bridge rate which makes sure the bridge rate is always close to or at 1 unless there is significant liquidity imbalance between the two pools. A transfer rebalancing two pools can benefit from the StableSwap AMM curve and result in more tokens after bridging.<br><br>For some bridge pairs, the StableSwap AMM curve is not used and the bridge rate is set to be a fixed 1:1.<br><br>For more details of xAsset and xLiquidity, please check: <a href="https://cbridge-docs.celer.network/introduction/fungible-token-bridging-models">https://cbridge-docs.celer.network/introduction/fungible-token-bridging-models</a></p>
<h3 id="contract-addresses"><a class="header" href="#contract-addresses">Contract Addresses</a></h3>
<h4 id="where-can-i-find-the-contract-addresses-used-in-cbridge"><a class="header" href="#where-can-i-find-the-contract-addresses-used-in-cbridge">Where can I find the contract addresses used in cBridge?</a></h4>
<p>Please refer to <a href="https://cbridge-docs.celer.network/reference/contract-addresses#contract-address">this page</a> for the list of contract addresses used in cBridge.</p>
<h4 id="what-are-the-token-addresses-on-different-chains"><a class="header" href="#what-are-the-token-addresses-on-different-chains">What are the token addresses on different chains?</a></h4>
<p>Please refer to <a href="https://cbridge-analytics.celer.network/assets">this page</a> for the list of token addresses on different chains.</p>
<h3 id="user-operations"><a class="header" href="#user-operations">User Operations</a></h3>
<h4 id="how-long-does-it-take-to-complete-a-cross-chain-transfer"><a class="header" href="#how-long-does-it-take-to-complete-a-cross-chain-transfer"><strong>How long does it take to complete a cross-chain transfer?</strong></a></h4>
<p>Most of the cross-chain transfers take 5-20 minutes to complete. There are rate limit measures in place to mitigate security risks on cBridge, and transfers larger than a certain amount will need additional time to go through.</p>
<h4 id="my-cross-chain-transfer-has-been-stuck-for-more-than-30-minutes-what-should-i-do"><a class="header" href="#my-cross-chain-transfer-has-been-stuck-for-more-than-30-minutes-what-should-i-do">My cross-chain transfer has been stuck for more than 30 minutes. What should I do?</a></h4>
<p>If your transfer is stuck in the ‚ÄúSubmitting‚Äù status, please check if your transfer has been confirmed on the source chain. If the transfer is not yet confirmed on the source chain, you can speed up the transfer by increasing your gas price; otherwise, feel free to contact <a href="https://form.typeform.com/to/Q4LMjUaK?typeform-source=cbridge.celer.network">customer support</a>, be sure to have your transaction hash on the source chain available.</p>
<p>If your transfer is stuck in the ‚ÄúWaiting for SGN confirmation‚Äù or ‚ÄúWaiting for fund release‚Äù status, please wait for at least two additional hours since cBridge uses rate limits to mitigate security risks and it may take some time to clear the backlog when the traffic is heavy. If your transfer has been stuck for more than 3 hours, feel free to contact <a href="https://form.typeform.com/to/Q4LMjUaK?typeform-source=cbridge.celer.network">customer support</a> along with your transaction hash on the source chain.</p>
<h4 id="my-transfer-shows-completed-status-but-i-didnt-see-it-in-metamask-what-should-i-do"><a class="header" href="#my-transfer-shows-completed-status-but-i-didnt-see-it-in-metamask-what-should-i-do">My transfer shows ‚ÄúCompleted‚Äù status but I didn‚Äôt see it in Metamask. What should I do?</a></h4>
<p>This occurs because the token hasn‚Äôt been added to your Metamask wallet on the destination chain. Please click the Metamask icon on the transfer history item and you will be guided to add the token to Metamask.</p>
<p><img src="https://get.celer.app/cbridge-v2-img/history-faq.jpg" alt=""></p>
<h3 id="lp-operations"><a class="header" href="#lp-operations">LP Operations</a></h3>
<h4 id="is-there-any-risk-involved-with-providing-liquidity-on-cbridge"><a class="header" href="#is-there-any-risk-involved-with-providing-liquidity-on-cbridge">Is there any risk involved with providing liquidity on cBridge?</a></h4>
<p>Providing liquidity on cBridge is not risk-free. Your liquidity may lose value if there is a significant liquidity imbalance between chains. This is similar to <strong>Impermanent Loss</strong> in AMMs.</p>
<ul>
<li>For example, suppose an LP provides 50,000 USDT on Ethereum as liquidity. A user tries to make a cross-chain transfer of 10,000 USDT from BNB Chain to Ethereum. At the time of this transfer, the total USDT liquidity on BNB Chain is significantly lower than that on Ethereum, and thus the bridge rate for a USDT BNB Chain -&gt; Ethereum transfer is 1.001:1. If the LP‚Äôs liquidity is used to bridge this entire transfer, the LP will receive 10,000 USDT on BNB Chain but will send out 10,010 USDT on Ethereum to the user. As a result, an impermanent loss of 10 USDT is incurred to the LP. In the long term, the impermanent loss may be recovered as users make transfers of reverse directions.</li>
</ul>
<p>In most cases, the bridge rate is close to 1 under the <a href="https://curve.fi/files/stableswap-paper.pdf">StableSwap AMM curve</a> and the deviation of pricing is almost always smaller than the fee charged so the impermanent loss only happens when there is an extreme liquidity imbalance between chains.</p>
<h4 id="why-is-my-liquidity-distribution-on-each-chain-different-from-when-i-initially-supplied-liquidity"><a class="header" href="#why-is-my-liquidity-distribution-on-each-chain-different-from-when-i-initially-supplied-liquidity"><strong>Why is my liquidity distribution on each chain different from when I initially supplied liquidity</strong>?</a></h4>
<p>When you supply liquidity on cBridge, your liquidity may be moved around to different chains as users make cross-chain transfers with your liquidity. For example, if you initially provided 10,000 USDT on BNB Chain, and a user makes a cross-chain transfer of 2000 USDT from Polygon to BNB Chain using your liquidity, then your liquidity distribution becomes 8,000 USDT on BNB Chain and 2,000 USDT on Polygon.</p>
<h4 id="how-is-the-lp-fee-earning-apy-calculated"><a class="header" href="#how-is-the-lp-fee-earning-apy-calculated"><strong>How is the LP Fee Earning APY calculated</strong>?</a></h4>
<p>The LP Fee Earning APY is estimated as:</p>
<p>$$
fee_APY=\Big(1+\frac{last_24_ hr_fee}{total_liquidity}\Big)^{365}-1
$$</p>
<p>The displayed LP Fee Earning APY is a 7-day median given the above formula.</p>
<p> </p>
<h3 id="liquidity-mining"><a class="header" href="#liquidity-mining">Liquidity Mining</a></h3>
<h4 id="how-can-i-enroll-in-liquidity-mining"><a class="header" href="#how-can-i-enroll-in-liquidity-mining"><strong>How can I enroll in liquidity mining</strong>?</a></h4>
<p>On the ‚ÄúLiquidity‚Äù page, you will see a green ‚ÄúFarming‚Äù mark if there is an active liquidity mining session for a token pool on a specific chain. Your liquidity in that token pool will be automatically enrolled in the liquidity mining session and yield farming rewards with no manual staking required.</p>
<p><img src="https://get.celer.app/cbridge-v2-img/farming-faq.jpg" alt=""></p>
<p><strong>Please Note:</strong> Your liquidity may be moved around to different chains as users make cross-chain transfers with your liquidity. As a result, your enrolled liquidity in each mining session might change as well. For example, suppose there are two mining sessions, one for the USDT pool on BNB Chain, with an APY of 50%; the other is for the USDT pool on Polygon, with an APY of 30%. Initially, you added 1,000 USDT liquidity to BNB Chain targeting the 50% APY.</p>
<p>Later, as users conduct cross-chain transfers, your liquidity distribution becomes 600 USDT on BNB Chain and 400 USDT on Polygon. In this case, the 600 USDT will automatically enroll in the 50% APY mining session and 400 USDT will enroll in the 30% APY mining session. A strategy for LPs to maximize their farming yield is to rebalance the liquidity across different chains themselves.</p>
<h3 id="the-sgn--celr-token"><a class="header" href="#the-sgn--celr-token">The SGN &amp; CELR token</a></h3>
<h4 id="what-is-the-sgn-how-is-the-sgn-related-to-cbridge-v2"><a class="header" href="#what-is-the-sgn-how-is-the-sgn-related-to-cbridge-v2"><strong>What is the SGN? How is the SGN related to cBridge v2</strong>?</a></h4>
<p>The Celer State Guardian Network (SGN) has been an essential part of Celer Network‚Äôs architecture. The SGN is a specialized Proof-of-Stake (PoS) chain that serves the purposes of monitoring L1 transactions related to L2 state and faithfully passing layer-2 information back to layer-1 when needed.</p>
<p>In cBridge, the SGN serves multiple roles:</p>
<ol>
<li>The SGN serves as a shared liquidity pool manager that provides PoS-level security and decentralized governance for cBridge.</li>
<li>The SGN serves as a cBridge node gateway that oversees cBridge node selection and scheduling.</li>
<li>The SGN serves as a cBridge node Service Level Agreement (SLA) arbitrator that guarantees the Quality of Service of cBridge nodes.</li>
</ol>
<p>For additional details about the SGN and cBridge, please refer to this architecture introduction and its child pages.</p>
<h4 id="where-can-i-stake-celr-tokens"><a class="header" href="#where-can-i-stake-celr-tokens"><strong>Where can I stake CELR tokens</strong>?</a></h4>
<p>CELR holders can stake their tokens into the State Guardian Network (https://sgn.celer.network/) by becoming a validator and actively provide services for Celer Network products (e.g., Celer Inter-chain Messaging Framework, Celer cBridge, Layer2.Finance), or through delegation.</p>
<p>CELR stakers in the SGN can receive staking rewards and fee rewards from cBridge and other Celer products for their active block-producing services and the crypto-economic security that they provide.</p>
<h4 id="how-is-the-value-of-cbridge-captured"><a class="header" href="#how-is-the-value-of-cbridge-captured">How is the value of cBridge captured?</a></h4>
<p>Unlike many other protocol tokens where holders do not take on active duty of the protocol‚Äôs daily functions, CELR token stakers and validators are indispensable in the smooth operation of cBridge via the SGN‚Äôs new extension.</p>
<p>Specifically, users and LPs in cBridge are required to pay fees to the SGN in return for its services, which are similar to fees paid for validators on any other PoS blockchain. These fees are distributed to the CELR stakers of the SGN nodes that generate a block.</p>
<p>There are also a number of system parameters and configurations that require governance-based updates and tuning to ensure the smooth and continuous operation of the system. CELR will also be acting as a governance token for this new component in Celer‚Äôs ecosystem.</p>
<h4 id="what-is-the-difference-between-validator-and-delegator-in-the-sgn"><a class="header" href="#what-is-the-difference-between-validator-and-delegator-in-the-sgn"><strong>What is the difference between validator and delegator in the SGN</strong>?</a></h4>
<p>Validators need to run a full node in the SGN (a Proof-of-Stake chain) while delegators do not. A delegator can stake their CELR tokens with a validator to earn staking rewards. In return, the validator will take a portion of the delegator‚Äôs staking rewards as a commission.</p>
<h4 id="what-is-the-commission-rate-in-the-sgn"><a class="header" href="#what-is-the-commission-rate-in-the-sgn"><strong>What is the commission rate in the SGN</strong>?</a></h4>
<p>When a delegator stakes their CELR with a validator, a portion of the yielded staking rewards will be taken by the validator as a commission. For example, if the commission rate of a validator is 15% and you have delegated 10,000 CELR with this validator, 15% of the total staking rewards yielded by your 10,000 CELR will be taken by the validator as incentives, resulting in a remaining 85% of your staking rewards that you can claim.</p>
<p><strong>How are cBridge fee earnings split in the xLiquidity model between the SGN and cBridge LPs?</strong></p>
<p>In our xLiquidity (the pool-based bridge model), 50% of the fee earnings go to SGN delegators and stakers, and the other 50% goes to cBridge LPs whose liquidity is used in the cross-chain transfers that generate the earnings.</p>
<h3 id="new-chains-and-new-tokens"><a class="header" href="#new-chains-and-new-tokens">New Chains and New Tokens</a></h3>
<h4 id="how-does-cbridge-add-new-tokens"><a class="header" href="#how-does-cbridge-add-new-tokens">How does cBridge add new tokens? </a></h4>
<p>You can add any token by implementing a simple token bridge with Celer Inter-chain Message framework. Or you can propose to add your token to Celer cBridge through the governance process by submitting proposals here: </p>
<ul>
<li><a href="https://form.typeform.com/to/RWC0Ihge?typeform-source=linktr.ee">Fungible token listing proposal</a></li>
<li><a href="https://form.typeform.com/to/r8dLWXcH">NFT token listing proposal</a></li>
<li><a href="https://forum.celer.network/">Celer Network forum</a></li>
</ul>
<h4 id="how-does-cbridge-add-new-chains"><a class="header" href="#how-does-cbridge-add-new-chains">How does cBridge add new chains?</a></h4>
<p>New chains are added when the required smart contracts of Celer Network and cBridge are deployed and a governance proposal is passed by a validator quorum to support this new chain. </p>
<h4 id="how-cbridge-handles-a-major-chain-upgrade"><a class="header" href="#how-cbridge-handles-a-major-chain-upgrade">How cBridge handles a major chain upgrade?</a></h4>
<p>When an already supported chain go through any major consensus upgrade, Celer validators will execute Major Chain Upgrade Procedure by pausing cBridge functionality on all chains during such upgrade that has exposure to this chain‚Äôs liquidity and asset. </p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="audit-reports"><a class="header" href="#audit-reports">Audit Reports</a></h1>
<h2 id="smart-contract-audits-1"><a class="header" href="#smart-contract-audits-1">Smart contract audits</a></h2>
<p>Open-source code: <a href="https://github.com/celer-network/sgn-v2-contracts/">https://github.com/celer-network/sgn-v2-contracts/</a></p>
<p>CertiK reports: <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/audit/CertiK_sgn_cbridge.pdf">liquidity bridge</a></p>
<p>PeckShield Report: <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/audit/PeckShield_sgn_cbridge.pdf">liquidity bridge</a>, <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/audit/PeckShield_pegged.pdf">canonical bridge</a></p>
<p>SlowMist Report: <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/audit/SlowMist_sgn_cbridge.pdf">liquidity bridge</a>, <a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/audit/SlowMist_pegged.pdf">canonical bridge</a></p>
<h2 id="validator-nodes-audits"><a class="header" href="#validator-nodes-audits">Validator nodes audits</a></h2>
<p>In progress.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="contract-addresses-1"><a class="header" href="#contract-addresses-1">Contract Addresses</a></h1>
<h2 id="contract-address"><a class="header" href="#contract-address">Contract Address</a></h2>
<h3 id="bridge-contract-pool-based-bridge"><a class="header" href="#bridge-contract-pool-based-bridge">Bridge Contract (pool-based bridge)</a></h3>
<table data-header-hidden="">
<thead>
<tr><th width="216"></th><th></th></tr>
</thead>
<tbody>
<tr><td>Ape Chain</td><td><a href="https://www.google.com/url?q=https://explorer.bas.metaapesgame.com/address/0x9B36f165baB9ebe611d491180418d8De4b8f3a1f&amp;sa=D&amp;source=editors&amp;ust=1684486355654308&amp;usg=AOvVaw0UvaloscisRtFjnZLvRXN8">0x9B36f165baB9ebe611d491180418d8De4b8f3a1f</a></td></tr>
<tr><td>Arbitrum Nova</td><td><a href="https://www.google.com/url?q=https://nova-explorer.arbitrum.io/address/0xb3833Ecd19D4Ff964fA7bc3f8aC070ad5e360E56&amp;sa=D&amp;source=editors&amp;ust=1684486355654550&amp;usg=AOvVaw2PS7hti5MpHLA31Pt6FpiD">0xb3833Ecd19D4Ff964fA7bc3f8aC070ad5e360E56</a></td></tr>
<tr><td>Arbitrum One</td><td><a href="https://www.google.com/url?q=https://arbiscan.io/address/0x1619DE6B6B20eD217a58d00f37B9d47C7663feca&amp;sa=D&amp;source=editors&amp;ust=1684486355654667&amp;usg=AOvVaw2CobIeuzUuDsWesRIE87AQ">0x1619DE6B6B20eD217a58d00f37B9d47C7663feca</a></td></tr>
<tr><td>Astar</td><td><a href="https://www.google.com/url?q=https://blockscout.com/astar/address/0x841ce48F9446C8E281D3F1444cB859b4A6D0738C&amp;sa=D&amp;source=editors&amp;ust=1684486355654789&amp;usg=AOvVaw1ZgcmRmp5grgPgkEkWWCgd">0x841ce48F9446C8E281D3F1444cB859b4A6D0738C</a></td></tr>
<tr><td>Aurora</td><td><a href="https://www.google.com/url?q=https://explorer.mainnet.aurora.dev/address/0x841ce48F9446C8E281D3F1444cB859b4A6D0738C&amp;sa=D&amp;source=editors&amp;ust=1684486355654981&amp;usg=AOvVaw2XUDnucStu12pV7ldXXA1M">0x841ce48F9446C8E281D3F1444cB859b4A6D0738C</a></td></tr>
<tr><td>Avalanche</td><td><a href="https://www.google.com/url?q=https://snowtrace.io/address/0xef3c714c9425a8F3697A9C969Dc1af30ba82e5d4&amp;sa=D&amp;source=editors&amp;ust=1684486355655124&amp;usg=AOvVaw3ggZHOqQnDcCGQLD3LyvSH">0xef3c714c9425a8F3697A9C969Dc1af30ba82e5d4</a></td></tr>
<tr><td>BNB Chain</td><td><a href="https://www.google.com/url?q=https://bscscan.com/address/0xdd90E5E87A2081Dcf0391920868eBc2FFB81a1aF&amp;sa=D&amp;source=editors&amp;ust=1684486355655285&amp;usg=AOvVaw1xpewyVFYXltcLekRt_-2C">0xdd90E5E87A2081Dcf0391920868eBc2FFB81a1aF</a></td></tr>
<tr><td>Boba Network</td><td><a href="https://www.google.com/url?q=https://blockexplorer.boba.network/address/0x841ce48F9446C8E281D3F1444cB859b4A6D0738C&amp;sa=D&amp;source=editors&amp;ust=1684486355655381&amp;usg=AOvVaw1JsCICcV5u56TtGpT4lwoF">0x841ce48F9446C8E281D3F1444cB859b4A6D0738C</a></td></tr>
<tr><td>Canto</td><td><a href="https://evm.explorer.canto.io/address/0xD46F8E428A06789B5884df54E029e738277388D1">0xD46F8E428A06789B5884df54E029e738277388D1</a></td></tr>
<tr><td>Conflux</td><td><a href="https://www.google.com/url?q=https://evm.confluxscan.net/address/0x841ce48F9446C8E281D3F1444cB859b4A6D0738C&amp;sa=D&amp;source=editors&amp;ust=1684486355655673&amp;usg=AOvVaw2jWkcW0l22b31EpWnwHISl">0x841ce48F9446C8E281D3F1444cB859b4A6D0738C</a></td></tr>
<tr><td>Ethereum Mainnet</td><td><a href="https://www.google.com/url?q=https://etherscan.io/address/0x5427FEFA711Eff984124bFBB1AB6fbf5E3DA1820&amp;sa=D&amp;source=editors&amp;ust=1684486355655818&amp;usg=AOvVaw0aCmxLrzSwEllF0B1bcJGR">0x5427FEFA711Eff984124bFBB1AB6fbf5E3DA1820</a></td></tr>
<tr><td>Evmos</td><td><a href="https://www.google.com/url?q=https://evm.evmos.org/address/0x5F52B9d1C0853da636e178169e6B426E4cCfA813&amp;sa=D&amp;source=editors&amp;ust=1684486355655893&amp;usg=AOvVaw33J4EfPJ3Se9JC_3aHLxwr">0x5F52B9d1C0853da636e178169e6B426E4cCfA813</a></td></tr>
<tr><td>Fantom</td><td><a href="https://www.google.com/url?q=https://ftmscan.com/address/0x374B8a9f3eC5eB2D97ECA84Ea27aCa45aa1C57EF&amp;sa=D&amp;source=editors&amp;ust=1684486355655962&amp;usg=AOvVaw3VYX6ds-2ypWiNfsA69FaD">0x374B8a9f3eC5eB2D97ECA84Ea27aCa45aa1C57EF</a></td></tr>
<tr><td>Gnosis Chain</td><td><a href="https://www.google.com/url?q=https://blockscout.com/xdai/mainnet/address/0x3795C36e7D12A8c252A20C5a7B455f7c57b60283&amp;sa=D&amp;source=editors&amp;ust=1684486355656166&amp;usg=AOvVaw2chJjyqRsC4_5Khnky3BS1">0x3795C36e7D12A8c252A20C5a7B455f7c57b60283</a></td></tr>
<tr><td>Harmony</td><td><a href="https://www.google.com/url?q=https://explorer.harmony.one/address/0x78a21C1D3ED53A82d4247b9Ee5bF001f4620Ceec&amp;sa=D&amp;source=editors&amp;ust=1684486355656243&amp;usg=AOvVaw2yHMWQwji83PS3nxvCvXWt">0x78a21C1D3ED53A82d4247b9Ee5bF001f4620Ceec</a></td></tr>
<tr><td>Kava EVM Co-Chain</td><td><a href="https://www.google.com/url?q=https://explorer.kava.io/address/0xb51541df05DE07be38dcfc4a80c05389A54502BB&amp;sa=D&amp;source=editors&amp;ust=1684486355656392&amp;usg=AOvVaw3LMv460IVifd9qPklxVKoz">0xb51541df05DE07be38dcfc4a80c05389A54502BB</a></td></tr>
<tr><td>Klaytn</td><td><a href="https://www.google.com/url?q=https://www.klaytnfinder.io/address/0x4C882ec256823eE773B25b414d36F92ef58a7c0C&amp;sa=D&amp;source=editors&amp;ust=1684486355656459&amp;usg=AOvVaw16223qZKG9N7EAIi5A9DVa">0x4C882ec256823eE773B25b414d36F92ef58a7c0C</a></td></tr>
<tr><td>Linea</td><td><a href="https://lineascan.build/address/0x9B36f165baB9ebe611d491180418d8De4b8f3a1f#code">0x9B36f165baB9ebe611d491180418d8De4b8f3a1f</a></td></tr>
<tr><td>Metis Mainnet</td><td><a href="https://www.google.com/url?q=https://andromeda-explorer.metis.io/address/0x841ce48F9446C8E281D3F1444cB859b4A6D0738C&amp;sa=D&amp;source=editors&amp;ust=1684486355656526&amp;usg=AOvVaw2d5cyfdntISqn7-b9o-a-B">0x841ce48F9446C8E281D3F1444cB859b4A6D0738C</a></td></tr>
<tr><td>Milkomeda Cardano</td><td><a href="https://www.google.com/url?q=https://explorer-mainnet-cardano-evm.c1.milkomeda.com/address/0x841ce48F9446C8E281D3F1444cB859b4A6D0738C&amp;sa=D&amp;source=editors&amp;ust=1684486355656616&amp;usg=AOvVaw17ZMv9HWGhomVamSGEZqWo">0x841ce48F9446C8E281D3F1444cB859b4A6D0738C</a></td></tr>
<tr><td>Moonbeam</td><td><a href="https://www.google.com/url?q=https://moonbeam.moonscan.io/address/0x841ce48F9446C8E281D3F1444cB859b4A6D0738C&amp;sa=D&amp;source=editors&amp;ust=1684486355656696&amp;usg=AOvVaw2Aof_Y4R0iDo4jUU8Che6U">0x841ce48F9446C8E281D3F1444cB859b4A6D0738C</a></td></tr>
<tr><td>Moonriver</td><td><a href="https://www.google.com/url?q=https://moonriver.moonscan.io/address/0x841ce48F9446C8E281D3F1444cB859b4A6D0738C&amp;sa=D&amp;source=editors&amp;ust=1684486355656768&amp;usg=AOvVaw1iYpdmI14Fm7l1Fr4pir6Z">0x841ce48F9446C8E281D3F1444cB859b4A6D0738C</a></td></tr>
<tr><td>Nervos Godwoken</td><td><a href="https://www.google.com/url?q=https://gw-mainnet-explorer.nervosdao.community/address/0x4C882ec256823eE773B25b414d36F92ef58a7c0C&amp;sa=D&amp;source=editors&amp;ust=1684486355656837&amp;usg=AOvVaw12OgvywyJKbTlE_Vjo0Bl7">0x4C882ec256823eE773B25b414d36F92ef58a7c0C</a></td></tr>
<tr><td>Oasis Emerald</td><td><a href="https://www.google.com/url?q=https://explorer.emerald.oasis.dev/address/0x841ce48F9446C8E281D3F1444cB859b4A6D0738C&amp;sa=D&amp;source=editors&amp;ust=1684486355656999&amp;usg=AOvVaw3C0CcsQSzFoOWGb5cnJk51">0x841ce48F9446C8E281D3F1444cB859b4A6D0738C</a></td></tr>
<tr><td>Oasys</td><td><a href="https://explorer.oasys.games/address/0x5200000000000000000000000000000000000015">0x5200000000000000000000000000000000000015</a></td></tr>
<tr><td>Optimism</td><td><a href="https://www.google.com/url?q=https://optimistic.etherscan.io/address/0x9D39Fc627A6d9d9F8C831c16995b209548cc3401&amp;sa=D&amp;source=editors&amp;ust=1684486355657145&amp;usg=AOvVaw3CyHKhQyGdI31ZAXMqFP8p">0x9D39Fc627A6d9d9F8C831c16995b209548cc3401</a></td></tr>
<tr><td>PlatON</td><td><a href="https://www.google.com/url?q=https://scan.platon.network/address/0xBf2B2757F0B2a2f70136C4A6627e99d8ec5cC7b9&amp;sa=D&amp;source=editors&amp;ust=1684486355657212&amp;usg=AOvVaw3nAjuYMFKqaq8C3uWfeWC_">0xBf2B2757F0B2a2f70136C4A6627e99d8ec5cC7b9</a></td></tr>
<tr><td>Polygon PoS</td><td><a href="https://www.google.com/url?q=https://polygonscan.com/address/0x88DCDC47D2f83a99CF0000FDF667A468bB958a78&amp;sa=D&amp;source=editors&amp;ust=1684486355657290&amp;usg=AOvVaw1YdMQx80H5WycPNe2nrQ5x">0x88DCDC47D2f83a99CF0000FDF667A468bB958a78</a></td></tr>
<tr><td>Polygon zkEVM</td><td><a href="https://zkevm.polygonscan.com/address/0xD46F8E428A06789B5884df54E029e738277388D1">0xD46F8E428A06789B5884df54E029e738277388D1</a></td></tr>
<tr><td>SX Network</td><td><a href="https://www.google.com/url?q=https://explorer.sx.technology/address/0x9B36f165baB9ebe611d491180418d8De4b8f3a1f&amp;sa=D&amp;source=editors&amp;ust=1684486355657434&amp;usg=AOvVaw38gpCaAuOnfgW5baeduTCy">0x9B36f165baB9ebe611d491180418d8De4b8f3a1f</a></td></tr>
<tr><td>Shiden</td><td><a href="https://www.google.com/url?q=https://shiden.subscan.io/address/0x841ce48F9446C8E281D3F1444cB859b4A6D0738C&amp;sa=D&amp;source=editors&amp;ust=1684486355657508&amp;usg=AOvVaw3KnyMCnZgsay3pVosObMC5">0x841ce48F9446C8E281D3F1444cB859b4A6D0738C</a></td></tr>
<tr><td>zkSync Era</td><td><a href="https://explorer.zksync.io/address/0x54069e96C4247b37C2fbd9559CA99f08CD1CD66c">0x54069e96C4247b37C2fbd9559CA99f08CD1CD66c</a></td></tr>
<tr><td>Oasis Sapphire</td><td><a href="https://explorer.sapphire.oasis.io/address/0x9B36f165baB9ebe611d491180418d8De4b8f3a1f">0x9B36f165baB9ebe611d491180418d8De4b8f3a1f</a></td></tr>
<tr><td>Scroll Mainnet</td><td><a href="https://blockscout.scroll.io/address/0x9B36f165baB9ebe611d491180418d8De4b8f3a1f">0x9B36f165baB9ebe611d491180418d8De4b8f3a1f</a></td></tr>
<tr><td>Manta Pacific Mainnet</td><td><a href="https://manta-pacific.calderaexplorer.xyz/address/0x9B36f165baB9ebe611d491180418d8De4b8f3a1f/contracts#address-tabs">0x9B36f165baB9ebe611d491180418d8De4b8f3a1f</a></td></tr>
<tr><td>Base</td><td><a href="https://basescan.org/address/0x7d43AABC515C356145049227CeE54B608342c0ad#code">0x7d43AABC515C356145049227CeE54B608342c0ad</a></td></tr>
<tr><td>opBNB</td><td><a href="https://opbnbscan.com/address/0xf5C6825015280CdfD0b56903F9F8B5A2233476F5?tab=transaction&amp;p=1">0xf5C6825015280CdfD0b56903F9F8B5A2233476F5</a></td></tr>
<tr><td>Blast</td><td><a href="https://blastscan.io/address/0x841ce48F9446C8E281D3F1444cB859b4A6D0738C#code">0x841ce48F9446C8E281D3F1444cB859b4A6D0738C</a></td></tr>
<tr><td>Xterio</td><td><a href="https://bnb.xterscan.io/address/0x9B36f165baB9ebe611d491180418d8De4b8f3a1f">0x9B36f165baB9ebe611d491180418d8De4b8f3a1f</a></td></tr>
<tr><td>Gravity Alpha</td><td><a href="https://explorer.gravity.xyz/address/0x9B36f165baB9ebe611d491180418d8De4b8f3a1f">0x9B36f165baB9ebe611d491180418d8De4b8f3a1f</a></td></tr>
<tr><td>HyperEVM</td><td><a href="https://hyperevmscan.io/address/0x9Bb46D5100d2Db4608112026951c9C965b233f4D">0x9Bb46D5100d2Db4608112026951c9C965b233f4D</a></td></tr>
<tr><td>Unichain</td><td><a href="https://uniscan.xyz/address/0xf39e2D6f40EEeFbec021BaDC6ef5a4F201F5dC4a">0xf39e2D6f40EEeFbec021BaDC6ef5a4F201F5dC4a</a></td></tr>
<tr><td>Redbelly</td><td><a href="https://redbelly.routescan.io/address/0x9B36f165baB9ebe611d491180418d8De4b8f3a1f">0x9B36f165baB9ebe611d491180418d8De4b8f3a1f</a></td></tr>
<tr><td>Plasma</td><td><a href="https://plasmascan.to/address/0x9B36f165baB9ebe611d491180418d8De4b8f3a1f">0x9B36f165baB9ebe611d491180418d8De4b8f3a1f</a></td></tr>
<tr><td>TAC Mainnet</td><td><a href="https://explorer.tac.build/address/0xf39e2D6f40EEeFbec021BaDC6ef5a4F201F5dC4a">0xf39e2D6f40EEeFbec021BaDC6ef5a4F201F5dC4a</a></td></tr>
</tbody>
</table>

<h3 id="originaltokenvault-contract-canonical-token-bridge"><a class="header" href="#originaltokenvault-contract-canonical-token-bridge">OriginalTokenVault Contract (canonical token bridge)</a></h3>
<table data-header-hidden="">
<thead>
<tr><th width="216"></th><th></th></tr>
</thead>
<tbody>
<tr><td>Arbitrum One</td><td><a href="https://www.google.com/url?q=https://arbiscan.io/address/0xFe31bFc4f7C9b69246a6dc0087D91a91Cb040f76&amp;sa=D&amp;source=editors&amp;ust=1684486179452122&amp;usg=AOvVaw1RdgL10zDnax1Xp5_ujSrb">0xFe31bFc4f7C9b69246a6dc0087D91a91Cb040f76</a></td></tr>
<tr><td>Astar</td><td><a href="https://www.google.com/url?q=https://blockscout.com/astar/address/0xbCfeF6Bb4597e724D720735d32A9249E0640aA11&amp;sa=D&amp;source=editors&amp;ust=1684486179452419&amp;usg=AOvVaw0Yr6-wtayEstUAPqfqeayA">0xbCfeF6Bb4597e724D720735d32A9249E0640aA11</a></td></tr>
<tr><td>Avalanche</td><td><a href="https://www.google.com/url?q=https://snowtrace.io/address/0x5427FEFA711Eff984124bFBB1AB6fbf5E3DA1820&amp;sa=D&amp;source=editors&amp;ust=1684486179452584&amp;usg=AOvVaw0bb0YwTekmrbreetbxjhle">0x5427FEFA711Eff984124bFBB1AB6fbf5E3DA1820</a></td></tr>
<tr><td>BNB Chain</td><td><a href="https://www.google.com/url?q=https://bscscan.com/address/0x78bc5Ee9F11d133A08b331C2e18fE81BE0Ed02DC&amp;sa=D&amp;source=editors&amp;ust=1684486179452700&amp;usg=AOvVaw08CW6MXuvA7f2OUdeR6fxR">0x78bc5Ee9F11d133A08b331C2e18fE81BE0Ed02DC</a></td></tr>
<tr><td>Boba Network</td><td><a href="https://www.google.com/url?q=https://blockexplorer.boba.network/address/0x8db213bE5268a2b8B78Af08468ff1EA422073Da0&amp;sa=D&amp;source=editors&amp;ust=1684486179452815&amp;usg=AOvVaw2roxAJ_WJxYG_eg8mRUh2G">0x8db213bE5268a2b8B78Af08468ff1EA422073Da0</a></td></tr>
<tr><td>Ethereum Mainnet</td><td><a href="https://www.google.com/url?q=https://etherscan.io/address/0xB37D31b2A74029B5951a2778F959282E2D518595&amp;sa=D&amp;source=editors&amp;ust=1684486179452922&amp;usg=AOvVaw2y9HBUdTwuc_0RT6tF9GpY">0xB37D31b2A74029B5951a2778F959282E2D518595</a></td></tr>
<tr><td>Fantom</td><td><a href="https://www.google.com/url?q=https://ftmscan.com/address/0x7D91603E79EA89149BAf73C9038c51669D8F03E9&amp;sa=D&amp;source=editors&amp;ust=1684486179453030&amp;usg=AOvVaw2eBGtXrJBypo6fIjmITt0g">0x7D91603E79EA89149BAf73C9038c51669D8F03E9</a></td></tr>
<tr><td>Optimism</td><td><a href="https://www.google.com/url?q=https://optimistic.etherscan.io/address/0xbCfeF6Bb4597e724D720735d32A9249E0640aA11&amp;sa=D&amp;source=editors&amp;ust=1684486179453354&amp;usg=AOvVaw3sfcumHUuOQaTrqjFbdLql">0xbCfeF6Bb4597e724D720735d32A9249E0640aA11</a></td></tr>
<tr><td>Polygon PoS</td><td><a href="https://www.google.com/url?q=https://polygonscan.com/address/0xc1a2D967DfAa6A10f3461bc21864C23C1DD51EeA&amp;sa=D&amp;source=editors&amp;ust=1684486179453457&amp;usg=AOvVaw220qAnb58oetT2a6-PA5i7">0xc1a2D967DfAa6A10f3461bc21864C23C1DD51EeA</a></td></tr>
<tr><td>Shiden</td><td><a href="https://www.google.com/url?q=https://shiden.subscan.io/address/0xBB7684Cc5408F4DD0921E5c2Cadd547b8f1AD573&amp;sa=D&amp;source=editors&amp;ust=1684486179453561&amp;usg=AOvVaw3c6vO__lwuf2O5bA2Ofevw">0xBB7684Cc5408F4DD0921E5c2Cadd547b8f1AD573</a></td></tr>
</tbody>
</table>

<h3 id="originaltokenvault-v2-contract-canonical-token-bridge"><a class="header" href="#originaltokenvault-v2-contract-canonical-token-bridge">OriginalTokenVault V2 Contract (canonical token bridge)</a></h3>
<table data-header-hidden="">
<thead>
<tr><th width="216"></th><th></th></tr>
</thead>
<tbody>
<tr><td>Ape Chain</td><td><a href="https://www.google.com/url?q=https://explorer.bas.metaapesgame.com/address/0x9Bb46D5100d2Db4608112026951c9C965b233f4D&amp;sa=D&amp;source=editors&amp;ust=1684486556281568&amp;usg=AOvVaw1fxnPY18Ne637PssaVBJ-h">0x9Bb46D5100d2Db4608112026951c9C965b233f4D</a></td></tr>
<tr><td>Arbitrum One</td><td><a href="https://www.google.com/url?q=https://arbiscan.io/address/0xEA4B1b0aa3C110c55f650d28159Ce4AD43a4a58b&amp;sa=D&amp;source=editors&amp;ust=1684486556281745&amp;usg=AOvVaw0JouO5zILuDVL24UPQsFTk">0xEA4B1b0aa3C110c55f650d28159Ce4AD43a4a58b</a></td></tr>
<tr><td>Astar</td><td><a href="https://blockscout.com/astar/address/0x243F56Bad0170a6c050a91925245AD8360350108">0x243F56Bad0170a6c050a91925245AD8360350108</a></td></tr>
<tr><td>Aurora</td><td><a href="https://www.google.com/url?q=https://explorer.mainnet.aurora.dev/address/0xbCfeF6Bb4597e724D720735d32A9249E0640aA11&amp;sa=D&amp;source=editors&amp;ust=1684486556281835&amp;usg=AOvVaw0k2K5oJLCPw-W7llo0mt9T">0xbCfeF6Bb4597e724D720735d32A9249E0640aA11</a></td></tr>
<tr><td>Avalanche</td><td><a href="https://www.google.com/url?q=https://snowtrace.io/address/0xb51541df05DE07be38dcfc4a80c05389A54502BB&amp;sa=D&amp;source=editors&amp;ust=1684486556281918&amp;usg=AOvVaw0nnAzFZswP6agXHpZ1s_Wd">0xb51541df05DE07be38dcfc4a80c05389A54502BB</a></td></tr>
<tr><td>BNB Chain</td><td><a href="https://www.google.com/url?q=https://bscscan.com/address/0x11a0c9270D88C99e221360BCA50c2f6Fda44A980&amp;sa=D&amp;source=editors&amp;ust=1684486556281998&amp;usg=AOvVaw2NSfuAQpQL3WxgDlgmBJuj">0x11a0c9270D88C99e221360BCA50c2f6Fda44A980</a></td></tr>
<tr><td>Boba Network</td><td><a href="https://www.google.com/url?q=https://blockexplorer.boba.network/address/0x4C882ec256823eE773B25b414d36F92ef58a7c0C&amp;sa=D&amp;source=editors&amp;ust=1684486556282076&amp;usg=AOvVaw2W3A389fsl0cG3MUhgj7gM">0x4C882ec256823eE773B25b414d36F92ef58a7c0C</a></td></tr>
<tr><td>Canto</td><td><a href="https://evm.explorer.canto.io/address/0x1a0aEc0fC48F1B5cc538BE74A90E340b278189e4">0xD33289644740eF5F488b0270f812F7B18B500935</a></td></tr>
<tr><td>Ethereum Mainnet</td><td><a href="https://etherscan.io/address/0x7510792A3B1969F9307F3845CE88e39578f2bAE1">0x7510792A3B1969F9307F3845CE88e39578f2bAE1</a></td></tr>
<tr><td>Filecoin EVM</td><td>0x7d2db35cd885f10e73ef367d56bf43b617b740db</td></tr>
<tr><td>Milkomeda Cardano</td><td><a href="https://www.google.com/url?q=https://explorer-mainnet-cardano-evm.c1.milkomeda.com/address/0xb51541df05DE07be38dcfc4a80c05389A54502BB&amp;sa=D&amp;source=editors&amp;ust=1684486556282243&amp;usg=AOvVaw2b6JfwgeXuBJd4VDQikuXI">0xb51541df05DE07be38dcfc4a80c05389A54502BB</a></td></tr>
<tr><td>Polygon PoS</td><td><a href="https://www.google.com/url?q=https://polygonscan.com/address/0x4C882ec256823eE773B25b414d36F92ef58a7c0C&amp;sa=D&amp;source=editors&amp;ust=1684486556282326&amp;usg=AOvVaw0AkGvtXXzEGaGqvFnRSIh5">0x4C882ec256823eE773B25b414d36F92ef58a7c0C</a></td></tr>
<tr><td>Optimism</td><td>0x6e380ad5D15249eF2DE576E3189fc49B5713BE4f</td></tr>
<tr><td>Injective</td><td>
<p>inj15cs5enz5tgalh9uc2xcfm6ldg0cjf0mp6axm6f /</p>
<p>0xa6214ccc545a3bfb979851b09debed43f124bf61</p>
</td></tr>
<tr><td>Oasys Hub</td><td>0xAbFFc70d4434D374c85B10860A8Be1851c0b838c</td></tr>
<tr><td>Arbitrum Nova</td><td><a href="https://nova.arbiscan.io/address/0x4b8904945967fa7148B6F9677c2855081e2e8166#code">0x4b8904945967fa7148B6F9677c2855081e2e8166</a></td></tr>
<tr><td>Gravity Alpha</td><td><a href="https://explorer.gravity.xyz/address/0xf5C6825015280CdfD0b56903F9F8B5A2233476F5">0x7d43AABC515C356145049227CeE54B608342c0ad</a></td></tr>
<tr><td>HyperEVM</td><td><a href="https://hyperevmscan.io/address/0x7d43AABC515C356145049227CeE54B608342c0ad">0x7d43AABC515C356145049227CeE54B608342c0ad</a></td></tr>
<tr><td>Redbelly</td><td><a href="https://redbelly.routescan.io/address/0x9Bb46D5100d2Db4608112026951c9C965b233f4D">0x9Bb46D5100d2Db4608112026951c9C965b233f4D</a></td></tr>
<tr><td>TAC Mainnet</td><td><a href="https://explorer.tac.build/address/0xb49c498B7d68cA37c65A399307AB0DECC8951e9d">0xb49c498B7d68cA37c65A399307AB0DECC8951e9d</a></td></tr>
</tbody>
</table>

<h3 id="peggedtokenbridge-contract-canonical-token-bridge"><a class="header" href="#peggedtokenbridge-contract-canonical-token-bridge">PeggedTokenBridge Contract (canonical token bridge)</a></h3>
<table data-header-hidden="">
<thead>
<tr><th width="216"></th><th></th><th data-hidden=""></th></tr>
</thead>
<tbody>
<tr><td>Arbitrum One</td><td><a href="https://www.google.com/url?q=https://arbiscan.io/address/0xbdd2739AE69A054895Be33A22b2D2ed71a1DE778&amp;sa=D&amp;source=editors&amp;ust=1684486645989713&amp;usg=AOvVaw31uEShQQwEGNNOXnE0WP9b">0xbdd2739AE69A054895Be33A22b2D2ed71a1DE778</a></td><td></td></tr>
<tr><td>Astar</td><td><a href="https://www.google.com/url?q=https://blockscout.com/astar/address/0xBB7684Cc5408F4DD0921E5c2Cadd547b8f1AD573&amp;sa=D&amp;source=editors&amp;ust=1684486645989984&amp;usg=AOvVaw3gjeb-J97XzHtfx8ct-LrW">0xBB7684Cc5408F4DD0921E5c2Cadd547b8f1AD573</a></td><td></td></tr>
<tr><td>Aurora</td><td><a href="https://www.google.com/url?q=https://explorer.mainnet.aurora.dev/address/0x4384d5a9D7354C65cE3aee411337bd40493Ad1bC&amp;sa=D&amp;source=editors&amp;ust=1684486645990140&amp;usg=AOvVaw2ZGuoSCGn7Nn3cbHVcow_E">0x4384d5a9D7354C65cE3aee411337bd40493Ad1bC</a></td><td></td></tr>
<tr><td>Avalanche</td><td><a href="https://www.google.com/url?q=https://snowtrace.io/address/0x88DCDC47D2f83a99CF0000FDF667A468bB958a78&amp;sa=D&amp;source=editors&amp;ust=1684486645990287&amp;usg=AOvVaw2w15AB6rpDc7brwNEhRSfP">0x88DCDC47D2f83a99CF0000FDF667A468bB958a78</a></td><td></td></tr>
<tr><td>BNB Chain</td><td><a href="https://www.google.com/url?q=https://bscscan.com/address/0xd443FE6bf23A4C9B78312391A30ff881a097580E&amp;sa=D&amp;source=editors&amp;ust=1684486645990434&amp;usg=AOvVaw0mDirWPbdjnqXYfMtMwr8i">0xd443FE6bf23A4C9B78312391A30ff881a097580E</a></td><td></td></tr>
<tr><td>Boba Network</td><td><a href="https://www.google.com/url?q=https://blockexplorer.boba.network/address/0xC5Ef662b833De914B9bA7a3532C6BB008a9b23a6&amp;sa=D&amp;source=editors&amp;ust=1684486645990584&amp;usg=AOvVaw32aNcpQ0V8FLBthzBkwh_M">0xC5Ef662b833De914B9bA7a3532C6BB008a9b23a6</a></td><td></td></tr>
<tr><td>Ethereum Mainnet</td><td><a href="https://www.google.com/url?q=https://etherscan.io/address/0x16365b45EB269B5B5dACB34B4a15399Ec79b95eB&amp;sa=D&amp;source=editors&amp;ust=1684486645990885&amp;usg=AOvVaw3gQN_qbnEqCJbMk_iR3sGL">0x16365b45EB269B5B5dACB34B4a15399Ec79b95eB</a></td><td></td></tr>
<tr><td>Fantom</td><td><a href="https://www.google.com/url?q=https://ftmscan.com/address/0x38D1e20B0039bFBEEf4096be00175227F8939E51&amp;sa=D&amp;source=editors&amp;ust=1684486645991039&amp;usg=AOvVaw2YVdBErboqeU_-3h7saOp-">0x38D1e20B0039bFBEEf4096be00175227F8939E51</a></td><td></td></tr>
<tr><td>Gnosis Chain</td><td><a href="https://www.google.com/url?q=https://blockscout.com/xdai/mainnet/address/0xd4c058380D268d85bC7c758072f561e8f2dB5975&amp;sa=D&amp;source=editors&amp;ust=1684486645991177&amp;usg=AOvVaw2ah61wiI6vgr_cmVvSsf05">0xd4c058380D268d85bC7c758072f561e8f2dB5975</a></td><td></td></tr>
<tr><td>Harmony</td><td><a href="https://www.google.com/url?q=https://explorer.harmony.one/address/0xdd90E5E87A2081Dcf0391920868eBc2FFB81a1aF&amp;sa=D&amp;source=editors&amp;ust=1684486645991323&amp;usg=AOvVaw3Z2krZBgR_s0ZSSf6QHXwd">0xdd90E5E87A2081Dcf0391920868eBc2FFB81a1aF</a></td><td></td></tr>
<tr><td>Metis Mainnet</td><td><a href="https://www.google.com/url?q=https://andromeda-explorer.metis.io/address/0x3bbaDFf9aeee4a74D3Cf6da05C30868C9Ff85BB8&amp;sa=D&amp;source=editors&amp;ust=1684486645991599&amp;usg=AOvVaw1UMbC-kq9vbimqO2Jdc6nD">0x3bbaDFf9aeee4a74D3Cf6da05C30868C9Ff85BB8</a></td><td></td></tr>
<tr><td>Milkomeda Cardano</td><td><a href="https://www.google.com/url?q=https://explorer-mainnet-cardano-evm.c1.milkomeda.com/address/0xBB7684Cc5408F4DD0921E5c2Cadd547b8f1AD573&amp;sa=D&amp;source=editors&amp;ust=1684486645991738&amp;usg=AOvVaw3UapZpLtLH03ioi_WdHXrl">0xBB7684Cc5408F4DD0921E5c2Cadd547b8f1AD573</a></td><td></td></tr>
<tr><td>Moonbeam</td><td><a href="https://www.google.com/url?q=https://moonbeam.moonscan.io/address/0xBB7684Cc5408F4DD0921E5c2Cadd547b8f1AD573&amp;sa=D&amp;source=editors&amp;ust=1684486645991885&amp;usg=AOvVaw14-vshQAMmunUHJnsQoISp">0xBB7684Cc5408F4DD0921E5c2Cadd547b8f1AD573</a></td><td></td></tr>
<tr><td>Moonriver</td><td><a href="https://www.google.com/url?q=https://moonriver.moonscan.io/address/0x374B8a9f3eC5eB2D97ECA84Ea27aCa45aa1C57EF&amp;sa=D&amp;source=editors&amp;ust=1684486645992023&amp;usg=AOvVaw2agqxzLi-Bw7k0YzvXV7jq">0x374B8a9f3eC5eB2D97ECA84Ea27aCa45aa1C57EF</a></td><td></td></tr>
<tr><td>Oasis Emerald</td><td><a href="https://www.google.com/url?q=https://explorer.emerald.oasis.dev/address/0xBB7684Cc5408F4DD0921E5c2Cadd547b8f1AD573&amp;sa=D&amp;source=editors&amp;ust=1684486645992299&amp;usg=AOvVaw1aILiAtbgiT3F8CwZH73Xn">0xBB7684Cc5408F4DD0921E5c2Cadd547b8f1AD573</a></td><td></td></tr>
<tr><td>Optimism</td><td><a href="https://www.google.com/url?q=https://optimistic.etherscan.io/address/0x61f85fF2a2f4289Be4bb9B72Fc7010B3142B5f41&amp;sa=D&amp;source=editors&amp;ust=1684486645992439&amp;usg=AOvVaw1V4cYOej5N2yJlnGaTBByG">0x61f85fF2a2f4289Be4bb9B72Fc7010B3142B5f41</a></td><td></td></tr>
<tr><td>Polygon PoS</td><td><a href="https://www.google.com/url?q=https://polygonscan.com/address/0x4d58FDC7d0Ee9b674F49a0ADE11F26C3c9426F7A&amp;sa=D&amp;source=editors&amp;ust=1684486645992583&amp;usg=AOvVaw3jFRJSXQnloM-T6y7ZWAQ5">0x4d58FDC7d0Ee9b674F49a0ADE11F26C3c9426F7A</a></td><td></td></tr>
<tr><td>Milkomeda Cardano</td><td><a href="https://www.google.com/url?q=https://explorer-mainnet-cardano-evm.c1.milkomeda.com/address/0x3b53D2C7B44d40BE05Fa5E2309FFeB6eB2492d88&amp;sa=D&amp;source=editors&amp;ust=1684486645992721&amp;usg=AOvVaw2jlTM2Z3UaWpQ7_pVSgY9d">0x3b53D2C7B44d40BE05Fa5E2309FFeB6eB2492d88</a></td><td></td></tr>
<tr><td>Moonbeam</td><td><a href="https://www.google.com/url?q=https://moonbeam.moonscan.io/address/0xBB7684Cc5408F4DD0921E5c2Cadd547b8f1AD573&amp;sa=D&amp;source=editors&amp;ust=1684486645992868&amp;usg=AOvVaw3NotGxCiyd8wVMK6LWid3c">0xBB7684Cc5408F4DD0921E5c2Cadd547b8f1AD573</a></td><td></td></tr>
<tr><td>Moonriver</td><td><a href="https://www.google.com/url?q=https://moonriver.moonscan.io/address/0x374B8a9f3eC5eB2D97ECA84Ea27aCa45aa1C57EF&amp;sa=D&amp;source=editors&amp;ust=1684486645993013&amp;usg=AOvVaw2NlUQctBVsEwiMBkFY821e">0x374B8a9f3eC5eB2D97ECA84Ea27aCa45aa1C57EF</a></td><td></td></tr>
<tr><td>Nervos Godwoken</td><td><a href="https://www.google.com/url?q=https://gw-mainnet-explorer.nervosdao.community/address/0xb3833Ecd19D4Ff964fA7bc3f8aC070ad5e360E56&amp;sa=D&amp;source=editors&amp;ust=1684486645993152&amp;usg=AOvVaw1caB9RJCPGVkRwgHFmdFn8">0xb3833Ecd19D4Ff964fA7bc3f8aC070ad5e360E56</a></td><td></td></tr>
<tr><td>Oasis Emerald</td><td><a href="https://www.google.com/url?q=https://explorer.emerald.oasis.dev/address/0xBB7684Cc5408F4DD0921E5c2Cadd547b8f1AD573&amp;sa=D&amp;source=editors&amp;ust=1684486645993437&amp;usg=AOvVaw0Du11ZR-2x8bUx4JZVVGS_">0xBB7684Cc5408F4DD0921E5c2Cadd547b8f1AD573</a></td><td></td></tr>
<tr><td>PlatON</td><td><a href="https://www.google.com/url?q=https://scan.platon.network/address/0xD340BC3Ec35e63BcF929C5A9ad3AE5B1EBDbE678&amp;sa=D&amp;source=editors&amp;ust=1684486645993861&amp;usg=AOvVaw0vB4-2ApqjRRtDhc6EhWhP">0xD340BC3Ec35e63BcF929C5A9ad3AE5B1EBDbE678</a></td><td></td></tr>
<tr><td>SX Network</td><td><a href="https://www.google.com/url?q=https://explorer.sx.technology/address/0x9Bb46D5100d2Db4608112026951c9C965b233f4D&amp;sa=D&amp;source=editors&amp;ust=1684486645994270&amp;usg=AOvVaw154PmhV9mdodYelGmbKnt9">0x9Bb46D5100d2Db4608112026951c9C965b233f4D</a></td><td></td></tr>
</tbody>
</table>

<h3 id="peggedtokenbridge-v2-contract"><a class="header" href="#peggedtokenbridge-v2-contract">PeggedTokenBridge V2 Contract</a></h3>
<table data-header-hidden="">
<thead>
<tr><th width="218"></th><th></th></tr>
</thead>
<tbody>
<tr><td>Antimatter B2</td><td><a href="https://b2-explorer.antimatter.finance/address/0xa7C9FeDe809b6af10dC52590804c69F40f6f8154">0xa7C9FeDe809b6af10dC52590804c69F40f6f8154</a></td></tr>
<tr><td>Astar</td><td><a href="https://www.google.com/url?q=https://blockscout.com/astar/address/0x3b53D2C7B44d40BE05Fa5E2309FFeB6eB2492d88&amp;sa=D&amp;source=editors&amp;ust=1684486644282761&amp;usg=AOvVaw1xugm1o29dNtSnZUa9cJf0">0x3b53D2C7B44d40BE05Fa5E2309FFeB6eB2492d88</a></td></tr>
<tr><td>Arbitrum One</td><td><a href="https://arbiscan.io/address/0xc72e7fC220e650e93495622422F3c14fb03aAf6B">0xc72e7fC220e650e93495622422F3c14fb03aAf6B</a></td></tr>
<tr><td>Aurora</td><td><a href="https://www.google.com/url?q=https://explorer.mainnet.aurora.dev/address/0xbdd2739AE69A054895Be33A22b2D2ed71a1DE778&amp;sa=D&amp;source=editors&amp;ust=1684486644282986&amp;usg=AOvVaw2eQoFODbNih0qS1hgy27m5">0xbdd2739AE69A054895Be33A22b2D2ed71a1DE778</a></td></tr>
<tr><td>Avalanche</td><td><a href="https://www.google.com/url?q=https://snowtrace.io/address/0xb774C6f82d1d5dBD36894762330809e512feD195&amp;sa=D&amp;source=editors&amp;ust=1684486644283126&amp;usg=AOvVaw012Ii6kNKSDnPaCvRT3tmj">0xb774C6f82d1d5dBD36894762330809e512feD195</a></td></tr>
<tr><td>BNB Chain</td><td><a href="https://www.google.com/url?q=https://bscscan.com/address/0x26c76F7FeF00e02a5DD4B5Cc8a0f717eB61e1E4b&amp;sa=D&amp;source=editors&amp;ust=1684486644283270&amp;usg=AOvVaw2Y_93tWLn7_oAglatkip6W">0x26c76F7FeF00e02a5DD4B5Cc8a0f717eB61e1E4b</a></td></tr>
<tr><td>Canto</td><td><a href="https://evm.explorer.canto.io/address/0xa7C9FeDe809b6af10dC52590804c69F40f6f8154">0xa7C9FeDe809b6af10dC52590804c69F40f6f8154</a></td></tr>
<tr><td>Conflux</td><td><a href="https://www.google.com/url?q=https://evm.confluxscan.net/address/0x3b53D2C7B44d40BE05Fa5E2309FFeB6eB2492d88&amp;sa=D&amp;source=editors&amp;ust=1684486644283551&amp;usg=AOvVaw2fARD09-5BSQX7a0QWLN3i">0x3b53D2C7B44d40BE05Fa5E2309FFeB6eB2492d88</a></td></tr>
<tr><td>Ethereum Mainnet</td><td><a href="https://www.google.com/url?q=https://etherscan.io/address/0x52E4f244f380f8fA51816c8a10A63105dd4De084&amp;sa=D&amp;source=editors&amp;ust=1684486644283816&amp;usg=AOvVaw1To6vh0QK1nYaOwazR18wY">0x52E4f244f380f8fA51816c8a10A63105dd4De084</a></td></tr>
<tr><td>Evmos</td><td><a href="https://www.google.com/url?q=https://evm.evmos.org/address/0xC1d6E421a062Fdbb26C31Db4a2113dF0F678CD04&amp;sa=D&amp;source=editors&amp;ust=1684486644283944&amp;usg=AOvVaw1TDxL2Kajjd3N4K4Ji4sQG">0xC1d6E421a062Fdbb26C31Db4a2113dF0F678CD04</a></td></tr>
<tr><td>Fantom</td><td><a href="https://www.google.com/url?q=https://ftmscan.com/address/0x30F7Aa65d04d289cE319e88193A33A8eB1857fb9&amp;sa=D&amp;source=editors&amp;ust=1684486644284076&amp;usg=AOvVaw0GkGTI7AmORw92XRd0YoXZ">0x30F7Aa65d04d289cE319e88193A33A8eB1857fb9</a></td></tr>
<tr><td>Filecoin EVM</td><td><a href="https://filfox.info/en/address/0xa7c9fede809b6af10dc52590804c69f40f6f8154">0xa7c9fede809b6af10dc52590804c69f40f6f8154</a></td></tr>
<tr><td>Kava EVM Co-Chain</td><td><a href="https://www.google.com/url?q=https://explorer.kava.io/address/0xF8Bf9988206c4de87F52A3c24486E4367B7088CB&amp;sa=D&amp;source=editors&amp;ust=1684486644284341&amp;usg=AOvVaw0bT8c3nymr1svu8sgKOIps">0xF8Bf9988206c4de87F52A3c24486E4367B7088CB</a></td></tr>
<tr><td>Klaytn</td><td><a href="https://www.google.com/url?q=https://www.klaytnfinder.io/address/0xb3833Ecd19D4Ff964fA7bc3f8aC070ad5e360E56&amp;sa=D&amp;source=editors&amp;ust=1684486644284480&amp;usg=AOvVaw39jkZdXtf5FQN0pf5kVFxY">0xb3833Ecd19D4Ff964fA7bc3f8aC070ad5e360E56</a></td></tr>
<tr><td>Linea</td><td><a href="https://lineascan.build/address/0x9bb46d5100d2db4608112026951c9c965b233f4d#code">0x9Bb46D5100d2Db4608112026951c9C965b233f4D</a></td></tr>
<tr><td>Metis Mainnet</td><td><a href="https://www.google.com/url?q=https://andromeda-explorer.metis.io/address/0xb3833Ecd19D4Ff964fA7bc3f8aC070ad5e360E56&amp;sa=D&amp;source=editors&amp;ust=1684486644284638&amp;usg=AOvVaw2mKa6ITlwrLHqRsxoxQ5pD">0xb3833Ecd19D4Ff964fA7bc3f8aC070ad5e360E56</a></td></tr>
<tr><td>Milkomeda Cardano</td><td><a href="https://www.google.com/url?q=https://explorer-mainnet-cardano-evm.c1.milkomeda.com/address/0x3b53D2C7B44d40BE05Fa5E2309FFeB6eB2492d88&amp;sa=D&amp;source=editors&amp;ust=1684486644284795&amp;usg=AOvVaw1-7Xua68E9y6la5bWY6Dvo">0x3b53D2C7B44d40BE05Fa5E2309FFeB6eB2492d88</a></td></tr>
<tr><td>Moonbeam</td><td><a href="https://www.google.com/url?q=https://moonbeam.moonscan.io/address/0x3b53D2C7B44d40BE05Fa5E2309FFeB6eB2492d88&amp;sa=D&amp;source=editors&amp;ust=1684486644284924&amp;usg=AOvVaw1ues5qT7Q6Kd1tsqTcfqRn">0x3b53D2C7B44d40BE05Fa5E2309FFeB6eB2492d88</a></td></tr>
<tr><td>Moonriver</td><td><a href="https://moonriver.moonscan.io/address/0x0d71d18126e03646eb09fec929e2ae87b7cae69d">0x0d71d18126e03646eb09fec929e2ae87b7cae69d</a></td></tr>
<tr><td>Nervos Godwoken</td><td><a href="https://www.google.com/url?q=https://gw-mainnet-explorer.nervosdao.community/address/0xb3833Ecd19D4Ff964fA7bc3f8aC070ad5e360E56&amp;sa=D&amp;source=editors&amp;ust=1684486644285056&amp;usg=AOvVaw0BR1TvJPkS4bmJzF3QUmtQ">0xb3833Ecd19D4Ff964fA7bc3f8aC070ad5e360E56</a></td></tr>
<tr><td>Oasis Emerald</td><td><a href="https://www.google.com/url?q=https://explorer.emerald.oasis.dev/address/0x3b53D2C7B44d40BE05Fa5E2309FFeB6eB2492d88&amp;sa=D&amp;source=editors&amp;ust=1684486644285188&amp;usg=AOvVaw0iu0Y9r4eaiO-9e3zFQ76R">0x3b53D2C7B44d40BE05Fa5E2309FFeB6eB2492d88</a></td></tr>
<tr><td>Oasys</td><td><a href="https://explorer.oasys.games/address/0x5200000000000000000000000000000000000017">0x5200000000000000000000000000000000000017</a></td></tr>
<tr><td>Optimism</td><td><a href="https://optimistic.etherscan.io/address/0xC3c5B9474273113efB74e7Da43B5AAba0Cd9699A">0xC3c5B9474273113efB74e7Da43B5AAba0Cd9699A</a></td></tr>
<tr><td>PlatON</td><td><a href="https://www.google.com/url?q=https://scan.platon.network/address/0xD340BC3Ec35e63BcF929C5A9ad3AE5B1EBDbE678&amp;sa=D&amp;source=editors&amp;ust=1684486644285478&amp;usg=AOvVaw0z3ZoWbVUMwE-aole2NWtC">0xD340BC3Ec35e63BcF929C5A9ad3AE5B1EBDbE678</a></td></tr>
<tr><td>Polygon PoS</td><td><a href="https://www.google.com/url?q=https://polygonscan.com/address/0xb51541df05DE07be38dcfc4a80c05389A54502BB&amp;sa=D&amp;source=editors&amp;ust=1684486644285611&amp;usg=AOvVaw2N-tABCeCSZBUZZgr88_RV">0xb51541df05DE07be38dcfc4a80c05389A54502BB</a></td></tr>
<tr><td>SX Network</td><td><a href="https://www.google.com/url?q=https://explorer.sx.technology/address/0x9Bb46D5100d2Db4608112026951c9C965b233f4D&amp;sa=D&amp;source=editors&amp;ust=1684486644285893&amp;usg=AOvVaw1VWkyvWoW0Uf6eJXCRXDaC">0x9Bb46D5100d2Db4608112026951c9C965b233f4D</a></td></tr>
<tr><td>zkSync</td><td><a href="https://explorer.zksync.io/address/0x0D72Be73619e29A67fbD28348AC952288CC9ee46">0x0D72Be73619e29A67fbD28348AC952288CC9ee46</a></td></tr>
<tr><td>Oasis Sapphire</td><td><a href="https://explorer.sapphire.oasis.io/address/0xEF3967C8A80f6090D509f822Cf11C2F2795BE0C8">0xEF3967C8A80f6090D509f822Cf11C2F2795BE0C8</a></td></tr>
<tr><td>Manta Pacific Mainnet</td><td>0x9Bb46D5100d2Db4608112026951c9C965b233f4D</td></tr>
<tr><td>Base</td><td><a href="https://basescan.org/address/0x5471ea8f739dd37e9b81be9c5c77754d8aa953e4#code">0x5471ea8f739dd37E9B81Be9c5c77754D8AA953E4</a></td></tr>
<tr><td>Scroll</td><td><a href="http://scrollscan.com/address/0x2E8DD00e5793a316144CC77b59f80ACcF7cc41Ce#code">0x2E8DD00e5793a316144CC77b59f80ACcF7cc41Ce</a></td></tr>
<tr><td>X Layer</td><td>0xf5C6825015280CdfD0b56903F9F8B5A2233476F5</td></tr>
<tr><td>Gravity Alpha</td><td><a href="https://explorer.gravity.xyz/address/0x7d43AABC515C356145049227CeE54B608342c0ad">0x7d43AABC515C356145049227CeE54B608342c0ad</a></td></tr>
<tr><td>HyperEVM</td><td><a href="https://hyperevmscan.io/address/0xf5C6825015280CdfD0b56903F9F8B5A2233476F5">0xf5C6825015280CdfD0b56903F9F8B5A2233476F5</a></td></tr>
<tr><td>RedBelly</td><td><a href="https://redbelly.routescan.io/address/0xf5C6825015280CdfD0b56903F9F8B5A2233476F5">0xf5C6825015280CdfD0b56903F9F8B5A2233476F5</a></td></tr>
<tr><td>Plasma</td><td><a href="https://plasmascan.to/address/0x7d43AABC515C356145049227CeE54B608342c0ad">0x7d43AABC515C356145049227CeE54B608342c0ad</a></td></tr>
</tbody>
</table>

<h3 id="transfer-agent-contract"><a class="header" href="#transfer-agent-contract"><a href="https://github.com/celer-network/sgn-v2-contracts/blob/main/contracts/proxy/TransferAgent.sol">Transfer Agent</a> Contract</a></h3>
<table>
<thead>
<tr><th width="219">Chain</th><th>Contract Address</th></tr>
</thead>
<tbody>
<tr><td>Ethereum Mainnet</td><td><a href="https://etherscan.io/address/0x9b274BC73940d92d0Af292Bde759cbFCCE661a0b">0x9b274BC73940d92d0Af292Bde759cbFCCE661a0b</a></td></tr>
<tr><td>BNB Chain</td><td><a href="https://bscscan.com/address/0x3d85B598B734a0E7c8c1b62B00E972e9265dA541">0x3d85B598B734a0E7c8c1b62B00E972e9265dA541</a></td></tr>
</tbody>
</table>

<h2 id="token-address"><a class="header" href="#token-address">Token Address</a></h2>
<p>Please refer to the <a href="https://cbridge-analytics.celer.network/assets">assets page</a> for the token addresses listed in cBridge.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>


    </div>
    </body>
</html>
